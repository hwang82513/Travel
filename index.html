<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „ì£¼-êµ°ì‚°-ì„ ìœ ë„ 3ì¼ ì—¬í–‰ í”Œë˜ë„ˆ Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        /* ì‹œê°„ í‘œì‹œ ê°œì„  */
        .time-display {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .time-input {
            width: 90px;
            padding: 6px 10px;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            background: white;
            font-size: 16px;
            color: #1e40af;
        }
        
        .time-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        /* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ë ˆì´ì•„ì›ƒ ê°œì„  */
        .control-buttons {
            position: absolute;
            right: 10px;
            top: 10px;
            display: none;
            gap: 4px;
            z-index: 10;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .control-buttons-row {
            display: flex;
            gap: 4px;
        }
        
        .edit-mode .control-buttons {
            display: flex;
        }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ ê°œì„  */
        .control-button {
            font-weight: bold;
            font-size: 16px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .change-button {
            background-color: #3b82f6;
            color: white;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .change-button:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* ì˜µì…˜ í¸ì§‘ ë²„íŠ¼ ê°•ì¡° */
        .edit-options-btn {
            background-color: #8b5cf6;
            color: white;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .edit-options-btn:hover {
            background-color: #7c3aed;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* ì¼ì • ì¶”ê°€ ë²„íŠ¼ ê°œì„  */
        .add-module-btn {
            border: 3px dashed #3b82f6;
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 16px;
            border-radius: 12px;
            font-weight: bold;
            color: #1e40af;
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }
        
        .add-module-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .add-module-btn:hover::before {
            left: 100%;
        }
        
        .add-module-btn:hover {
            border-color: #1d4ed8;
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        /* ë¹ ë¥¸ ì¶”ê°€ ë²„íŠ¼ */
        .quick-add-buttons {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .quick-add-btn {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .quick-add-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .quick-add-food {
            background-color: #d1fae5;
            color: #065f46;
            border-color: #10b981;
        }
        
        .quick-add-tour {
            background-color: #fef3c7;
            color: #92400e;
            border-color: #f59e0b;
        }
        
        .quick-add-transport {
            background-color: #ede9fe;
            color: #5b21b6;
            border-color: #8b5cf6;
        }
        
        .quick-add-rest {
            background-color: #fee2e2;
            color: #991b1b;
            border-color: #ef4444;
        }
        
        /* ë©”ì¸ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ë“¤ */
        .main-control-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            color: white;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .main-control-btn.orange {
            background-color: #f97316;
        }
        
        .main-control-btn.orange:hover {
            background-color: #ea580c;
        }
        
        .main-control-btn.green {
            background-color: #10b981;
        }
        
        .main-control-btn.green:hover {
            background-color: #059669;
        }
        
        .main-control-btn.blue {
            background-color: #3b82f6;
        }
        
        .main-control-btn.blue:hover {
            background-color: #2563eb;
        }
        
        .main-control-btn.red {
            background-color: #ef4444;
        }
        
        .main-control-btn.red:hover {
            background-color: #dc2626;
        }
        
        .main-control-btn.purple {
            background-color: #8b5cf6;
        }
        
        .main-control-btn.purple:hover {
            background-color: #7c3aed;
        }
        
        .module-food { background: linear-gradient(135deg, #10b981, #059669); }
        .module-tour { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .module-hotel { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .module-transport { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .module-special { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .option-card {
            transition: all 0.2s ease-out;
            cursor: pointer;
            position: relative;
        }
        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .option-card.selected {
            border: 3px solid #10b981;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }
        
        .day-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .edit-mode {
            border: 3px dashed #f59e0b !important;
            background: rgba(251, 191, 36, 0.1) !important;
            padding-right: 100px !important;
        }
        
        .duration-badge {
            background: rgba(99, 102, 241, 0.1);
            color: #4f46e5;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        /* ì†Œìš”ì‹œê°„ ì…ë ¥ ìŠ¤íƒ€ì¼ ê°œì„  */
        .duration-input-wrapper {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            padding: 2px;
        }
        
        .duration-input {
            width: 50px;
            padding: 2px 4px;
            border: none;
            font-size: 12px;
            text-align: center;
            background: transparent;
        }
        
        .duration-input:focus {
            outline: none;
        }
        
        .duration-input-wrapper:focus-within {
            border-color: #3b82f6;
        }
        
        .duration-btn {
            background: #f3f4f6;
            border: none;
            padding: 2px 6px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 12px;
            color: #4b5563;
            transition: all 0.2s;
        }
        
        .duration-btn:hover {
            background: #e5e7eb;
            color: #1f2937;
        }
        
        .duration-btn:active {
            transform: scale(0.95);
        }
        
        .save-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            display: none;
            animation: fadeInOut 2s ease;
            z-index: 1000;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(20px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
        
        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
        }
        
        .editable {
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        
        .editable:hover {
            background: rgba(0,0,0,0.05);
        }
        
        .editable:focus {
            background: rgba(59, 130, 246, 0.1);
            outline: 2px solid #3b82f6;
        }
        
        input[type="checkbox"] {
            cursor: pointer;
        }
        
        input[type="checkbox"]:checked {
            accent-color: #10b981;
        }
        
        .control-buttons button:active {
            transform: scale(0.95);
        }
        
        .moving {
            opacity: 0.7;
            transform: scale(0.98);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        .nearby-badge {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* ëŒ€ì²´ì¼ì • ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .alternative-section {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            border: 2px dashed #9ca3af;
        }
        
        /* ì¼ì • ì´ë™ ë²„íŠ¼ */
        .move-to-day-btn {
            background-color: #10b981;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin: 0 2px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .move-to-day-btn:hover {
            background-color: #059669;
            transform: translateY(-1px);
        }
        
        .move-to-alternative-btn {
            background-color: #6b7280;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .move-to-alternative-btn:hover {
            background-color: #4b5563;
            transform: translateY(-1px);
        }
        
        /* í…œí”Œë¦¿ ì„ íƒ ëª¨ë‹¬ */
        .template-card {
            border: 2px solid #e5e7eb;
            padding: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 12px;
        }
        
        .template-card:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
            transform: translateY(-2px);
        }
        
        .template-card.selected {
            border-color: #3b82f6;
            background-color: #dbeafe;
        }
        
        /* ì˜µì…˜ í¸ì§‘ ëª¨ë‹¬ ìŠ¤í¬ë¡¤ ê°œì„  */
        .modal-content-scrollable {
            max-height: calc(90vh - 120px);
            overflow-y: auto;
            position: relative;
        }
        
        .modal-footer {
            position: sticky;
            bottom: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 16px;
            margin: -16px;
            margin-top: 16px;
        }

        /* ì¶”ê°€: ì§€ì—­ í‘œì‹œ ë°°ì§€ */
        .location-badge {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        /* ì¶”ê°€: ë³µìˆ˜ ì„ íƒ ëª¨ë“œ ìŠ¤íƒ€ì¼ */
        .multi-select-mode .option-item {
            position: relative;
            padding-left: 40px;
        }

        .option-checkbox {
            position: absolute;
            left: 12px;
            top: 20px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .selected-options-preview {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            padding: 12px;
            border-radius: 8px;
            margin-top: 8px;
            font-size: 14px;
            line-height: 1.6;
        }

        .selected-options-preview h5 {
            font-weight: bold;
            margin-bottom: 8px;
            color: #374151;
        }

        .selected-option-item {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .selected-option-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        /* ì˜µì…˜ ìˆœì„œ ë³€ê²½ ë²„íŠ¼ */
        .option-order-buttons {
            display: flex;
            gap: 4px;
        }
        
        .option-order-btn {
            background-color: #6b7280;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option-order-btn:hover {
            background-color: #4b5563;
        }
        
        .option-order-btn:active {
            transform: scale(0.95);
        }

        .option-order-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* ì ˆì•½ í•­ëª© ìŠ¤íƒ€ì¼ */
        .saving-items {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            padding: 8px;
            border-radius: 6px;
            margin-top: 8px;
        }

        .saving-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .saving-item input {
            flex: 1;
            padding: 4px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
        }

        .saving-item .amount-input {
            width: 80px;
            text-align: right;
        }

        /* ì¼ì°¨ ì¶”ê°€ ë²„íŠ¼ */
        .add-day-btn {
            background-color: #3b82f6;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .add-day-btn:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
        }

        /* ë¹„ìš© ì ˆì•½ ìš”ì•½ */
        .cost-summary {
            background: #fef3c7;
            border: 1px solid #fbbf24;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            margin-top: 8px;
        }

        .savings-summary {
            background: #d1fae5;
            border: 1px solid #10b981;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            margin-top: 8px;
        }
        
        @media (max-width: 640px) {
            .container { padding: 0.5rem; }
            .text-lg { font-size: 1rem; }
            .text-xl { font-size: 1.125rem; }
            .control-buttons { 
                position: static;
                margin-top: 8px;
                justify-content: flex-end;
            }
            .time-input { width: 80px; }
            .edit-mode {
                padding-right: 16px !important;
            }
            .quick-add-buttons {
                justify-content: center;
            }
            .modal-content-scrollable {
                max-height: calc(90vh - 100px);
            }
        }

        /* ì¶”ê°€: ëª¨ë‹¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ (ë¶€ë“œëŸ½ê³  ì‹œê°ì  ê°•ì¡°) */
        .modal-content-scrollable::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content-scrollable::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .modal-content-scrollable::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        .modal-content-scrollable::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }

        /* ì¶”ê°€: ëª¨ë°”ì¼ì—ì„œ ëª¨ë‹¬ íŒ¨ë”©/ë†’ì´ ì¡°ì • (ìŠ¤í¬ë¡¤ ì—¬ìœ  í™•ë³´) */
        @media (max-width: 640px) {
            .modal-content-scrollable {
                max-height: calc(90vh - 150px); /* í—¤ë”/í‘¸í„° ì—¬ìœ  ì¦ê°€ */
                padding-bottom: 20px; /* í•˜ë‹¨ ìŠ¤í¬ë¡¤ ì—¬ìœ  */
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto max-w-4xl p-4">
        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-800 mb-2 ${editMode ? 'editable' : ''}" 
                ${editMode ? 'contenteditable="true" onblur="updateMainTitle(this.textContent)"' : ''} id="mainTitle">
                <i class="fas fa-map-marked-alt text-blue-600"></i>
                ì „ì£¼-êµ°ì‚°-ì„ ìœ ë„ 3ì¼ ì—¬í–‰ í”Œë˜ë„ˆ Pro
            </h1>
            <p class="text-center text-gray-600 mb-4">í¸ì§‘ëª¨ë“œì—ì„œ ëª¨ë“  ë‚´ìš© ìˆ˜ì • ê°€ëŠ¥ â€¢ ìë™ ì‹œê°„ ê³„ì‚° â€¢ ì¸ì ‘ ê´€ê´‘ì§€ ì¶”ì²œ</p>
            
            <!-- ì—¬í–‰ ê°œìš” -->
            <div class="bg-blue-50 p-4 rounded-lg mb-4">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ“ ì—¬í–‰ ì½”ìŠ¤ ê°œìš”</h3>
                <div class="text-sm text-blue-800 space-y-1">
                    <p>â€¢ <strong>1ì¼ì°¨:</strong> ì „ì£¼ í•œì˜¥ë§ˆì„ ì¤‘ì‹¬ (ê²½ê¸°ì „, ì „ë™ì„±ë‹¹, ì˜¤ëª©ëŒ€) + ë‚¨ë¶€ì‹œì¥ ë¨¹ê±°ë¦¬ + ë§‰ê±¸ë¦¬ê³¨ëª©</p>
                    <p>â€¢ <strong>2ì¼ì°¨:</strong> ì „ì£¼â†’êµ°ì‚° ì´ë™, ê·¼ëŒ€ë¬¸í™”ìœ ì‚° (íˆë¡œì‹œê°€ì˜¥, ë™êµ­ì‚¬, ê¹€ì¹˜ì‚¬ì§„ê´€) + ì„ ìœ ë„ ì¼ëª° + ê¶ì „ê½ƒê²Œì¥</p>
                    <p>â€¢ <strong>3ì¼ì°¨:</strong> êµ°ì‚° ë§ˆë¬´ë¦¬ ê´€ê´‘ (ì´ì„±ë‹¹, ê²½ì•”ë™ì² ê¸¸ë§ˆì„) â†’ ìˆ˜ì› ë³µê·€</p>
                </div>
            </div>
            
            <!-- Stats Bar -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div class="bg-green-50 p-3 rounded-lg">
                    <div class="text-green-600 font-bold" id="totalSavings">â‚©0</div>
                    <div class="text-xs text-green-700" id="savingsCategories">íˆ¬ì–´íŒ¨ìŠ¤ ì ˆì•½</div>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg">
                    <div class="text-blue-600 font-bold" id="totalBudget">â‚©0</div>
                    <div class="text-xs text-blue-700">ì˜ˆìƒ ì´ ë¹„ìš©</div>
                </div>
                <div class="bg-purple-50 p-3 rounded-lg">
                    <div class="text-purple-600 font-bold" id="totalItems">31</div>
                    <div class="text-xs text-purple-700">ì „ì²´ ì¼ì •</div>
                </div>
                <div class="bg-orange-50 p-3 rounded-lg">
                    <div class="text-orange-600 font-bold" id="editedItems">0</div>
                    <div class="text-xs text-orange-700">ë³€ê²½ëœ í•­ëª©</div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="bg-white rounded-lg shadow-lg p-4 mb-6">
            <div class="flex flex-wrap gap-3 justify-center mb-4">
                <button onclick="toggleEditMode()" class="main-control-btn orange">
                    <i class="fas fa-edit"></i>
                    <span>í¸ì§‘ëª¨ë“œ</span>
                </button>
                <button onclick="saveSchedule()" class="main-control-btn green">
                    <i class="fas fa-save"></i>
                    <span>ì €ì¥</span>
                </button>
                <button onclick="exportSchedule()" class="main-control-btn blue">
                    <i class="fas fa-download"></i>
                    <span>ë‚´ë³´ë‚´ê¸°</span>
                </button>
                <button onclick="resetSchedule()" class="main-control-btn red">
                    <i class="fas fa-undo"></i>
                    <span>ì´ˆê¸°í™”</span>
                </button>
                <button onclick="recalculateAllTimes()" class="main-control-btn purple">
                    <i class="fas fa-clock"></i>
                    <span>ì‹œê°„ ì¬ê³„ì‚°</span>
                </button>
                <button onclick="addNewDay()" class="add-day-btn" style="display: none;" id="addDayBtn">
                    <i class="fas fa-plus-circle"></i>
                    <span>ì¼ì°¨ ì¶”ê°€</span>
                </button>
            </div>
            
            <!-- ìë™ ê³„ì‚° í† ê¸€ -->
            <div class="flex items-center justify-center gap-4 p-3 bg-gray-100 rounded-lg mb-4">
                <label class="flex items-center cursor-pointer">
                    <input type="checkbox" id="autoCalculate" class="mr-2 w-5 h-5" onchange="toggleAutoCalculate()">
                    <span class="font-medium text-gray-700">ğŸ”„ ì´ë™ ì‹œ ì‹œê°„ ìë™ ê³„ì‚°</span>
                </label>
                <span id="autoCalculateStatus" class="text-sm px-3 py-1 rounded-full bg-blue-100 text-blue-800">
                    ìë™ ê³„ì‚° ON
                </span>
            </div>
            
            <!-- Filter -->
            <div class="flex flex-wrap gap-2 justify-center">
                <button onclick="filterByType('all')" class="filter-btn px-3 py-1 bg-gray-200 rounded-full text-sm hover:bg-gray-300 transition-colors">ì „ì²´</button>
                <button onclick="filterByType('food')" class="filter-btn px-3 py-1 bg-green-200 rounded-full text-sm hover:bg-green-300 transition-colors">ğŸ½ï¸ ì‹ì‚¬</button>
                <button onclick="filterByType('tour')" class="filter-btn px-3 py-1 bg-yellow-200 rounded-full text-sm hover:bg-yellow-300 transition-colors">ğŸ›ï¸ ê´€ê´‘</button>
                <button onclick="filterByType('hotel')" class="filter-btn px-3 py-1 bg-blue-200 rounded-full text-sm hover:bg-blue-300 transition-colors">ğŸ¨ ìˆ™ë°•</button>
                <button onclick="filterByType('transport')" class="filter-btn px-3 py-1 bg-purple-200 rounded-full text-sm hover:bg-purple-300 transition-colors">ğŸš— ì´ë™</button>
            </div>
        </div>

        <!-- Schedule -->
        <div id="scheduleContainer">
            <!-- Days will be dynamically generated -->
        </div>

        <!-- Save Indicator -->
        <div class="save-indicator" id="saveIndicator">
            <i class="fas fa-check-circle mr-2"></i> ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
        </div>

        <!-- Modal for Options (ê°œì„ ëœ ìŠ¤í¬ë¡¤ êµ¬ì¡°) -->
        <div id="optionsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col">
                <div class="p-4 border-b sticky top-0 bg-white z-10">
                    <h3 class="text-lg font-bold" id="modalTitle">ì˜µì…˜ ì„ íƒ</h3>
                    <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="flex-1 overflow-hidden">
                    <div class="p-4">
                        <!-- ë³µìˆ˜ ì„ íƒ ëª¨ë“œ í† ê¸€ -->
                        <div class="mb-4 p-3 bg-blue-50 rounded-lg">
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" id="multiSelectMode" class="mr-2 w-5 h-5" onchange="toggleMultiSelectMode()">
                                <span class="font-medium text-gray-700">ë³µìˆ˜ ì„ íƒ ëª¨ë“œ (ì—¬ëŸ¬ ì˜µì…˜ì„ ë™ì‹œì— ì„ íƒ)</span>
                            </label>
                        </div>
                        <!-- ì„ íƒ ë²„íŠ¼ (ë³µìˆ˜ ì„ íƒ ëª¨ë“œì¼ ë•Œë§Œ í‘œì‹œ) -->
                        <div id="multiSelectControls" class="hidden mb-4 flex gap-2">
                            <button onclick="applySelectedOptions()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 font-bold">
                                <i class="fas fa-check mr-2"></i>ì„ íƒ ì™„ë£Œ
                            </button>
                            <button onclick="clearSelectedOptions()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                                <i class="fas fa-times mr-2"></i>ì„ íƒ ì·¨ì†Œ
                            </button>
                        </div>
                        <div class="modal-content-scrollable" id="modalContent"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Module Modal -->
        <div id="addModuleModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto">
                <div class="p-4 border-b sticky top-0 bg-white">
                    <h3 class="text-lg font-bold">ìƒˆ ì¼ì • ì¶”ê°€</h3>
                    <button onclick="closeAddModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-4">
                    <!-- í…œí”Œë¦¿ ì„ íƒ -->
                    <div class="mb-4" id="templateSection">
                        <label class="block text-sm font-medium mb-2">ë¹ ë¥¸ í…œí”Œë¦¿ ì„ íƒ</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectTemplate('meal')" class="template-card text-left">
                                <div class="font-bold text-green-600 mb-1">ğŸ½ï¸ ì‹ì‚¬</div>
                                <div class="text-xs text-gray-600">ì•„ì¹¨/ì ì‹¬/ì €ë…</div>
                            </button>
                            <button onclick="selectTemplate('tour')" class="template-card text-left">
                                <div class="font-bold text-yellow-600 mb-1">ğŸ›ï¸ ê´€ê´‘</div>
                                <div class="text-xs text-gray-600">ëª…ì†Œ/ì²´í—˜/ì‡¼í•‘</div>
                            </button>
                            <button onclick="selectTemplate('transport')" class="template-card text-left">
                                <div class="font-bold text-purple-600 mb-1">ğŸš— ì´ë™</div>
                                <div class="text-xs text-gray-600">ë²„ìŠ¤/íƒì‹œ/ë„ë³´</div>
                            </button>
                            <button onclick="selectTemplate('rest')" class="template-card text-left">
                                <div class="font-bold text-red-600 mb-1">â˜• íœ´ì‹</div>
                                <div class="text-xs text-gray-600">ì¹´í˜/íœ´ê²Œì†Œ</div>
                            </button>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">ì‹œê°„</label>
                        <input type="time" id="newTime" class="w-full p-2 border rounded" value="12:00">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">í™œë™ëª…</label>
                        <input type="text" id="newActivity" placeholder="í™œë™ëª… ì…ë ¥" class="w-full p-2 border rounded">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">ì¹´í…Œê³ ë¦¬</label>
                        <select id="newType" class="w-full p-2 border rounded">
                            <option value="food">ğŸ½ï¸ ì‹ì‚¬</option>
                            <option value="tour">ğŸ›ï¸ ê´€ê´‘</option>
                            <option value="hotel">ğŸ¨ ìˆ™ë°•</option>
                            <option value="transport">ğŸš— ì´ë™</option>
                            <option value="special">â­ íŠ¹ë³„</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">ì†Œìš”ì‹œê°„(ë¶„)</label>
                        <input type="number" id="newDuration" placeholder="60" class="w-full p-2 border rounded" value="60">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">ìƒì„¸ ì„¤ëª…</label>
                        <textarea id="newDetails" placeholder="ìƒì„¸ ì„¤ëª… ì…ë ¥" class="w-full p-2 border rounded" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">ë¹„ìš©(ì›)</label>
                        <input type="number" id="newCost" placeholder="0" class="w-full p-2 border rounded" value="0">
                    </div>
                    <button onclick="addNewModule()" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 font-bold">
                        <i class="fas fa-plus mr-2"></i>ì¼ì • ì¶”ê°€í•˜ê¸°
                    </button>
                </div>
            </div>
        </div>

        <!-- Edit Options Modal - ìŠ¤í¬ë¡¤ ê°œì„  -->
        <div id="editOptionsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col">
                <div class="p-4 border-b bg-white">
                    <h3 class="text-lg font-bold">ì˜µì…˜ í¸ì§‘</h3>
                    <button onclick="closeEditOptionsModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="flex-1 overflow-hidden">
                    <div class="p-4 modal-content-scrollable">
                        <div id="optionsList"></div>
                    </div>
                    <div class="modal-footer">
                        <button onclick="addNewOption()" class="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 font-bold">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ì˜µì…˜ ì¶”ê°€
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced travel data
        const travelData = [
            // Day 1
            { id: 1, day: 1, time: "07:00", duration: 150, activity: "ìˆ˜ì› ì¶œë°œ â†’ ì „ì£¼", type: "transport", module: "ğŸŸ£ì´ë™ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ", 
              options: [
                {name: "KTX ì´ìš©", location: "ìˆ˜ì›ì‹œ â†’ ì „ì£¼ì‹œ", details: "ğŸš„ KTX ìˆ˜ì›ì—­â†’ìµì‚°ì—­â†’ì „ì£¼ | â° 1ì‹œê°„ 30ë¶„ | ğŸ’° 29,700ì› | ğŸ“ ìµì‚°ì—­ì—ì„œ ì „ì£¼í–‰ ë²„ìŠ¤ í™˜ìŠ¹(30ë¶„) | ğŸ« ì½”ë ˆì¼í†¡ ì˜ˆì•½ ì¶”ì²œ", cost: 29700, savings: []},
                {name: "ê³ ì†ë²„ìŠ¤ ì´ìš©", location: "ìˆ˜ì›ì‹œ â†’ ì „ì£¼ì‹œ", details: "ğŸšŒ ìˆ˜ì›ì¢…í•©ë²„ìŠ¤í„°ë¯¸ë„â†’ì „ì£¼ê³ ì†ë²„ìŠ¤í„°ë¯¸ë„ | â° 2ì‹œê°„ | ğŸ’° 8,000ì› | ğŸ“ 10ë¶„ ê°„ê²© ìš´í–‰ | ğŸ« ë²„ìŠ¤íƒ€ê³  ì•± ì˜ˆì•½ ê°€ëŠ¥", cost: 8000, savings: []},
                {name: "ìê°€ìš© ì§í–‰", location: "ìˆ˜ì›ì‹œ â†’ ì „ì£¼ì‹œ", details: "ğŸš— ìˆ˜ì›â†’ì „ì£¼ ì§í–‰ | â° 2ì‹œê°„ 30ë¶„ | ğŸ’° ìœ ë£Œë„ë¡œë¹„ ì•½ 15,000ì› + ì£¼ìœ ë¹„ 20,000ì› | ğŸ“ ê²½ë¶€ê³ ì†ë„ë¡œâ†’ë…¼ì‚°ì²œì•ˆê³ ì†ë„ë¡œ | ğŸ…¿ï¸ í•œì˜¥ë§ˆì„ ê³µì˜ì£¼ì°¨ì¥ ì´ìš©", cost: 35000, savings: []}
              ],
              details: "KTX: 1ì‹œê°„ 30ë¶„, 29,700ì› | ê³ ì†ë²„ìŠ¤: 2ì‹œê°„, 8,000ì› | ìê°€ìš©: 2ì‹œê°„ 30ë¶„, ìœ ë£Œë„ë¡œë¹„ í¬í•¨", 
              cost: 29700, saving: 0, selectedOptions: [0] },
            
            { id: 2, day: 1, time: "09:30", duration: 60, activity: "ì „ì£¼ í•œì˜¥ë§ˆì„ ë„ì°© ë° ë‘˜ëŸ¬ë³´ê¸°", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "í•œì˜¥ë§ˆì„ ììœ ê´€ëŒ", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ˜ï¸ 700ì—¬ì±„ í•œì˜¥ ë°€ì§‘ì§€ì—­ | ğŸ“¸ í¬í† ìŠ¤íŒŸ: ì „ë™ì„±ë‹¹, ê²½ê¸°ì „ ëŒë‹´ê¸¸, ì˜¤ëª©ëŒ€ | ğŸ­ í•œë³µì²´í—˜ 15,000ì›(2ì‹œê°„) | ğŸ—ºï¸ ê´€ê´‘ì•ˆë‚´ì†Œì—ì„œ ë¬´ë£Œ ì§€ë„ ìˆ˜ë ¹ | ğŸ’¡ ì˜¤ì „ ì¼ì° ë°©ë¬¸ì‹œ í•œì í•¨ | ğŸ›ï¸ ì¸ì ‘: ê²½ê¸°ì „, ì „ë™ì„±ë‹¹, ì˜¤ëª©ëŒ€ ëª¨ë‘ ë„ë³´ 5ë¶„", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 2000}]},
                {name: "í•œì˜¥ìŠ¤í…Œì´ ì²´í¬ì¸", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ¡ ì „í†µ í•œì˜¥ ìˆ™ë°• ì²´í—˜ | â° ì²´í¬ì¸ 15:00 (ì¡°ê¸° ì²´í¬ì¸ ê°€ëŠ¥ ë¬¸ì˜) | ğŸ’° 1ë°• 80,000~150,000ì› | ğŸ“ í•™ì¸ë‹¹, ë™ë½ì› ë“± ì¶”ì²œ | ğŸµ ì›°ì»´í‹° ì„œë¹„ìŠ¤ í¬í•¨", cost: 0, savings: []},
                {name: "ì „ì£¼í–¥êµ ë°©ë¬¸", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í–¥êµê¸¸", details: "ğŸ“š ì¡°ì„ ì‹œëŒ€ êµìœ¡ê¸°ê´€ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œì…ì¥ | ğŸ“ í•œì˜¥ë§ˆì„ì—ì„œ ë„ë³´ 10ë¶„ | ğŸ“ ìœ ìƒë³µ ì²´í—˜ ê°€ëŠ¥(5,000ì›) | ğŸ“¸ ì€í–‰ë‚˜ë¬´ í¬í† ì¡´ ì¸ê¸° | ğŸ›ï¸ ì¸ì ‘: ì™„íŒë³¸ë¬¸í™”ê´€(5ë¶„), í•œë²½ë‹¹(10ë¶„)", cost: 0, savings: []},
                {name: "í’ë‚¨ë¬¸+ë‚¨ë¶€ì‹œì¥ ì½”ìŠ¤", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í’ë‚¨ë¬¸", details: "ğŸ›ï¸ ì „ì£¼ìì„± ë‚¨ë¬¸ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ í•œì˜¥ë§ˆì„ ì…êµ¬ | ğŸ›ï¸ ë°”ë¡œ ì˜† ë‚¨ë¶€ì‹œì¥ ì—°ê³„ ê´€ê´‘ | ğŸ¡ ì‹œì¥ ë¨¹ê±°ë¦¬ íˆ¬ì–´ ê°€ëŠ¥", cost: 0, savings: []}
              ],
              details: "í•œì˜¥ë§ˆì„ ë¬´ë£Œ ê´€ëŒ, í•œë³µì²´í—˜ 15,000ì› ì¶”ê°€ ê°€ëŠ¥. ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ë¡œ ê´€ë ¨ ì‹œì„¤ í• ì¸ í˜œíƒ. ì¸ì ‘ ê´€ê´‘ì§€: ê²½ê¸°ì „, ì „ë™ì„±ë‹¹, ì˜¤ëª©ëŒ€ ëª¨ë‘ ë„ë³´ê¶Œ",
              cost: 0, saving: 2000, selectedOptions: [0] },
            
            { id: 3, day: 1, time: "10:30", duration: 90, activity: "ê²½ê¸°ì „ & ì „ë™ì„±ë‹¹ ë°©ë¬¸", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ê²½ê¸°ì „+ì–´ì§„ë°•ë¬¼ê´€", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ íƒœì¡°ë¡œ", details: "ğŸ›ï¸ íƒœì¡° ì´ì„±ê³„ ì–´ì§„ ë´‰ì•ˆ | â° 09:00-19:00 | ğŸ’° ì¼ë°˜ 3,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ ëŒ€ë‚˜ë¬´ìˆ² ì‚°ì±…ë¡œ í•„ìˆ˜ ì½”ìŠ¤ | ğŸ“¸ ì–´ì§„ë°•ë¬¼ê´€, ë¶€ì†ê±´ë¬¼ ê´€ëŒ 1ì‹œê°„ ì†Œìš” | ğŸ›ï¸ ì¸ì ‘: ì „ë™ì„±ë‹¹(2ë¶„), ê²½ê¸°ì „ì‚¬ê³ (ë‚´ë¶€), íƒœì¡°ë¡œ(ë°”ë¡œ ì•)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 3000}]},
                {name: "ì „ë™ì„±ë‹¹+ì„±ë‹¹ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ íƒœì¡°ë¡œ", details: "â›ª í•œêµ­ ì²œì£¼êµ ìˆœêµì„±ì§€ | â° 09:00-17:00 | ğŸ’° ë¬´ë£Œì…ì¥ | ğŸ“ ë¡œë§ˆë„¤ìŠ¤í¬ ì–‘ì‹ ê±´ì¶•ë¯¸ | ğŸ“¸ ì›¨ë”©ì´¬ì˜ ëª…ì†Œ, ìŠ¤í…Œì¸ë“œê¸€ë¼ìŠ¤ í¬í† ì¡´ | ğŸ• ë¯¸ì‚¬ì‹œê°„ í™•ì¸ í•„ìš” | â˜• ì„±ë‹¹ ì¹´í˜ ìš´ì˜(ì»¤í”¼ 4,000ì›) | ğŸ›ï¸ ì¸ì ‘: ê²½ê¸°ì „(2ë¶„), í’ë‚¨ë¬¸(5ë¶„)", cost: 4000, savings: []},
                {name: "ì˜¤ëª©ëŒ€+ì´ëª©ëŒ€ ì½”ìŠ¤", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ê¸°ë¦°ëŒ€ë¡œ", details: "ğŸ”ï¸ í•œì˜¥ë§ˆì„ ì „ë§ëŒ€ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ê³„ë‹¨ ì˜¤ë¥´ê¸° 10ë¶„ | ğŸ“¸ í•œì˜¥ë§ˆì„ ì „ê²½ ìµœê³  ë·°í¬ì¸íŠ¸ | ğŸŒ… ì¼ëª° ì‹œê°„ëŒ€ ì¶”ì²œ | ğŸ›ï¸ ì¸ì ‘: ì´ëª©ëŒ€(ë„ë³´ 3ë¶„), ìë§Œë²½í™”ë§ˆì„(5ë¶„), í•œë²½ë‹¹(15ë¶„)", cost: 0, savings: []},
                {name: "í•œêµ­ì „í†µë¬¸í™”ì „ë‹¹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ íƒœì¡°ë¡œ", details: "ğŸ­ ì „í†µë¬¸í™” ì²´í—˜ê´€ | â° 09:00-21:00 | ğŸ’° ì²´í—˜ë³„ 5,000~20,000ì› | ğŸ“ í•œì§€ê³µì˜ˆ, ì „í†µìŒì‹ ë§Œë“¤ê¸° | ğŸ¨ ì‚¬ì „ì˜ˆì•½ í•„ìˆ˜ | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡±ì²´í—˜ í”„ë¡œê·¸ë¨ ì¸ê¸° | ğŸ›ï¸ ì¸ì ‘: ì „ì£¼ê³µì˜ˆí’ˆì „ì‹œê´€(ë‚´ë¶€), ë¶€ì±„ë¬¸í™”ê´€(3ë¶„)", cost: 15000, savings: []},
                {name: "ìµœëª…í¬ë¬¸í•™ê´€", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ìµœëª…í¬ê¸¸", details: "ğŸ“š í˜¼ë¶ˆ ì‘ê°€ ê¸°ë…ê´€ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ í•œì˜¥ë§ˆì„ ì¤‘ì‹¬ë¶€ | ğŸ“– í˜¼ë¶ˆ ê´€ë ¨ ì „ì‹œ | ğŸ›ï¸ ì¸ì ‘: ë¶€ì±„ë¬¸í™”ê´€(2ë¶„), ìˆ ë°•ë¬¼ê´€(3ë¶„)", cost: 0, savings: []}
              ],
              details: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ë¡œ ê²½ê¸°ì „ ë¬´ë£Œì…ì¥ (ì¼ë°˜ 3,000ì› â†’ ë¬´ë£Œ). ì¡°ì„ ì™•ì¡° ì—­ì‚¬ ì²´í—˜ ê°€ëŠ¥. ì¸ì ‘ ê´€ê´‘ì§€ ë‹¤ìˆ˜ë¡œ íš¨ìœ¨ì  ë™ì„  ê°€ëŠ¥",
              cost: 0, saving: 3000, selectedOptions: [0] },
            
            { id: 4, day: 1, time: "12:00", duration: 90, activity: "ğŸ½ï¸ ì „ì£¼ ë‚¨ë¶€ì‹œì¥ ì ì‹¬ì‹ì‚¬", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸœì „í†µêµ­ë°¥", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ¥‡ í˜„ëŒ€ì˜¥: ì½©ë‚˜ë¬¼êµ­ë°¥ 8,000ì› | â° 05:30-15:00(14ì‹œ ë§ˆê°ì£¼ì˜!) | ğŸ“ ë‚¨ë¶€ì‹œì¥ ë‚´ | ğŸ’¡ ê¹€ì¹˜, ê¹ë‘ê¸° ë¦¬í•„ ë¬´ë£Œ | â­ 70ë…„ ì „í†µ, í˜„ì§€ì¸ ì¶”ì²œ 1ìœ„\nğŸ¥ˆ ì¡°ì ë¡€ë‚¨ë¬¸í”¼ìˆœëŒ€: ìˆœëŒ€êµ­ë°¥ 9,000ì›, í”¼ìˆœëŒ€ 13,000ì› | â° 06:00-22:00 | ğŸ“ ë‚¨ë¶€ì‹œì¥ ì…êµ¬ | ğŸ’¡ í”¼ìˆœëŒ€ëŠ” 2ì¸ ì´ìƒ ì¶”ì²œ", cost: 9000, savings: []},
                {name: "ğŸ¥Ÿë¶„ì‹+ë””ì €íŠ¸", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ¥‡ ì˜›ë‚ í”¼ìˆœëŒ€: ëª¨ë“¬ìˆœëŒ€ 13,000ì› | â° 10:00-21:00 | ğŸ“ ì²­ë…„ëª° ë‚´ | ğŸ’¡ ìˆœëŒ€+ê°„+í—ˆíŒŒ ëª¨ë“¬ ì¸ê¸°\nğŸ¥ˆ í˜¸ë–¡: ì”¨ì•—í˜¸ë–¡ 3,000ì› | ğŸ“ ì‹œì¥ ê³³ê³³ | ğŸ’¡ ì¤„ì„œëŠ” ê³³ì´ ë§›ì§‘\nğŸ¥‰ ìœ¡ì „: 5,000ì› | ğŸ“ ë°˜ì°¬ê°€ê²Œë“¤ | ğŸ’¡ ë”°ëœ»í•  ë•Œ ë“œì„¸ìš”\nğŸ§ íŒ¥ë¹™ìˆ˜: ì‹œì¥í‘œ íŒ¥ë¹™ìˆ˜ 6,000ì› | ğŸ“ 2ì¸µ ì²­ë…„ëª° | ì—¬ë¦„ ì¸ê¸°", cost: 13000, savings: []},
                {name: "ğŸ±ë°±ë°˜+ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ¥‡ ì „ì£¼í•œì •ì‹: 12,000~15,000ì› | â° 11:00-21:00 | ğŸ“ í•œì˜¥ë§ˆì„ ì£¼ë³€ | ğŸ’¡ 20ì—¬ê°€ì§€ ë°˜ì°¬ ì œê³µ\nğŸ¥ˆ ì‹œì¥ë°±ë°˜: 8,000ì› | â° 11:00-15:00 | ğŸ“ 2ì¸µ ì‹ë‹¹ê°€ | ğŸ’¡ ê°€ì„±ë¹„ ìµœê³ , ë°˜ì°¬ í‘¸ì§\nâ˜• ì²­ë…„ëª° ì¹´í˜: ì•„ë©”ë¦¬ì¹´ë…¸ 3,000ì› | ğŸ“ ì²­ë…„ëª° 2ì¸µ | ğŸ’¡ ì‹í›„ ì»¤í”¼", cost: 11000, savings: []},
                {name: "ğŸ’¡ê°„í¸ì‹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ™ ê¹€ë°¥ì²œêµ­: ê¹€ë°¥ 3,000ì›, ë¼ë©´ 4,000ì› | â° 24ì‹œê°„ | ğŸ“ ì‹œì¥ ì…êµ¬\nğŸª í¸ì˜ì ë„ì‹œë½: 4,000~6,000ì› | â° 24ì‹œê°„ | ğŸ’¡ ì‹œê°„ ì ˆì•½ í•„ìš”ì‹œ", cost: 4000, savings: []},
                {name: "â˜•ì¹´í˜ ë¸ŒëŸ°ì¹˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "â˜• ë² í…Œë‘ë¶„ì‹: ì¹¼êµ­ìˆ˜+ê¹€ë°¥ ì„¸íŠ¸ 9,000ì› | â° 10:00-20:00 | ğŸ“ ë‚¨ë¶€ì‹œì¥ ë‚´\nğŸ¥ ì „ì£¼ë¹µì¹´í˜: ë¹µ+ì»¤í”¼ 8,000ì› | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´ | ğŸ’¡ ê°€ë²¼ìš´ ë¸ŒëŸ°ì¹˜", cost: 8500, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ í˜„ëŒ€ì˜¥(ì½©ë‚˜ë¬¼êµ­ë°¥ì›ì¡°,14ì‹œë§ˆê°ì£¼ì˜) â‘¡ì¡°ì ë¡€(ìˆœëŒ€êµ­ë°¥ëŒ€í‘œ) â‘¢ì²­ë…„ëª° ë¶„ì‹+ì¹´í˜ | ğŸ“ìœ„ì¹˜: ëª¨ë‘ ë‚¨ë¶€ì‹œì¥ ë‚´ | â°ìš´ì˜: í˜„ëŒ€ì˜¥(11:00-14:00), ì¡°ì ë¡€(06:00-22:00), ë¶„ì‹(10:00-20:00)",
              cost: 9000, saving: 0, selectedOptions: [0] },
            
            { id: 5, day: 1, time: "14:00", duration: 120, activity: "í•œì˜¥ë§ˆì„ ì‡¼í•‘ & ì²´í—˜", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ë‚¨ë¶€ì‹œì¥ ì‡¼í•‘", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ›ï¸ ì „í†µì‹œì¥ ì²´í—˜ | ğŸ’° í•œì§€ê³µì˜ˆí’ˆ 5,000~30,000ì› | ğŸ ëª¨ì£¼ 6,000ì›, ì´ˆì½”íŒŒì´ 8,000ì› | ğŸ“ ì²­ë…„ëª° êµ¬ê²½ í•„ìˆ˜ | ğŸ’¡ í˜„ê¸ˆ ì¤€ë¹„, í¥ì • ê°€ëŠ¥ | ğŸ›ï¸ ì¸ì ‘: í’ë‚¨ë¬¸(3ë¶„), í•œì˜¥ë§ˆì„(5ë¶„)", cost: 20000, savings: []},
                {name: "ì „ì£¼ì¤‘ì•™ì‹œì¥", location: "ì „ì£¼ì‹œ ë•ì§„êµ¬ ì¤‘ì•™ì‹œì¥", details: "ğŸ›ï¸ ëŒ€í˜• ì „í†µì‹œì¥ | ğŸ’° í•œë³µ 50,000~200,000ì› | ğŸ ì „ì£¼ íŠ¹ì‚°í’ˆ | ğŸ“ í•œì˜¥ë§ˆì„ì—ì„œ ë„ë³´ 20ë¶„ | ğŸ’¡ ë¨¹ê±°ë¦¬ ë‹¤ì–‘", cost: 50000, savings: []},
                {name: "í•œì˜¥ë§ˆì„ ê¸°ë…í’ˆìƒµ", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ íƒœì¡°ë¡œ", details: "ğŸ ê´€ê´‘ ê¸°ë…í’ˆ ì „ë¬¸ | ğŸ’° ì—½ì„œ 1,000ì›, ë¶€ì±„ 10,000ì› | ğŸ“ íƒœì¡°ë¡œ ì¤‘ì‹¬ | ğŸ’¡ í¬ì¥ ì„œë¹„ìŠ¤, ì¹´ë“œ ê²°ì œ ê°€ëŠ¥ | ğŸ¨ ì „ì£¼ í•œì§€ ì œí’ˆ ì¸ê¸°", cost: 15000, savings: []},
                {name: "ì „í†µê³µì˜ˆ ì²´í—˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ íƒœì¡°ë¡œ", details: "ğŸ¨ í•œì§€ê³µì˜ˆì²´í—˜ê´€ | â° 10:00-18:00 | ğŸ’° ì²´í—˜ 10,000~20,000ì› | ğŸ“ í•œì§€ë¶€ì±„, í•œì§€ë“± ë§Œë“¤ê¸° | ğŸ›ï¸ ì¸ì ‘: ë¶€ì±„ë¬¸í™”ê´€, ê³µì˜ˆí’ˆì „ì‹œê´€", cost: 15000, savings: []},
                {name: "í•œë³µì²´í—˜+ì‚¬ì§„", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ‘˜ í•œë³µëŒ€ì—¬ì  | â° 09:00-20:00 | ğŸ’° 2ì‹œê°„ 15,000ì›, 4ì‹œê°„ 20,000ì› | ğŸ“¸ ì „ë¬¸ ì‚¬ì§„ê´€ ì´¬ì˜ 30,000ì›~ | ğŸ›ï¸ í¬í† ìŠ¤íŒŸ: ê²½ê¸°ì „, ì „ë™ì„±ë‹¹, ì˜¤ëª©ëŒ€", cost: 20000, savings: []}
              ],
              details: "ì „í†µ í•œì§€, ë¶€ì±„, í•œë³µ ì†Œí’ˆ ë“± êµ¬ë§¤ ê°€ëŠ¥. í‰ê·  ì˜ˆì‚° 10,000~30,000ì›. ì²´í—˜ í”„ë¡œê·¸ë¨ ë‹¤ì–‘",
              cost: 20000, saving: 0, selectedOptions: [0] },
            
            { id: 6, day: 1, time: "16:00", duration: 120, activity: "í•œì˜¥ìŠ¤í…Œì´ ì²´í¬ì¸ & íœ´ì‹", type: "hotel", module: "ğŸ”µìˆ™ë°•ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "í•œì˜¥ìŠ¤í…Œì´", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ¡ ì „í†µ ì˜¨ëŒë°© ì²´í—˜ | ğŸ’° 1ë°• 80,000~150,000ì› | ğŸ“ í•™ì¸ë‹¹, ë™ë½ì› ì¶”ì²œ | ğŸµ ë‹¤ë„ ì²´í—˜ í¬í•¨ | ğŸ› ê°œë³„ ìš•ì‹¤ í™•ì¸ | ğŸ’¡ ì¡°ì‹ í¬í•¨ ì—¬ë¶€ í™•ì¸", cost: 100000, savings: []},
                {name: "ì „ì£¼ ì‹œë‚´ í˜¸í…”", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ¨ í˜„ëŒ€ì‹ í˜¸í…” | ğŸ’° 1ë°• 70,000~120,000ì› | ğŸ“ ë¼í•œí˜¸í…”, ë¥´ìœˆí˜¸í…” | ğŸ³ ì¡°ì‹ ë·”í˜ í¬í•¨ | ğŸš— ì£¼ì°¨ ë¬´ë£Œ | ğŸ’¡ í•œì˜¥ë§ˆì„ ì…”í‹€ ìš´í–‰", cost: 95000, savings: []},
                {name: "ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ  ì €ë ´í•œ ìˆ™ë°• | ğŸ’° 1ë°• 30,000~50,000ì› | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´ ë‹¤ìˆ˜ | ğŸ‘¥ ë‹¤ì¸ì‹¤/ê°œì¸ì‹¤ ì„ íƒ | ğŸ³ ê³µìš© ì£¼ë°© ì´ìš© ê°€ëŠ¥ | ğŸ’¡ ì Šì€ ì—¬í–‰ì ì„ í˜¸", cost: 40000, savings: []},
                {name: "í•œì˜¥í˜¸í…”", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ¯ ì™•ì˜ì§€ë°€, í•œì˜¥ê³ íƒ | ğŸ’° 1ë°• 150,000~300,000ì› | ğŸ“ ê³ ê¸‰ í•œì˜¥ ìˆ™ì†Œ | ğŸ½ï¸ ì¡°ì‹ í•œì •ì‹ ì œê³µ | ğŸ› ê°œë³„ ìš•ì‹¤, ìŠ¤íŒŒ | ğŸ’¡ íŠ¹ë³„í•œ ë‚  ì¶”ì²œ", cost: 200000, savings: []}
              ],
              details: "í•œì˜¥ìŠ¤í…Œì´ 1ë°• 80,000~120,000ì›. ì „í†µ ì˜¨ëŒ ì²´í—˜ ê°€ëŠ¥. í•œì˜¥ë§ˆì„ ë‚´ ìœ„ì¹˜ë¡œ ì•¼ê²½ ê°ìƒ ì¢‹ìŒ",
              cost: 100000, saving: 0, selectedOptions: [0] },
            
            { id: 7, day: 1, time: "18:00", duration: 90, activity: "ğŸ½ï¸ ì „ì£¼ ì €ë… í•œì •ì‹", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸ£ì „í†µí•œì •ì‹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "ğŸ¥‡ í•œêµ­ì§‘: ë¹„ë¹”ë°¥+í•œì •ì‹ 18,000ì› | â° 11:30-21:00 | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´ | ğŸ’¡ ì˜ˆì•½ í•„ìˆ˜, ì „ì£¼ë¹„ë¹”ë°¥ ì›ì¡° | â­ 30ì—¬ê°€ì§€ ë°˜ì°¬\nğŸ¥ˆ í˜¸ë‚¨ê°: ê³ ê¸‰í•œì •ì‹ 25,000ì› | â° 11:30-21:30 | ğŸ“ ê²½ê¸°ì „ ì˜† | ğŸ’¡ íŠ¹ë³„í•œ ë‚  ì¶”ì²œ | ğŸ· ì „í†µì£¼ í˜ì–´ë§ ê°€ëŠ¥\nğŸ¥‰ ì–‘ë°˜ê°€: ê°€ì„±ë¹„í•œì •ì‹ 15,000ì› | â° 11:00-21:00 | ğŸ“ ì „ë™ì„±ë‹¹ ê·¼ì²˜ | ğŸ’¡ ë‹¨ì²´ í™˜ì˜", cost: 18000, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 2700}]},
                {name: "ğŸœí˜„ëŒ€ì‹ë‹¹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ì¤‘ì•™ì‹œì¥", details: "ğŸ¥‡ ì‚¼ë°±ì§‘: ì½©ë‚˜ë¬¼êµ­ë°¥+í•œì •ì‹ 12,000ì› | â° 11:00-22:00 | ğŸ“ ì¤‘ì•™ì‹œì¥ ê·¼ì²˜ | ğŸ’¡ í‘¸ì§í•œ ë°˜ì°¬, í˜„ì§€ì¸ ë§›ì§‘\nğŸ¥ˆ ê°€ë§¥ì§‘: ë§‰ê±¸ë¦¬+ì•ˆì£¼ì„¸íŠ¸ 15,000ì› | â° 17:00-24:00 | ğŸ“ ì‚¼ì²œë™ | ğŸ’¡ ì „ ì¢…ë¥˜ ë‹¤ì–‘", cost: 12000, savings: []},
                {name: "ğŸ±ê°„í¸ì‹ì‚¬", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸœ í•œì˜¥ë§ˆì„ ë¶„ì‹: 8,000~12,000ì› | â° 10:00-21:00 | ğŸ“ ê³³ê³³ì— ìœ„ì¹˜\nğŸ¨ í˜¸í…” ë£¸ì„œë¹„ìŠ¤: 15,000~25,000ì› | â° 24ì‹œê°„ | ğŸ’¡ í¸ì•ˆí•œ ì‹ì‚¬", cost: 10000, savings: []},
                {name: "â˜•ë””ì €íŠ¸ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™", details: "ğŸ° í•œì˜¥ì¹´í˜ êµë™: ìˆ˜ì œì¼€ì´í¬ 6,000ì›, ì „í†µì°¨ 5,000ì› | â° 10:00-22:00 | ğŸ“ ê²½ê¸°ì „ ê·¼ì²˜\nğŸ§ ì¹´í˜ë´„: ë§ˆì¹´ë¡± 3,000ì›, ì»¤í”¼ 4,500ì› | ğŸ“ ì „ë™ì„±ë‹¹ ì• | ğŸ’¡ ì¸ìŠ¤íƒ€ ëª…ì†Œ", cost: 11000, savings: []},
                {name: "ğŸ’¡ìŠ¤í‚µì˜µì…˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ» ë§‰ê±¸ë¦¬ê³¨ëª©ì—ì„œ ì•ˆì£¼ë¡œ ì €ë… ëŒ€ì²´ | ğŸ’° ë¹„ìš© ì ˆì•½ | ğŸ’¡ ë‹¤ìŒ ì¼ì •ê³¼ ì—°ê³„", cost: 0, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ í•œêµ­ì§‘(ì „ì£¼ë¹„ë¹”ë°¥ì›ì¡°,ì˜ˆì•½í•„ìˆ˜) â‘¡í˜¸ë‚¨ê°(ê³ ê¸‰í•œì •ì‹,íŠ¹ë³„í•œë‚ ) â‘¢ì‚¼ë°±ì§‘(ê°€ì„±ë¹„ì¢‹ìŒ,ì½©ë‚˜ë¬¼êµ­ë°¥ìœ ëª…) | ğŸ“ìœ„ì¹˜: í•œêµ­ì§‘/í˜¸ë‚¨ê°(í•œì˜¥ë§ˆì„), ì‚¼ë°±ì§‘(ì „ì£¼ì‹œë‚´) | â°ìš´ì˜: í•œì •ì‹ì§‘(11:30-21:00), ì¼ë°˜ì‹ë‹¹(11:00-22:00) | ğŸ’°ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ í• ì¸í˜œíƒ: í•œì •ì‹ì§‘ 15% í• ì¸",
              cost: 18000, saving: 2700, selectedOptions: [0] },
            
            { id: 8, day: 1, time: "20:00", duration: 120, activity: "ğŸ» ì „ì£¼ ë§‰ê±¸ë¦¬ê³¨ëª©", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸºì „í†µë§‰ê±¸ë¦¬ì§‘", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ì‚¼ì²œë™", details: "ğŸ¥‡ í•™ì„ ë£¨: ë§‰ê±¸ë¦¬+ëª¨ë“¬ì „ 15,000ì› | â° 17:00-24:00 | ğŸ“ ì‚¼ì²œë™ ë§‰ê±¸ë¦¬ê³¨ëª© | ğŸ’¡ 100ë…„ ì „í†µ, ë¶„ìœ„ê¸° ìµœê³  | ğŸ­ ì „í†µ ê³µì—° æœ‰\nğŸ¥ˆ ì‚¼ë°±ì§‘: ë§‰ê±¸ë¦¬+ë¹ˆëŒ€ë–¡ 12,000ì› | â° 17:00-02:00 | ğŸ“ ë§‰ê±¸ë¦¬ê³¨ëª© ì¤‘ì‹¬ | ğŸ’¡ ë¹ˆëŒ€ë–¡ ë°”ì‚­í•¨ì´ ì¼í’ˆ\nğŸ¥‰ ê°€ë§¥: ë§‰ê±¸ë¦¬+ì•ˆì£¼ 10,000ì› | â° 17:00-03:00 | ğŸ“ ì Šì€ì¸µ í•«í”Œ | ğŸ’¡ ê°€ì„±ë¹„ ìµœê³ ", cost: 15000, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 3000}]},
                {name: "ğŸ¥˜ì•ˆì£¼ë¥˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ì‚¼ì²œë™", details: "ğŸ¥ ë¹ˆëŒ€ë–¡: 8,000ì› | ğŸ’¡ ë§‰ê±¸ë¦¬ í•„ìˆ˜ ì•ˆì£¼\nğŸ¥¬ íŒŒì „: 7,000ì› | ğŸ’¡ ë¹„ì˜¤ëŠ” ë‚  ì¸ê¸°\nğŸ¥© ìˆ˜ìœ¡: 15,000ì› | ğŸ’¡ 2-3ì¸ ì ë‹¹\nğŸŒ° ë„í† ë¦¬ë¬µ: 6,000ì› | ğŸ’¡ ìƒˆì½¤ë‹¬ì½¤ ì–‘ë…", cost: 9000, savings: []},
                {name: "ğŸ»í˜„ëŒ€ì£¼ì ", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ì „ì£¼ì²œë³€", details: "ğŸ™ï¸ ì „ì£¼ì²œë³€ ë£¨í”„íƒ‘ë°”: ë§¥ì£¼ 7,000ì›, ì•ˆì£¼ 15,000~25,000ì› | â° 18:00-02:00 | ğŸ“ ì „ì£¼ì²œ ì•¼ê²½ ë·°\nâ˜• ê°ì„±ì¹´í˜ë°”: ì™€ì¸ 8,000ì›, ì¹µí…Œì¼ 12,000ì› | â° 14:00-24:00 | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´", cost: 20000, savings: []},
                {name: "â˜•ì•¼ê°„ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸŒ™ ì „ì£¼ì•¼í–‰ì¹´í˜: ìˆ˜ì œë§¥ì£¼ 7,000ì› | â° 18:00-02:00 | ğŸ“ í•œì˜¥ë§ˆì„ ì•¼ê²½\nâ˜• 24ì‹œì¹´í˜: ì»¤í”¼ 4,000ì›, ë””ì €íŠ¸ 6,000ì› | ğŸ“ ê°ì‚¬ ê·¼ì²˜ | ğŸ’¡ ëŠ¦ì€ ì‹œê°„ ì´ìš© ê°€ëŠ¥", cost: 10000, savings: []},
                {name: "ğŸ’¡ë¬´ì•Œì½”ì˜¬", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "ğŸµ ì „í†µì°»ì§‘: ëŒ€ì¶”ì°¨ 5,000ì›, ì˜¤ë¯¸ìì°¨ 6,000ì› | â° 10:00-22:00 | ğŸ“ í•œì˜¥ë§ˆì„ ê³³ê³³\nâ˜• ì¹´í˜: ì•„ë©”ë¦¬ì¹´ë…¸ 4,000ì›, ë””ì €íŠ¸ 6,000ì› | â° 09:00-23:00 | ğŸ’¡ í•œì˜¥ ê°œì¡° ì¹´í˜ ì¶”ì²œ", cost: 10000, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ í•™ì„ ë£¨(ì „ì£¼3ëŒ€ë§‰ê±¸ë¦¬ì§‘,ë¶„ìœ„ê¸°ìµœê³ ) â‘¡ì‚¼ë°±ì§‘(ì „í†µë§›,ë¹ˆëŒ€ë–¡ìœ ëª…) â‘¢ê°€ë§¥(ê°€ì„±ë¹„ì¢‹ìŒ,ì Šì€ì¸µì„ í˜¸) | ğŸ“ìœ„ì¹˜: ëª¨ë‘ í•œì˜¥ë§ˆì„ ë§‰ê±¸ë¦¬ê³¨ëª© | â°ìš´ì˜: ë§‰ê±¸ë¦¬ì§‘(17:00-24:00), ì¹´í˜(10:00-22:00) | ğŸ’°ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ í• ì¸í˜œíƒ: 20% í• ì¸",
              cost: 15000, saving: 3000, selectedOptions: [0] },

            // Day 2
            { id: 9, day: 2, time: "08:00", duration: 60, activity: "ğŸ½ï¸ ì „ì£¼ ì•„ì¹¨ì‹ì‚¬", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸší˜¸í…”ì¡°ì‹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ¨ í˜¸í…”ë·”í˜: 15,000~20,000ì› | â° 06:30-09:30 | ğŸ’¡ í•œì‹/ì–‘ì‹ ì„ íƒ ê°€ëŠ¥ | ğŸ³ ë¼ì´ë¸Œ ìŠ¤í…Œì´ì…˜\nğŸ  ë£¸ì„œë¹„ìŠ¤: 10,000~15,000ì› | â° 07:00-10:00 | ğŸ’¡ í¸ì•ˆí•œ ì‹ì‚¬", cost: 15000, savings: []},
                {name: "ğŸœì „í†µì•„ì¹¨", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ¥‡ ì½©ë‚˜ë¬¼êµ­ë°¥: 8,000ì› | â° 06:00-10:00 | ğŸ“ í˜„ëŒ€ì˜¥, ì™±ì´ì§‘ | ğŸ’¡ í•´ì¥ì— ìµœê³ \nğŸ¥ˆ ìˆœë‘ë¶€ì°Œê°œ: 7,000ì› | â° 07:00-11:00 | ğŸ“ í•œì˜¥ë§ˆì„ ì£¼ë³€\nğŸ¥‰ ê¹€ì¹˜ì°Œê°œ: 6,000ì› | â° 24ì‹œê°„ | ğŸ“ ê¹€ë°¥ì²œêµ­", cost: 8000, savings: []},
                {name: "ğŸ¥ê°„ë‹¨ì‹ì‚¬", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ í† ìŠ¤íŠ¸: 3,000ì› | ğŸ“ ì´ì‚­í† ìŠ¤íŠ¸ | â° 07:00-22:00\nğŸ¥ª ìƒŒë“œìœ„ì¹˜: 5,000ì› | ğŸ“ ì„œë¸Œì›¨ì´ | â° 08:00-23:00\nğŸ¥£ ì£½: 6,000ì› | ğŸ“ ë³¸ì£½ | â° 07:00-22:00", cost: 4500, savings: []},
                {name: "â˜•ëª¨ë‹ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "â˜• ì¹´í˜ ë´„ë´„: ë¸ŒëŸ°ì¹˜ì„¸íŠ¸ 12,000ì› | â° 08:00-22:00 | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´\nğŸ¥ ë² ì´ì»¤ë¦¬ì¹´í˜: ë¹µ+ì»¤í”¼ 8,000ì› | ğŸ“ ê°ì‚¬ ê·¼ì²˜ | ğŸ’¡ ê°“ êµ¬ìš´ ë¹µ", cost: 10000, savings: []},
                {name: "ğŸ’¡ìŠ¤í‚µì˜µì…˜", location: "-", details: "â° ì‹œê°„ ì ˆì•½í•˜ì—¬ ë°”ë¡œ ì¶œë°œ | ğŸª ê°„ì‹ìœ¼ë¡œ ëŒ€ì²´ | ğŸ’¡ ì´ë™ ì¤‘ íœ´ê²Œì†Œ ì´ìš©", cost: 0, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ í˜¸í…”ì¡°ì‹(í¸ë¦¬í•˜ê³  ë“ ë“ í•¨) â‘¡ì½©ë‚˜ë¬¼êµ­ë°¥(ì „ì£¼ëŒ€í‘œì•„ì¹¨ë©”ë‰´) â‘¢ëª¨ë‹ì¹´í˜(ì—¬ìœ ë¡œìš´ ë¸ŒëŸ°ì¹˜) | ğŸ“ìœ„ì¹˜: í˜¸í…”ì¡°ì‹(ìˆ™ì†Œ), ì „í†µì•„ì¹¨(ì „ì£¼ì‹œë‚´) | â°ìš´ì˜: í˜¸í…”ì¡°ì‹(06:30-09:30), ì „í†µì‹ë‹¹(06:00-10:00)",
              cost: 8000, saving: 0, selectedOptions: [1] },
            
            { id: 10, day: 2, time: "09:30", duration: 30, activity: "ì²´í¬ì•„ì›ƒ & ì „ì£¼ ë– ë‚˜ê¸°", type: "hotel", module: "ğŸ”µì²´í¬ì•„ì›ƒëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ì§ í˜¸í…” ë³´ê´€", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ§³ í”„ë¡ íŠ¸ ë¬´ë£Œ ë³´ê´€ | â° ë‹¹ì¼ 18ì‹œê¹Œì§€ | ğŸ’¡ ê°€ë²¼ìš´ ê´€ê´‘ ê°€ëŠ¥", cost: 0, savings: []},
                {name: "ì§ì ‘ ì²´í¬ì•„ì›ƒ", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸš— ì°¨ëŸ‰ì— ì§ ë³´ê´€ | â° 11ì‹œ ì „ ì²´í¬ì•„ì›ƒ | ğŸ’¡ ì£¼ì°¨ìš”ê¸ˆ í™•ì¸", cost: 0, savings: []},
                {name: "ì—°ì¥ ì²´í¬ì•„ì›ƒ", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "â° 12ì‹œê¹Œì§€ ì—°ì¥ | ğŸ’° 10,000~20,000ì› ì¶”ê°€ | ğŸ’¡ ì‚¬ì „ ìš”ì²­ í•„ìˆ˜", cost: 15000, savings: []}
              ],
              details: "ì²´í¬ì•„ì›ƒ ì‹œê°„ ì¤€ìˆ˜, ì§ ë³´ê´€ ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ë¬´ë£Œ",
              cost: 0, saving: 0, selectedOptions: [1] },
            
            { id: 11, day: 2, time: "11:00", duration: 90, activity: "ğŸœ ì „ì£¼ ì ì‹¬ë§›ì§‘", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸ²ìˆœëŒ€êµ­ë°¥", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ë‚¨ë¶€ì‹œì¥", details: "ğŸ¥‡ ì¡°ì ë¡€ë‚¨ë¬¸í”¼ìˆœëŒ€: ìˆœëŒ€êµ­ë°¥ 9,000ì›, í”¼ìˆœëŒ€(ì†Œ) 13,000ì› | â° 06:00-22:00 | ğŸ“ ë‚¨ë¶€ì‹œì¥ ì•ˆ | ğŸ’¡ í”¼ìˆœëŒ€ëŠ” ê²‰ì€ ë°”ì‚­, ì†ì€ ì«„ê¹ƒ | â­ ì „ì£¼ 3ëŒ€ ìˆœëŒ€ ë§›ì§‘", cost: 9000, savings: []},
                {name: "ğŸœì½©ë‚˜ë¬¼êµ­ë°¥", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ¥‡ ì™±ì´ì§‘: 8,000ì› | â° 05:30-21:00 | ğŸ“ ì¤‘ì•™ì‹œì¥ | ğŸ’¡ ë§µê¸° ì¡°ì ˆ ê°€ëŠ¥, ìˆ˜ë€ ì¶”ê°€ 1,000ì›\nğŸ¥ˆ í˜„ëŒ€ì˜¥: 8,000ì› | â° 05:30-15:00 | ğŸ“ ë‚¨ë¶€ì‹œì¥ | ğŸ’¡ 14ì‹œ ë§ˆê° ì£¼ì˜\nğŸ¥‰ ì‚¼ë°±ì§‘: 8,000ì› | â° 24ì‹œê°„ | ğŸ“ íš¨ìë™ | ğŸ’¡ ë‹´ë°±í•œ ë§›", cost: 8000, savings: []},
                {name: "ğŸ£í•œì •ì‹", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "ğŸ¥‡ í˜¸ë‚¨ê°: ì ì‹¬íŠ¹ì„  15,000ì› | â° 11:30-14:00 | ğŸ“ í•œì˜¥ë§ˆì„ | ğŸ’¡ 20ê°€ì§€ ë°˜ì°¬\nğŸ¥ˆ í•œêµ­ì§‘: ëŒì†¥ë¹„ë¹”ë°¥ 12,000ì› | â° 11:00-21:00 | ğŸ“ ê²½ê¸°ì „ ì• | ğŸ’¡ ì „ì£¼ë¹„ë¹”ë°¥ ì›ì¡°\nğŸ¥‰ ì–‘ë°˜ê°€: ë°±ë°˜ì •ì‹ 10,000ì› | â° 11:00-15:00 | ğŸ“ ì „ë™ì„±ë‹¹ ê·¼ì²˜", cost: 12500, savings: []},
                {name: "ğŸšë¹„ë¹”ë°¥", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "ğŸ¥‡ ì „ë¼ë„ìŒì‹ì´ì•¼ê¸°: ì „ì£¼ë¹„ë¹”ë°¥ 10,000ì› | â° 10:00-21:00 | ğŸ“ í•œì˜¥ë§ˆì„ | ğŸ’¡ ìœ¡íšŒë¹„ë¹”ë°¥ +3,000ì›\nğŸ¥ˆ ê³ ê¶: ëŒì†¥ë¹„ë¹”ë°¥ 12,000ì› | â° 10:00-22:00 | ğŸ“ ê°ì‚¬ ê·¼ì²˜ | ğŸ’¡ í”„ëœì°¨ì´ì¦ˆì§€ë§Œ ì „ì£¼ê°€ ì›ì¡°", cost: 11000, savings: []},
                {name: "â˜•ë¸ŒëŸ°ì¹˜ì¹´í˜", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬ í•œì˜¥ë§ˆì„", details: "â˜• í•œì˜¥ë§ˆì„ ë¸ŒëŸ°ì¹˜: íŒŒìŠ¤íƒ€ 12,000ì›, ìƒëŸ¬ë“œ 10,000ì› | â° 10:00-21:00 | ğŸ“ í•œì˜¥ë§ˆì„ ë‚´\nğŸ¥ ìˆ˜ì œë²„ê±°: ìˆ˜ì œë²„ê±° 9,000ì› | ğŸ“ ê°ì‚¬ ê·¼ì²˜ | ğŸ’¡ ì Šì€ì¸µ ì¸ê¸°", cost: 10500, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ ì¡°ì ë¡€ë‚¨ë¬¸í”¼ìˆœëŒ€(ì „ì£¼ëŒ€í‘œë§›,ë‚¨ë¶€ì‹œì¥ì•ˆ) â‘¡ì™±ì´ì§‘(ì½©ë‚˜ë¬¼êµ­ë°¥ë§›ì§‘,ë§µê¸°ì¡°ì ˆê°€ëŠ¥) â‘¢í˜¸ë‚¨ê°(ì „ì£¼í•œì •ì‹ëŒ€í‘œ) | ğŸ“ìœ„ì¹˜: ì¡°ì ë¡€(ë‚¨ë¶€ì‹œì¥), ì™±ì´ì§‘/í˜„ëŒ€ì˜¥/ì‚¼ë°±ì§‘(ì „ì£¼ì‹œë‚´), í•œì •ì‹ì§‘ë“¤(í•œì˜¥ë§ˆì„ê·¼ì²˜) | â°ìš´ì˜: ì¡°ì ë¡€(6:00-22:00), ì½©ë‚˜ë¬¼êµ­ë°¥ì§‘(11:00-21:00), í•œì •ì‹(11:30-21:00)",
              cost: 9000, saving: 0, selectedOptions: [0] },
            
            { id: 12, day: 2, time: "13:00", duration: 60, activity: "ì „ì£¼ â†’ êµ°ì‚° ì´ë™", type: "transport", module: "ğŸŸ£ì´ë™ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ìê°€ìš© ì§í–‰", location: "ì „ì£¼ì‹œ â†’ êµ°ì‚°ì‹œ", details: "ğŸš— ì „ì£¼â†’êµ°ì‚° | â° 1ì‹œê°„ | ğŸ’° ìœ ë£Œë„ë¡œë¹„ 3,000ì› + ì£¼ìœ ë¹„ 10,000ì› | ğŸ“ 21ë²ˆ êµ­ë„ ì´ìš© | ğŸ…¿ï¸ êµ°ì‚° ê³µì˜ì£¼ì°¨ì¥", cost: 13000, savings: []},
                {name: "ì‹œì™¸ë²„ìŠ¤", location: "ì „ì£¼ì‹œ â†’ êµ°ì‚°ì‹œ", details: "ğŸšŒ ì „ì£¼ì‹œì™¸ë²„ìŠ¤í„°ë¯¸ë„â†’êµ°ì‚°í„°ë¯¸ë„ | â° 1ì‹œê°„ | ğŸ’° 5,400ì› | ğŸ“ 20ë¶„ ê°„ê²© ìš´í–‰ | ğŸ’¡ ë²„ìŠ¤íƒ€ê³  ì•± ì˜ˆì•½", cost: 5400, savings: []},
                {name: "íƒì‹œ", location: "ì „ì£¼ì‹œ â†’ êµ°ì‚°ì‹œ", details: "ğŸš• ì „ì£¼â†’êµ°ì‚° | â° 50ë¶„ | ğŸ’° ì•½ 50,000ì› | ğŸ’¡ 4ì¸ ì´ìš©ì‹œ ê°€ì„±ë¹„ | ğŸ“ ì½œíƒì‹œ ì´ìš© ì¶”ì²œ", cost: 50000, savings: []}
              ],
              details: "ìê°€ìš©: 1ì‹œê°„, ì‹œì™¸ë²„ìŠ¤: 1ì‹œê°„(5,400ì›), íƒì‹œ: 50,000ì›",
              cost: 5400, saving: 0, selectedOptions: [1] },
            
            { id: 13, day: 2, time: "14:30", duration: 90, activity: "ğŸ¬ì‹ í¥ë™ì¼ë³¸ì‹ê°€ì˜¥(íˆë¡œì‹œê°€ì˜¥) & ê·¼ëŒ€ë¬¸í™”íƒë°©", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸ¬ì‹ í¥ë™ì¼ë³¸ì‹ê°€ì˜¥", location: "êµ°ì‚°ì‹œ ì‹ í¥ë™", details: "ğŸ¯ ì˜í™” 'íƒ€ì§œ' ì´¬ì˜ì§€ | â° 09:00-17:00 | ğŸ’° ì„±ì¸ 1,500ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ ì¼ì œê°•ì ê¸° ë¶€í˜¸ ì €íƒ | ğŸ“¸ ë‹¤ë‹¤ë¯¸ë°©, ì¼ë³¸ì •ì› | ğŸ¬ ì˜í™” ì† ê·¸ ì¥ë©´ ì¬í˜„ ê°€ëŠ¥ | ğŸ›ï¸ ì¸ì ‘: ë™êµ­ì‚¬(ë„ë³´ 5ë¶„), ì´ˆì›ì‚¬ì§„ê´€(3ë¶„)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 1500}]},
                {name: "ğŸ›ï¸ê²½ì•”ë™ì² ê¸¸ë§ˆì„", location: "êµ°ì‚°ì‹œ ê²½ì•”ë™", details: "ğŸš‚ íì² ê¸¸ ë”°ë¼ ì¡°ì„±ëœ ë§ˆì„ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ 2.5km ì² ê¸¸ | ğŸ“¸ ì² ê¸¸ ìœ„ ì¸ìƒìƒ· | ğŸ¨ ë²½í™”ë§ˆì„, ì¶”ì–µì˜ ê°„ì‹ | ğŸ›ï¸ ì¸ì ‘: ê²½ì•”ë™ ì² ê¸¸ë§ˆì„ì—­(ì‹œì‘ì ), íŒ”ë§ˆê´‘ì¥(ë„ë³´ 10ë¶„)", cost: 0, savings: []},
                {name: "ğŸ›ï¸ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€", location: "êµ°ì‚°ì‹œ í•´ë§ë¡œ", details: "ğŸ›ï¸ êµ°ì‚° ê·¼ëŒ€ì‚¬ ì „ì‹œ | â° 09:00-18:00 | ğŸ’° ì„±ì¸ 3,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ 3ì¸µ ì „ë§ëŒ€ | ğŸ“ ê·¼ëŒ€ë¬¸í™” ì²´í—˜ | ğŸ’¡ í†µí•©ê¶Œ êµ¬ë§¤ì‹œ í• ì¸ | ğŸ›ï¸ ì¸ì ‘: êµ°ì‚°ì„¸ê´€(ë°”ë¡œ ì˜†), ê·¼ëŒ€ë¯¸ìˆ ê´€(ë„ë³´ 2ë¶„), ì¥ë¯¸ê°¤ëŸ¬ë¦¬(3ë¶„)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 3000}]},
                {name: "ğŸ›ï¸êµ°ì‚°ì„¸ê´€", location: "êµ°ì‚°ì‹œ í•´ë§ë¡œ", details: "ğŸ›ï¸ í˜„ì¡´ ìµœê³  ì„¸ê´€ê±´ë¬¼ | â° 09:00-18:00 | ğŸ’° ì„±ì¸ 1,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ 1908ë…„ ê±´ì¶• | ğŸ“¸ ì„œì–‘ì‹ ê±´ì¶•ë¯¸ | ğŸ“ ì„¸ê´€ ì—­ì‚¬ ì „ì‹œ | ğŸ›ï¸ ì¸ì ‘: ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€(ë°”ë¡œ ì˜†), êµ¬ êµ°ì‚°ì€í–‰(2ë¶„)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 1000}]},
                {name: "ğŸŒŠì§„í¬í•´ì–‘ê³µì›", location: "êµ°ì‚°ì‹œ ë‚´í•­", details: "âš“ í•´êµ° í•¨ì • ì „ì‹œ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ ìœ„ë´‰í•¨ ë“± 13ì²™ | ğŸ“¸ í•¨ì • ë‚´ë¶€ ê´€ëŒ | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ì–´ë¦°ì´ ì¸ê¸° | ğŸ›ï¸ ì¸ì ‘: êµ°ì‚°ë‚´í•­(ë„ë³´ 5ë¶„), ì§¬ë½•ê±°ë¦¬(10ë¶„)", cost: 0, savings: []}
              ],
              details: "ì‹ í¥ë™ì¼ë³¸ì‹ê°€ì˜¥(íˆë¡œì‹œê°€ì˜¥) íƒ€ì§œ ì´¬ì˜ì§€ë¡œ ìœ ëª…, ì¼ë³¸ê°•ì ê¸° ê±´ì¶•ì–‘ì‹ ì²´í—˜ ê°€ëŠ¥. ğŸ”µì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ ì…ì¥! ğŸ’°ì ˆì•½ ê¸ˆì•¡: íˆë¡œì‹œê°€ì˜¥ ì„±ì¸ 1,500ì›â†’ë¬´ë£Œ. ì¸ì ‘ ê´€ê´‘ì§€ê°€ ë§ì•„ ë„ë³´ë¡œ ì—°ê³„ ê´€ê´‘ ê°€ëŠ¥",
              cost: 0, saving: 1500, selectedOptions: [0] },
            
            { id: 14, day: 2, time: "16:00", duration: 90, activity: "êµ°ì‚° ê·¼ëŒ€ë¬¸í™”ìœ ì‚°ê±°ë¦¬ íˆ¬ì–´", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ë™êµ­ì‚¬+ê·¼ëŒ€ê±°ë¦¬", location: "êµ°ì‚°ì‹œ ë™êµ­ì‚¬ê¸¸", details: "ğŸ›ï¸ ì¼ì œê°•ì ê¸° ì¼ë³¸ì‹ ì‚¬ì°° | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ êµ­ë‚´ ìœ ì¼ ì¼ë³¸ì‹ ì‚¬ì°° | ğŸ“¸ ëŒ€ì›…ì „, ì¢…ê° | ğŸ™ ì°¸ë°° ì²´í—˜ ê°€ëŠ¥ | ğŸ›ï¸ ì¸ì ‘: íˆë¡œì‹œê°€ì˜¥(5ë¶„), ì´ì˜ì¶˜ê°€ì˜¥(3ë¶„), ì‹ í¥ë™ ì¼ë³¸ì‹ê°€ì˜¥ê±°ë¦¬", cost: 0, savings: []},
                {name: "êµ¬ êµ°ì‚°ì„¸ê´€+ì€í–‰", location: "êµ°ì‚°ì‹œ í•´ë§ë¡œ", details: "ğŸ›ï¸ 1908ë…„ ê±´ì¶• | â° 09:00-18:00 | ğŸ’° 1,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ ì„œì–‘ì‹ ë‹¨ì¸µê±´ë¬¼ | ğŸ“¸ ê·¼ëŒ€ê±´ì¶• ëŒ€í‘œ | ğŸ“ ì„¸ê´€ ì—­ì‚¬ ì „ì‹œ | ğŸ›ï¸ ì¸ì ‘: êµ¬ ì¡°ì„ ì€í–‰(2ë¶„), êµ¬ ì¼ë³¸18ì€í–‰(3ë¶„)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 1000}]},
                {name: "ì¥ë¯¸ê°¤ëŸ¬ë¦¬+ë¯¸ìˆ ê´€", location: "êµ°ì‚°ì‹œ ì¥ë¯¸ë™", details: "ğŸ¨ ê·¼ëŒ€ë¯¸ìˆ  ì „ì‹œ | â° 10:00-18:00 | ğŸ’° 2,000ì› | ğŸ“ êµ¬ ì¼ë³¸18ì€í–‰ | ğŸ“¸ ì•„ë¥´ë°ì½” ê±´ì¶• | ğŸ¨ ê¸°íšì „ì‹œ ìˆ˜ì‹œ ë³€ê²½ | ğŸ›ï¸ ì¸ì ‘: ê·¼ëŒ€ë¯¸ìˆ ê´€(1ë¶„), ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€(3ë¶„)", cost: 2000, savings: []},
                {name: "ê·¼ëŒ€ë¯¸ìˆ ê´€", location: "êµ°ì‚°ì‹œ ì¥ë¯¸ë™", details: "ğŸ¨ ì˜› ì¼ë³¸18ì€í–‰ ê±´ë¬¼ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ ì¥ë¯¸ë™ | ğŸ“¸ ê¸ˆê³  ì „ì‹œì‹¤ | ğŸ¨ ê·¼ëŒ€ ë¯¸ìˆ í’ˆ ì „ì‹œ | ğŸ›ï¸ ì¸ì ‘: ì¥ë¯¸ê°¤ëŸ¬ë¦¬(1ë¶„), êµ°ì‚°ì„¸ê´€(3ë¶„)", cost: 0, savings: []},
                {name: "ğŸ“¸ê¹€ì¹˜ì‚¬ì§„ê´€", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "ğŸ“¸ ì¶”ì–µì˜ ì‚¬ì§„ê´€ | â° 10:00-18:00 | ğŸ’° ì‚¬ì§„ì´¬ì˜ 10,000ì›~ | ğŸ“ ì›”ëª…ë™ | ğŸ¬ ë³µê³ í’ ì»¨ì…‰ ì‚¬ì§„ | ğŸ“· ì˜ìƒ+ì†Œí’ˆ ëŒ€ì—¬ í¬í•¨ | ğŸ’¡ ì˜ˆì•½ ì¶”ì²œ | ğŸ›ï¸ ì¸ì ‘: ì›”ëª…ê³µì›(5ë¶„), ì´ˆì›ì‚¬ì§„ê´€(10ë¶„)", cost: 10000, savings: []},
                {name: "ì´ˆì›ì‚¬ì§„ê´€", location: "êµ°ì‚°ì‹œ ì‹ í¥ë™", details: "ğŸ“¸ 8ì›”ì˜ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì´¬ì˜ì§€ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ ì‹ í¥ë™ | ğŸ“¸ ì˜í™” ì† ê·¸ëŒ€ë¡œ ë³´ì¡´ | ğŸ¬ í¬í† ì¡´ ì¸ê¸° | ğŸ›ï¸ ì¸ì ‘: íˆë¡œì‹œê°€ì˜¥(3ë¶„), ë™êµ­ì‚¬(5ë¶„)", cost: 0, savings: []}
              ],
              details: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ë¡œ ëŒ€ë¶€ë¶„ ë¬´ë£Œì…ì¥. ê·¼ëŒ€ì—­ì‚¬ ì²´í—˜ ì½”ìŠ¤. ê¹€ì¹˜ì‚¬ì§„ê´€ì—ì„œ ë³µê³ í’ ì‚¬ì§„ ì´¬ì˜ ì¶”ì²œ. ëª¨ë“  ê´€ê´‘ì§€ê°€ ë„ë³´ 10ë¶„ ì´ë‚´ë¡œ íš¨ìœ¨ì  ë™ì„  ê°€ëŠ¥",
              cost: 0, saving: 3000, selectedOptions: [0, 4] },
            
            { id: 15, day: 2, time: "17:30", duration: 90, activity: "ğŸš¢ğŸŒŠ ì„ ìœ ë„ ë°©ë¬¸", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸ–ï¸ì„ ìœ ë„í•´ìˆ˜ìš•ì¥", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸ–ï¸ ëª…ì‚¬ì‹­ë¦¬ í•´ë³€ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ê³ êµ°ì‚°êµ°ë„ ëŒ€í‘œ í•´ë³€ | ğŸŠâ€â™€ï¸ ì—¬ë¦„ í•´ìˆ˜ìš• | ğŸŒ… ì„œí•´ ë‚™ì¡° ëª…ì†Œ | ğŸ›ï¸ ì¸ì ‘: ë§ì£¼ë´‰(ë„ë³´ 20ë¶„), ì„ ìœ ëŒ€êµ(5ë¶„)", cost: 0, savings: []},
                {name: "ğŸ¦ì„ ìœ ë„í™œì–´íšŒì„¼í„°", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸ¦ ì‹±ì‹±í•œ í™œì–´íšŒ | â° 10:00-22:00 | ğŸ’° 2ì¸ 50,000ì›~ | ğŸ“ ì„ ì°©ì¥ ì¸ê·¼ | ğŸ¦‘ ì œì²  í•´ì‚°ë¬¼ | ğŸ’¡ ê³µë™êµ¬ë§¤ ê°€ëŠ¥ | ğŸ›ï¸ ì¸ì ‘: ì„ ìœ ë„í•­(1ë¶„), í•´ìˆ˜ìš•ì¥(5ë¶„)", cost: 50000, savings: []},
                {name: "ğŸš¢ì„ ìœ ë„ìœ ëŒì„ ", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸš¢ ì„¬ ì¼ì£¼ ê´€ê´‘ | â° 10:00-17:00(1ì‹œê°„ ê°„ê²©) | ğŸ’° ì„±ì¸ 15,000ì› | ğŸ“ ì„ ìœ ë„í•­ ì¶œë°œ | ğŸŒŠ ê³ êµ°ì‚°êµ°ë„ ì „ê²½ | ğŸ“¸ ê°ˆë§¤ê¸° ë¨¹ì´ì£¼ê¸° | ğŸ›ï¸ ì¸ì ‘: ë¬´ë…€ë„, ì¥ìë„ ê²½ìœ ", cost: 15000, savings: []},
                {name: "ğŸŒ…ë§ì£¼ë´‰ì¼ëª°", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸŒ„ ì„ ìœ 8ê²½ ì¤‘ 1ê²½ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ë„ë³´ 20ë¶„ | ğŸ“¸ ì¼ëª° ëª…ì†Œ | ğŸ’¡ ì¼ëª° 30ë¶„ ì „ ë„ì°© | ğŸ›ï¸ ì¸ì ‘: ë§ì£¼ë´‰ ì „ë§ëŒ€, ì„ ìœ ë´‰(15ë¶„)", cost: 0, savings: []},
                {name: "ğŸŒ‰ì„ ìœ ëŒ€êµì‚°ì±…", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸŒ‰ ì„ ìœ 1êµ, 2êµ ì—°ê²° | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ìì „ê±° ëŒ€ì—¬ 10,000ì› | ğŸ“¸ ë‹¤ë¦¬ ìœ„ í¬í† ì¡´ | ğŸš´â€â™€ï¸ ìì „ê±° íˆ¬ì–´ ì¸ê¸° | ğŸ›ï¸ ì¸ì ‘: ë¬´ë…€ë„(ì„ ìœ 2êµ ê±´ë„ˆí¸), ì¥ìë„(ì„ ìœ 1êµ)", cost: 0, savings: []}
              ],
              details: "ì„ ìœ ë„ ê´€ê´‘. ì¼ëª°ì‹œê°„ ë§ì¶° ë°©ë¬¸í•˜ë©´ í™˜ìƒì ì¸ ë·°. ë‚ ì”¨ í™•ì¸ í•„ìˆ˜. ì¸ì ‘ ì„¬ë“¤ë„ ë‹¤ë¦¬ë¡œ ì—°ê²°ë˜ì–´ ë„ë³´/ìì „ê±° ê´€ê´‘ ê°€ëŠ¥",
              cost: 0, saving: 0, selectedOptions: [0] },
            
            { id: 16, day: 2, time: "19:00", duration: 60, activity: "ì„ ìœ ë„ ì¼ëª° ê°ìƒ", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ë§ì£¼ë´‰ ì¼ëª°", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸŒ… ì„ ìœ 8ê²½ ìµœê³  ì ˆê²½ | â° ì¼ëª° 30ë¶„ ì „ ë„ì°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ì •ìƒê¹Œì§€ 20ë¶„ | ğŸ“¸ ì„œí•´ ë‚™ì¡° íŒŒë…¸ë¼ë§ˆ | ğŸ’¡ ì‚¼ê°ëŒ€ ì¤€ë¹„", cost: 0, savings: []},
                {name: "í•´ë³€ ì‚°ì±…", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸ–ï¸ ëª…ì‚¬ì‹­ë¦¬ í•´ë³€ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ëª¨ë˜ì‚¬ì¥ 2km | ğŸš¶â€â™€ï¸ ë§¨ë°œ ì‚°ì±… | ğŸŒŠ íŒŒë„ì†Œë¦¬ íë§", cost: 0, savings: []},
                {name: "ì¹´í˜ì—ì„œ ì—¬ìœ ", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "â˜• ì„ ìœ ë„ ì¹´í˜ | â° 10:00-21:00 | ğŸ’° ì»¤í”¼ 5,000ì› | ğŸ“ í•´ë³€ê°€ ì¹´í˜ | ğŸŒ… ì„ ì…‹ë·° í…Œë¼ìŠ¤ | ğŸ“¸ ê°ì„± ì‚¬ì§„", cost: 5000, savings: []},
                {name: "ì„ ìƒì—ì„œ ì¼ëª°", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸš¢ ìœ ëŒì„  ì¼ëª° í¬ë£¨ì¦ˆ | â° 18:00 ì¶œë°œ | ğŸ’° 20,000ì› | ğŸ“ 1ì‹œê°„ ì½”ìŠ¤ | ğŸŒ… ë°”ë‹¤ ìœ„ ì¼ëª° | ğŸ“¸ íŠ¹ë³„í•œ ê²½í—˜", cost: 20000, savings: []}
              ],
              details: "ì„ ìœ ë„ ëŒ€í‘œ ì¼ëª° ëª…ì†Œ. ë¬´ë£Œ ê´€ëŒ. ë§ì£¼ë´‰ì´ ìµœê³  í¬ì¸íŠ¸ì§€ë§Œ ì²´ë ¥ ê³ ë ¤í•´ì„œ ì„ íƒ",
              cost: 0, saving: 0, selectedOptions: [0] },
            
            { id: 17, day: 2, time: "20:00", duration: 90, activity: "ğŸ½ï¸ êµ°ì‚° ì €ë…ì‹ì‚¬", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸ”¥ë§¤ìš´ì§¬ë½•", location: "êµ°ì‚°ì‹œ ë¯¸ì›ë™", details: "ğŸ¥‡ ì§€ë¦°ì„±: ê³ ì¶”ì§œì¥ 11,000ì›, ê³ ì¶”ì§¬ë½• 11,000ì› | â° 09:30-16:00(ë¸Œë ˆì´í¬íƒ€ì„ 15:00-16:00) | ğŸ“ ë¯¸ì›ë¡œ 87 | ğŸ’¡ ì›¨ì´íŒ… 30ë¶„ ì˜ˆìƒ, í™”ìš”ì¼ íœ´ë¬´ | ğŸŒ¶ï¸ ë§¤ìš´ë§› ë‹¨ê³„ ì„ íƒ ê°€ëŠ¥ | â­ ë°±ì¢…ì›ì˜ 3ëŒ€ì²œì™• ì¶œì—°", cost: 11000, savings: []},
                {name: "ğŸœì „í†µì§¬ë½•", location: "êµ°ì‚°ì‹œ ì§¬ë½•ê±°ë¦¬", details: "ğŸ¥‡ ë³µì„±ë£¨: ì§¬ë½• 10,000ì›, ë³¶ìŒë°¥ 10,000ì› | â° 10:30-20:30 | ğŸ“ ì§¬ë½•ê±°ë¦¬ | ğŸ’¡ êµ°ì‚° 3ëŒ€ ì§¬ë½•, í•´ë¬¼ ë“¬ë¿ | ğŸ¦‘ ì˜¤ì§•ì–´, ìƒˆìš° ì‹ ì„ \nğŸ¥ˆ ë¹ˆí•´ì›: í•´ë¬¼ì§¬ë½• 12,000ì› | â° 10:00-21:00 | ğŸ“ ì¤‘ì•™ë¡œ | ğŸ’¡ êµ­ë¬¼ì´ ì§„í•˜ê³  ì‹œì›í•¨", cost: 10000, savings: []},
                {name: "ğŸ¦€ê½ƒê²Œìš”ë¦¬", location: "êµ°ì‚°ì‹œ í•´ë§ë™", details: "ğŸ¥‡ ê¶ì „ê½ƒê²Œì¥: ê°„ì¥ê²Œì¥ 35,000ì›/kg | â° 11:00-21:00 | ğŸ“ í•´ë§ë™ | ğŸ’¡ ì‹ ì„ í•œ ì•”ê²Œë§Œ ì‚¬ìš©, ì–‘ë…ì´ ì¼í’ˆ | ğŸš ê³µê¸°ë°¥ ë¬´í•œë¦¬í•„ | â­ êµ°ì‚° ëŒ€í‘œ ê½ƒê²Œì¥ ë§›ì§‘\nğŸ¥ˆ ëŒ€ê°€ê½ƒê²Œì¥: ê°„ì¥ê²Œì¥ 30,000ì›/kg | â° 10:30-21:30 | ğŸ“ í•´ë§ë¡œ | ğŸ’¡ ì•”ê²Œë§Œ ì‚¬ìš©, ì‚´ì´ ê½‰ ì°¸\nğŸ¥‰ ê³„ê³¡ê°€ë“ : ê½ƒê²Œíƒ•(2ì¸) 62,000ì› | â° 11:00-21:00 | ğŸ“ ê°œì •ë©´ | ğŸ’¡ ê½ƒê²Œì°œë„ ì¸ê¸°", cost: 35000, savings: []},
                {name: "â˜•ë””ì €íŠ¸ì¹´í˜", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "â˜• êµ°ì‚° ì¹´í˜ê±°ë¦¬: ìˆ˜ì œì¼€ì´í¬ 6,000ì›, ì»¤í”¼ 4,500ì› | â° 10:00-22:00 | ğŸ“ ì›”ëª…ë™\nğŸ° ì´ˆì›ì‚¬ì§„ê´€ ì¹´í˜: íŒ¥ë¹™ìˆ˜ 8,000ì› | ğŸ“ ì‹ í¥ë™ | ğŸ’¡ ì˜í™” ì´¬ì˜ì§€ ì¹´í˜", cost: 10500, savings: []},
                {name: "ğŸ’¡ê°„í¸ì‹", location: "êµ°ì‚°ì‹œ", details: "ğŸª í¸ì˜ì ë„ì‹œë½: 4,000~6,000ì› | â° 24ì‹œê°„ | ğŸ’¡ ì‹œê°„ ì ˆì•½\nğŸ¨ í˜¸í…” ë£¸ì„œë¹„ìŠ¤: 15,000~25,000ì› | â° ë£¸ì„œë¹„ìŠ¤ ì‹œê°„ í™•ì¸", cost: 5000, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ ê¶ì „ê½ƒê²Œì¥(êµ°ì‚°ëŒ€í‘œë§›ì§‘,ì‹ ì„ í•œì•”ê²Œ) â‘¡ì§€ë¦°ì„±(ì›¨ì´íŒ…30ë¶„,ê³ ì¶”ë§›íŠ¹í™”) â‘¢ë³µì„±ë£¨(êµ°ì‚°3ëŒ€ì§¬ë½•,ì „í†µë§›) | ğŸ“ìœ„ì¹˜: ê¶ì „ê½ƒê²Œì¥(í•´ë§ë™), ì§€ë¦°ì„±(ë¯¸ì›ë¡œ87), ë³µì„±ë£¨(ì§¬ë½•ê±°ë¦¬) | â°ìš´ì˜: ê¶ì „ê½ƒê²Œì¥(11:00-21:00), ì§€ë¦°ì„±(9:30-16:00,í™”ìš”ì¼íœ´ë¬´)",
              cost: 11000, saving: 0, selectedOptions: [0] },
            
            { id: 18, day: 2, time: "22:00", duration: 480, activity: "êµ°ì‚° ìˆ™ë°•", type: "hotel", module: "ğŸ”µìˆ™ë°•ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ì§¬ë½•ê±°ë¦¬ í˜¸í…”", location: "êµ°ì‚°ì‹œ ì§¬ë½•ê±°ë¦¬", details: "ğŸ¨ ë² ìŠ¤íŠ¸ì›¨ìŠ¤í„´êµ°ì‚°í˜¸í…” | ğŸ’° 80,000~120,000ì› | ğŸ“ ì§¬ë½•ê±°ë¦¬ ë„ë³´ 5ë¶„ | ğŸ³ ì¡°ì‹ í¬í•¨ | ğŸš— ë¬´ë£Œì£¼ì°¨ | ğŸ’¡ êµ°ì‚° ì‹œë‚´ ì¤‘ì‹¬", cost: 100000, savings: []},
                {name: "êµ°ì‚° ì‹œë‚´ ëª¨í…”", location: "êµ°ì‚°ì‹œ ë‚˜ìš´ë™", details: "ğŸ© ê¹¨ë—í•œ ëª¨í…” | ğŸ’° 50,000~70,000ì› | ğŸ“ í„°ë¯¸ë„ ì£¼ë³€ | ğŸš— ì£¼ì°¨ ê°€ëŠ¥ | ğŸ’¡ ê°€ì„±ë¹„ ìˆ™ë°•", cost: 60000, savings: []},
                {name: "ë¦¬ì¡°íŠ¸/íœì…˜", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´ ì„ ìœ ë„", details: "ğŸ–ï¸ ì„ ìœ ë„ íœì…˜ | ğŸ’° 100,000~150,000ì› | ğŸ“ ë°”ë‹¤ ì „ë§ | ğŸ– ë°”ë² í ê°€ëŠ¥ | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ë‹¨ìœ„ ì¶”ì²œ", cost: 125000, savings: []},
                {name: "ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "ğŸ  êµ°ì‚° ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤ | ğŸ’° 30,000~50,000ì› | ğŸ“ ê·¼ëŒ€ë¬¸í™”ê±°ë¦¬ | ğŸ‘¥ ë‹¤ì¸ì‹¤/ê°œì¸ì‹¤ | ğŸ³ ê³µìš©ì£¼ë°© | ğŸ’¡ ë°°ë‚­ì—¬í–‰ì ì„ í˜¸", cost: 40000, savings: []}
              ],
              details: "ì§¬ë½•ê±°ë¦¬ ê·¼ì²˜ ìˆ™ë°• ì¶”ì²œ. 1ë°• 60,000~80,000ì›. ë‹¤ìŒë‚  ì´ì„±ë‹¹ ë°©ë¬¸ í¸ë¦¬í•œ ìœ„ì¹˜",
              cost: 70000, saving: 0, selectedOptions: [1] },

            // Day 3
            { id: 19, day: 3, time: "08:00", duration: 60, activity: "ğŸ½ï¸ êµ°ì‚° ì•„ì¹¨ì‹ì‚¬", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸší˜¸í…”ì¡°ì‹", location: "êµ°ì‚°ì‹œ", details: "ğŸ¨ í˜¸í…”ë·”í˜: 15,000~20,000ì› | â° 06:30-09:30 | ğŸ’¡ í•œì‹/ì–‘ì‹ ë·”í˜ | ğŸ¥ ë² ì´ì»¤ë¦¬ í¬í•¨\nğŸ¨ ë£¸ì„œë¹„ìŠ¤: 10,000~15,000ì› | â° 07:00-10:00 | ğŸ’¡ í¸ì•ˆí•œ ì‹ì‚¬", cost: 17500, savings: []},
                {name: "ğŸœì „í†µì•„ì¹¨", location: "êµ°ì‚°ì‹œ", details: "ğŸ¥‡ êµ°ì‚°ì§¬ë½•: 8,000ì› | â° 09:00-20:00 | ğŸ“ ë³µì„±ë£¨, ë¹ˆí•´ì› | ğŸ’¡ ì•„ì¹¨ ì§¬ë½• í•´ì¥\nğŸ¥ˆ ì½©ë‚˜ë¬¼êµ­ë°¥: 7,000ì› | â° 06:00-22:00 | ğŸ“ 24ì‹œ ì½©ë‚˜ë¬¼êµ­ë°¥\nğŸ¥‰ ë¯¸ì—­êµ­: 9,000ì› | â° 07:00-20:00 | ğŸ“ ìƒì¼ìƒ ë¯¸ì—­êµ­", cost: 8000, savings: []},
                {name: "ğŸ¥ê°„ë‹¨ì‹ì‚¬", location: "êµ°ì‚°ì‹œ", details: "ğŸ í† ìŠ¤íŠ¸: 3,000ì› | ğŸ“ ì´ì‚­í† ìŠ¤íŠ¸ | â° 07:00-22:00\nğŸ¥ª ìƒŒë“œìœ„ì¹˜: 5,000ì› | ğŸ“ ì„œë¸Œì›¨ì´ | â° 08:00-23:00\nğŸ™ ê¹€ë°¥: 3,500ì› | ğŸ“ ê¹€ë°¥ì²œêµ­ | â° 24ì‹œê°„", cost: 3800, savings: []},
                {name: "â˜•ëª¨ë‹ì¹´í˜", location: "êµ°ì‚°ì‹œ ì¤‘ì•™ë¡œ", details: "â˜• ì´ì„±ë‹¹ ì¹´í˜: ë¹µ+ì»¤í”¼ 8,000ì› | â° 08:00-22:00 | ğŸ“ ì´ì„±ë‹¹ ë³¸ì \nğŸ¥ êµ°ì‚° ë² ì´ì»¤ë¦¬: ë¹µ+ìŒë£Œ 7,000ì› | ğŸ“ ì‹œë‚´ ê³³ê³³ | ğŸ’¡ ê°“ êµ¬ìš´ ë¹µ", cost: 7500, savings: []},
                {name: "ğŸ’¡ìŠ¤í‚µì˜µì…˜", location: "-", details: "â° ë°”ë¡œ ì¶œë°œí•˜ì—¬ ì‹œê°„ ì ˆì•½ | ğŸª ê°„ì‹ìœ¼ë¡œ ëŒ€ì²´ | ğŸ’¡ ì´ì„±ë‹¹ì—ì„œ ë¹µ êµ¬ë§¤ ì˜ˆì •", cost: 0, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ í˜¸í…”ì¡°ì‹(í¸ë¦¬í•˜ê³  ë“ ë“ í•¨) â‘¡êµ°ì‚°ì§¬ë½•(í˜„ì§€ëŒ€í‘œë§›) â‘¢ì´ì„±ë‹¹ì¹´í˜(ë¹µ+ì»¤í”¼) | ğŸ“ìœ„ì¹˜: í˜¸í…”ì¡°ì‹(ì§¬ë½•ê±°ë¦¬), ì „í†µì‹ë‹¹(êµ°ì‚°ì‹œë‚´) | â°ìš´ì˜: í˜¸í…”ì¡°ì‹(06:30-09:30), ì „í†µì‹ë‹¹(06:00-10:00)",
              cost: 7000, saving: 0, selectedOptions: [1] },
            
            { id: 20, day: 3, time: "09:30", duration: 30, activity: "ì²´í¬ì•„ì›ƒ & ì§ ì •ë¦¬", type: "hotel", module: "ğŸ”µì²´í¬ì•„ì›ƒëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ì •ì‹œ ì²´í¬ì•„ì›ƒ", location: "êµ°ì‚°ì‹œ", details: "â° 11ì‹œ ì •ì‹œ ì²´í¬ì•„ì›ƒ | ğŸ§³ ì§ ì •ë¦¬ í™•ì¸ | ğŸ’¡ ë¯¸ë‹ˆë°” ì •ì‚°", cost: 0, savings: []},
                {name: "ì—°ì¥ ì²´í¬ì•„ì›ƒ", location: "êµ°ì‚°ì‹œ", details: "â° 12ì‹œê¹Œì§€ ì—°ì¥ | ğŸ’° 10,000~20,000ì› ì¶”ê°€ | ğŸ’¡ í”„ë¡ íŠ¸ ì‚¬ì „ ë¬¸ì˜", cost: 15000, savings: []},
                {name: "ì§ í˜¸í…” ë³´ê´€", location: "êµ°ì‚°ì‹œ", details: "ğŸ§³ í”„ë¡ íŠ¸ ë³´ê´€ | â° ë‹¹ì¼ 18ì‹œê¹Œì§€ | ğŸ’° ë¬´ë£Œ | ğŸ’¡ ê´€ê´‘ í›„ ìˆ˜ë ¹", cost: 0, savings: []},
                {name: "ì°¨ëŸ‰ ì´ë™", location: "êµ°ì‚°ì‹œ", details: "ğŸš— ì²´í¬ì•„ì›ƒ í›„ ì°¨ëŸ‰ ë³´ê´€ | ğŸ…¿ï¸ ì£¼ì°¨ì¥ ì´ë™ | ğŸ’¡ ì£¼ì°¨ê¶Œ í™•ì¸", cost: 0, savings: []}
              ],
              details: "ì²´í¬ì•„ì›ƒ í›„ ì§ ì°¨ëŸ‰ ë³´ê´€ ë˜ëŠ” í˜¸í…” ë³´ê´€ ì„œë¹„ìŠ¤ ì´ìš©",
              cost: 0, saving: 0, selectedOptions: [0] },
            
            { id: 21, day: 3, time: "10:30", duration: 60, activity: "ì´ì„±ë‹¹ ëª…ë¬¼ë¹µ êµ¬ë§¤ & ì¹´í˜", type: "special", module: "ğŸŸ ëª…ë¬¼ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ì´ì„±ë‹¹ ë³¸ì ", location: "êµ°ì‚°ì‹œ ì¤‘ì•™ë¡œ", details: "ğŸ¥ 1945ë…„ ì°½ì—… ëŒ€í•œë¯¼êµ­ ìµœì´ˆ ë¹µì§‘ | â° 08:00-22:00 | ğŸ“ ì¤‘ì•™ë¡œ | ğŸ¥– ì•¼ì±„ë¹µ 2,500ì›, ë‹¨íŒ¥ë¹µ 3,000ì› | ğŸ’¡ ì˜¤ì „ ì¼ì° ê°€ì•¼ ë¹µ ì¢…ë¥˜ ë‹¤ì–‘ | â­ ì¤„ì„œê¸° í•„ìˆ˜ | ğŸ›ï¸ ì¸ì ‘: ì´ì„±ë‹¹ ì‹ ê´€(ë°”ë¡œ ì˜†), ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€(ë„ë³´ 10ë¶„)", cost: 8000, savings: []},
                {name: "ì´ì„±ë‹¹ ì‹ ê´€ì¹´í˜", location: "êµ°ì‚°ì‹œ ì¤‘ì•™ë¡œ", details: "â˜• ë² ì´ì»¤ë¦¬ ì¹´í˜ | â° 09:00-22:00 | ğŸ“ ë³¸ì  ì˜† | â˜• ì»¤í”¼ 5,000ì› + ë¹µ | ğŸª‘ 2ì¸µ ì¢Œì„ ì—¬ìœ  | ğŸ“¸ ì¸í…Œë¦¬ì–´ í¬í† ì¡´ | ğŸ›ï¸ ì¸ì ‘: ì´ì„±ë‹¹ ë³¸ì (ë°”ë¡œ ì˜†)", cost: 10000, savings: []},
                {name: "PNBí’ë…„ì œê³¼", location: "êµ°ì‚°ì‹œ ì›”ëª…ë¡œ", details: "ğŸ¥– 1951ë…„ ì°½ì—… | â° 08:00-21:00 | ğŸ“ ì›”ëª…ë¡œ | ğŸ¥ ì´ˆì½”íŒŒì´ ì›ì¡° | ğŸ’° ì°¹ìŒ€ë„ë„ˆì¸  2,000ì› | ğŸ’¡ í˜„ì§€ì¸ ì¶”ì²œ | ğŸ›ï¸ ì¸ì ‘: ì›”ëª…ê³µì›(5ë¶„), ì›”ëª…ì²´ìœ¡ê´€(3ë¶„)", cost: 5000, savings: []},
                {name: "êµ°ì‚° íŠ¹ì‚°í’ˆìƒµ", location: "êµ°ì‚°ì‹œ", details: "ğŸ êµ°ì‚° íŠ¹ì‚°í’ˆ | â° 09:00-20:00 | ğŸ“ ì‹œë‚´ ê³³ê³³ | ğŸ¦‘ ë°•ëŒ€ êµ¬ì´, ì “ê°ˆ | ğŸ’° ì„ ë¬¼ì„¸íŠ¸ 20,000ì›~ | ğŸ“¦ íƒë°° ê°€ëŠ¥", cost: 20000, savings: []},
                {name: "â˜•êµ°ì‚°ì¹´í˜ê±°ë¦¬", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "â˜• ê°ì„±ì¹´í˜ë“¤ | â° 10:00-22:00 | ğŸ“ ì›”ëª…ë™ ì¼ëŒ€ | ğŸ’° ì»¤í”¼ 4,500ì›, ë””ì €íŠ¸ 6,000ì› | ğŸ“¸ ì¸ìŠ¤íƒ€ ëª…ì†Œ | ğŸ›ï¸ ì¸ì ‘: ì›”ëª…ê³µì›, ê·¼ëŒ€ê±´ì¶•ë¬¼ë“¤", cost: 10500, savings: []}
              ],
              details: "ì´ì„±ë‹¹ ëŒ€í‘œ ë‹¨íŒ¥ë¹µ 3,000ì›, ì¹´í˜ì—ì„œ ì»¤í”¼ 5,000ì› ì¶”ê°€. êµ°ì‚° ëŒ€í‘œ ëª…ë¬¼. ì¸ê·¼ì— ì¹´í˜ê±°ë¦¬ë„ ìˆì–´ ì„ íƒì§€ ë‹¤ì–‘",
              cost: 8000, saving: 0, selectedOptions: [0] },
            
            { id: 22, day: 3, time: "12:00", duration: 90, activity: "ğŸœ êµ°ì‚° ì ì‹¬ì‹ì‚¬", type: "food", module: "ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ğŸœì§¬ë½•ëŒ€í‘œ", location: "êµ°ì‚°ì‹œ ì§¬ë½•ê±°ë¦¬", details: "ğŸ¥‡ ë³µì„±ë£¨: ì „í†µì§¬ë½• 10,000ì› | â° 10:30-20:30 | ğŸ“ ì§¬ë½•ê±°ë¦¬ | ğŸ’¡ êµ°ì‚° 3ëŒ€ ì§¬ë½•, êµ­ë¬¼ì´ ì‹œì› | ğŸ¦‘ í•´ë¬¼ ì‹ ì„ \nğŸ¥ˆ ë¹ˆí•´ì›: í•´ë¬¼ì§¬ë½• 12,000ì› | â° 10:00-21:00 | ğŸ’¡ êµ­ë¬¼ ì§„í•¨\nğŸ¥‰ ì§€ë¦°ì„±: ê³ ì¶”ì§¬ë½• 11,000ì› | â° 09:30-16:00 | ğŸ’¡ ë§¤ìš´ë§›, ì›¨ì´íŒ…", cost: 10000, savings: []},
                {name: "ğŸë¹µì¹´í˜", location: "êµ°ì‚°ì‹œ ì¤‘ì•™ë¡œ", details: "â˜• ì´ì„±ë‹¹ ì‹ ê´€: ë¹µ+ì»¤í”¼ì„¸íŠ¸ 8,000ì› | â° 09:00-22:00 | ğŸ“ ì´ì„±ë‹¹ ë³¸ì  ì˜† | ğŸ’¡ ë¸ŒëŸ°ì¹˜ ë©”ë‰´\nğŸ¥ PNBí’ë…„ì œê³¼: ë¹µ+ìŒë£Œ 6,000ì› | â° 08:00-21:00 | ğŸ’¡ ì°¹ìŒ€ë„ë„ˆì¸  ì¸ê¸°", cost: 7000, savings: []},
                {name: "ğŸ±í•œì‹", location: "êµ°ì‚°ì‹œ ë‚˜ìš´ë™", details: "ğŸ¥˜ êµ°ì‚°íšŒê´€: ì•„êµ¬ì°œ 25,000ì›(2ì¸) | â° 11:00-21:00 | ğŸ“ ë‚˜ìš´ë™ | ğŸ’¡ ë§¤ì½¤í•œ ì–‘ë…\nğŸš ì‚°ì„±ì‹ë‹¹: ë°±ë°˜ 8,000ì› | â° 11:00-20:00 | ğŸ“ ì›”ëª…ë™ | ğŸ’¡ ê°€ì •ì‹ ë°±ë°˜", cost: 12500, savings: []},
                {name: "â˜•ë¸ŒëŸ°ì¹˜ì¹´í˜", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "â˜• êµ°ì‚° ë¸ŒëŸ°ì¹˜: íŒŒìŠ¤íƒ€ 12,000ì›, ìƒëŸ¬ë“œ 10,000ì› | â° 10:00-21:00 | ğŸ“ ì›”ëª…ë™\nğŸ¥ª ìˆ˜ì œë²„ê±°: ìˆ˜ì œë²„ê±° 9,000ì› | ğŸ“ ë‚˜ìš´ë™ | ğŸ’¡ ì Šì€ì¸µ ì¸ê¸°", cost: 10500, savings: []},
                {name: "ğŸ’¡ê°„í¸ì‹", location: "êµ°ì‚°ì‹œ", details: "ğŸ± ë„ì‹œë½: 5,000~8,000ì› | ğŸ“ í¸ì˜ì  | ğŸ’¡ ì´ë™ ì¤‘ ì‹ì‚¬\nğŸœ ì»µë¼ë©´: 2,000~3,000ì› | ğŸ“ íœ´ê²Œì†Œ | ğŸ’¡ ì‹œê°„ ì ˆì•½", cost: 6500, savings: []}
              ],
              details: "ğŸ¥‡ì¶”ì²œìˆœìœ„: â‘ ë³µì„±ë£¨(êµ°ì‚°3ëŒ€ì§¬ë½•,ì „í†µë§›) â‘¡ì§€ë¦°ì„±(ê³ ì¶”ë§›íŠ¹í™”,ì›¨ì´íŒ…ì˜ˆìƒ) â‘¢ì´ì„±ë‹¹ì‹ ê´€ì¹´í˜(ë¹µ+ì»¤í”¼ì½¤ë³´,ì—¬ìœ ë¡œìš´ì‹œê°„) | ğŸ“ìœ„ì¹˜: ì§¬ë½•ì§‘(ì§¬ë½•ê±°ë¦¬), ì´ì„±ë‹¹(ë¯¸ì›ë¡œ), í˜„ì§€ì‹ë‹¹(êµ°ì‚°ì‹œë‚´) | â°ìš´ì˜: ì§¬ë½•ì§‘(10:00-16:00), ì¹´í˜(09:00-22:00), í˜„ì§€ì‹ë‹¹(11:00-21:00)",
              cost: 10000, saving: 0, selectedOptions: [0] },
            
            { id: 23, day: 3, time: "13:30", duration: 90, activity: "ğŸ›ï¸ğŸ“¸ êµ°ì‚° ë§ˆì§€ë§‰ ê´€ê´‘", type: "tour", module: "ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "êµ°ì‚°ë‚´í•­", location: "êµ°ì‚°ì‹œ ë‚´í•­", details: "ğŸš¢ ê·¼ëŒ€ì‚°ì—…ìœ ì‚° | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ë¶€ì”êµ, ëœ¬ë‹¤ë¦¬ | ğŸ“¸ ë ˆíŠ¸ë¡œ ê°ì„± | â˜• ì¹´í˜ê±°ë¦¬ | ğŸ›ï¸ ì¸ì ‘: ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€(5ë¶„), ì§„í¬í•´ì–‘ê³µì›(10ë¶„)", cost: 0, savings: []},
                {name: "ì§„í¬í•´ì–‘í…Œë§ˆê³µì›", location: "êµ°ì‚°ì‹œ ë‚´í•­", details: "âš“ í‡´ì—­ êµ°í•¨ ì „ì‹œ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ ìœ„ë´‰í•¨ ë“± 13ì²™ | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ê´€ê´‘ | ğŸ“¸ í•¨ì • í¬í† ì¡´ | ğŸ›ï¸ ì¸ì ‘: êµ°ì‚°ë‚´í•­(10ë¶„), ì§¬ë½•ê±°ë¦¬(15ë¶„)", cost: 0, savings: []},
                {name: "ê²½ì•”ë™ì² ê¸¸ë§ˆì„", location: "êµ°ì‚°ì‹œ ê²½ì•”ë™", details: "ğŸš‚ ì¶”ì–µì˜ ì² ê¸¸ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ 2.5km ì² ê¸¸ | ğŸ“¸ ì¸ìƒìƒ· ëª…ì†Œ | ğŸ¡ ì¶”ì–µì˜ ê°„ì‹ | ğŸ›ï¸ ì¸ì ‘: íŒ”ë§ˆê´‘ì¥(10ë¶„)", cost: 0, savings: []},
                {name: "ê·¼ëŒ€ì—­ì‚¬ë°•ë¬¼ê´€", location: "êµ°ì‚°ì‹œ í•´ë§ë¡œ", details: "ğŸ›ï¸ êµ°ì‚° ì—­ì‚¬ | â° 09:00-18:00 | ğŸ’° 3,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ 3ì¸µ ì „ë§ëŒ€ | ğŸ“ ì—­ì‚¬ ì²´í—˜ | ğŸ’¡ ë§ˆì§€ë§‰ ì •ë¦¬ | ğŸ›ï¸ ì¸ì ‘: êµ°ì‚°ì„¸ê´€, ê·¼ëŒ€ë¯¸ìˆ ê´€", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 2000}]},
                {name: "ì›”ëª…ê³µì›", location: "êµ°ì‚°ì‹œ ì›”ëª…ë™", details: "ğŸŒ³ ë„ì‹¬ ì† ê³µì› | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ë²šê½ƒí„°ë„(ë´„) | ğŸ›ï¸ ìˆ˜ì‹œíƒ‘, ì§„í¬ëŒ€ì²©ë¹„ | ğŸš¶â€â™€ï¸ ì‚°ì±…ë¡œ | ğŸ›ï¸ ì¸ì ‘: ì›”ëª…ì²´ìœ¡ê´€, ì¹´í˜ê±°ë¦¬", cost: 0, savings: []}
              ],
              details: "ë§ˆì§€ë§‰ êµ°ì‚° ì¶”ì–µ ë§Œë“¤ê¸°. ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ë¡œ ë¬´ë£Œì…ì¥, 2,000ì› ì ˆì•½. ì¸ì ‘ ê´€ê´‘ì§€ ì—°ê³„ë¡œ íš¨ìœ¨ì  ê´€ê´‘",
              cost: 0, saving: 2000, selectedOptions: [2] },
            
            { id: 24, day: 3, time: "15:00", duration: 150, activity: "êµ°ì‚° â†’ ìˆ˜ì› ì¶œë°œ", type: "transport", module: "ğŸŸ£ì´ë™ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ìê°€ìš© ì§í–‰", location: "êµ°ì‚°ì‹œ â†’ ìˆ˜ì›ì‹œ", details: "ğŸš— êµ°ì‚°â†’ìˆ˜ì› | â° 2ì‹œê°„ 30ë¶„ | ğŸ’° ìœ ë£Œë„ë¡œë¹„ 15,000ì› + ì£¼ìœ ë¹„ 25,000ì› | ğŸ“ ì„œí•´ì•ˆê³ ì†ë„ë¡œ | ğŸš™ íœ´ê²Œì†Œ íœ´ì‹", cost: 40000, savings: []},
                {name: "ê³ ì†ë²„ìŠ¤", location: "êµ°ì‚°ì‹œ â†’ ìˆ˜ì›ì‹œ", details: "ğŸšŒ êµ°ì‚°â†’ìˆ˜ì› | â° 3ì‹œê°„ | ğŸ’° 12,000ì› | ğŸ“ 2ì‹œê°„ ê°„ê²© ìš´í–‰ | ğŸ« ë²„ìŠ¤íƒ€ê³  ì•± ì˜ˆì•½ | ğŸ’º ìš°ë“±ë²„ìŠ¤ +4,000ì›", cost: 12000, savings: []},
                {name: "KTX(ì„œëŒ€ì „ê²½ìœ )", location: "êµ°ì‚°ì‹œ â†’ ìˆ˜ì›ì‹œ", details: "ğŸš„ êµ°ì‚°â†’ìµì‚°â†’ì„œëŒ€ì „â†’ìˆ˜ì› | â° 3ì‹œê°„ | ğŸ’° 35,000ì› | ğŸ“ í™˜ìŠ¹ 2íšŒ | ğŸ« ì½”ë ˆì¼í†¡ ì˜ˆì•½ | ğŸ’¡ ë¹ ë¥´ì§€ë§Œ ë¹„ìŒˆ", cost: 35000, savings: []}
              ],
              details: "ìê°€ìš©: 2ì‹œê°„ 30ë¶„, ê³ ì†ë²„ìŠ¤: 3ì‹œê°„(12,000ì›), KTX: 3ì‹œê°„(35,000ì›)",
              cost: 12000, saving: 0, selectedOptions: [1] },
            
            { id: 25, day: 3, time: "17:30", duration: 120, activity: "ìˆ˜ì› ë„ì°© & ë§ˆë¬´ë¦¬", type: "special", module: "ğŸŸ ë§ˆë¬´ë¦¬ëª¨ë“ˆ", status: "âœ…í˜„ì¬ì„ íƒ",
              options: [
                {name: "ì§‘ì—ì„œ íœ´ì‹", location: "ìˆ˜ì›ì‹œ", details: "ğŸ  ì—¬í–‰ í”¼ë¡œ íšŒë³µ | ğŸ› ì˜¨ìˆ˜ ëª©ìš• | ğŸ“¸ ì‚¬ì§„ ì •ë¦¬ | ğŸ’¡ ì¶”ì–µ íšŒìƒ", cost: 0, savings: []},
                {name: "í—¬ìŠ¤ì¥ ìš´ë™", location: "ìˆ˜ì›ì‹œ", details: "ğŸ’ª ì—¬í–‰ ì¤‘ ëª»í•œ ìš´ë™ | â° ì €ë… ì‹œê°„ëŒ€ | ğŸƒâ€â™€ï¸ ìœ ì‚°ì†Œ ìœ„ì£¼ | ğŸ’¡ ê°€ë²¼ìš´ ê°•ë„", cost: 0, savings: []},
                {name: "ê³µì› ì‚°ì±…", location: "ìˆ˜ì›ì‹œ", details: "ğŸš¶â€â™€ï¸ ê°€ë²¼ìš´ ì‚°ì±… | ğŸŒ³ ê·¼ì²˜ ê³µì› | ğŸŒ… ì €ë… ì‚°ì±… | ğŸ’¡ ì—¬í–‰ ë§ˆë¬´ë¦¬", cost: 0, savings: []},
                {name: "ë§ˆíŠ¸ ì‡¼í•‘", location: "ìˆ˜ì›ì‹œ", details: "ğŸ›’ ì¼ìƒ ë³µê·€ ì¤€ë¹„ | ğŸ¥¬ ì¥ë³´ê¸° | ğŸ± ê°„ë‹¨í•œ ì €ë… | ğŸ’¡ ì¼ìƒìœ¼ë¡œ ì „í™˜", cost: 0, savings: []},
                {name: "â˜•ì¹´í˜ ì •ë¦¬", location: "ìˆ˜ì›ì‹œ", details: "â˜• ë™ë„¤ ì¹´í˜ | ğŸ“¸ ì‚¬ì§„ ì •ë¦¬ | ğŸ“ ì—¬í–‰ ê¸°ë¡ | ğŸ’¡ ì¶”ì–µ ì •ë¦¬", cost: 0, savings: []}
              ],
              details: "ì—¬í–‰ ë§ˆë¬´ë¦¬ í›„ ê°œì¸ ì‹œê°„. ë¹„ìš© ì—†ìŒ",
              cost: 0, saving: 0, selectedOptions: [0] },

            // Alternative options (Day 0)
            { id: 26, day: 0, time: "ëŒ€ì²´", duration: 120, activity: "ëŒ€ì²´ ê´€ê´‘ ì˜µì…˜", type: "tour", module: "ğŸŸ¡ëŒ€ì²´ê´€ê´‘ëª¨ë“ˆ", status: "â­•ëŒ€ì²´ì˜µì…˜",
              options: [
                {name: "ì „ì£¼ë™ë¬¼ì›", location: "ì „ì£¼ì‹œ ë•ì§„êµ¬", details: "ğŸ¦ ë„ì‹¬ ì† ë™ë¬¼ì› | â° 09:00-18:00 | ğŸ’° ì„±ì¸ 1,500ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ ë•ì§„êµ¬ | ğŸ˜ 100ì—¬ì¢… ë™ë¬¼ | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ê´€ê´‘ | ğŸ›ï¸ ì¸ì ‘: ë•ì§„ê³µì›(ë°”ë¡œ ì˜†), ì „ë¶ëŒ€(10ë¶„)", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 1500}]},
                {name: "ë•ì§„ê³µì›", location: "ì „ì£¼ì‹œ ë•ì§„êµ¬", details: "ğŸŒ¸ ì—°ê½ƒ ëª…ì†Œ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ë•ì§„í˜¸ìˆ˜ | ğŸš£â€â™€ï¸ ì˜¤ë¦¬ë°° ëŒ€ì—¬ | ğŸŒ· ê³„ì ˆë³„ ê½ƒ ì¶•ì œ | ğŸ›ï¸ ì¸ì ‘: ì „ì£¼ë™ë¬¼ì›(ë°”ë¡œ ì˜†), ì „ë¶ëŒ€(10ë¶„)", cost: 0, savings: []},
                {name: "í•œì§€ì‚°ì—…ì§€ì›ì„¼í„°", location: "ì „ì£¼ì‹œ ë•ì§„êµ¬", details: "ğŸ“œ í•œì§€ ì²´í—˜ | â° 09:00-18:00 | ğŸ’° ì²´í—˜ 10,000ì› | ğŸ“ í•œì§€ ì œì‘ ê³¼ì • | ğŸ¨ í•œì§€ê³µì˜ˆ ì²´í—˜ | ğŸ’¡ ì˜ˆì•½ í•„ìˆ˜", cost: 10000, savings: []},
                {name: "ì „ì£¼í–¥êµ+ì™„íŒë³¸ë¬¸í™”ê´€", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ“š ì¡°ì„ ì‹œëŒ€ êµìœ¡ê¸°ê´€ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ í•œì˜¥ë§ˆì„ ì¸ê·¼ | ğŸ“ ëŒ€ì„±ì „, ëª…ë¥œë‹¹ | ğŸ›ï¸ ì¸ì ‘: ì™„íŒë³¸ë¬¸í™”ê´€(5ë¶„), í•œë²½ë‹¹(10ë¶„)", cost: 0, savings: []},
                {name: "ìë§Œë²½í™”ë§ˆì„", location: "ì „ì£¼ì‹œ ì™„ì‚°êµ¬", details: "ğŸ¨ ë²½í™”ë§ˆì„ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ì˜¤ëª©ëŒ€ ì¸ê·¼ | ğŸ“¸ í¬í† ì¡´ ë‹¤ìˆ˜ | ğŸ›ï¸ ì¸ì ‘: ì˜¤ëª©ëŒ€(5ë¶„), ì´ëª©ëŒ€(8ë¶„)", cost: 0, savings: []},
                {name: "ê·¼ëŒ€ë¯¸ìˆ ê´€", location: "êµ°ì‚°ì‹œ ì¥ë¯¸ë™", details: "ğŸ¨ ê·¼ëŒ€ ë¯¸ìˆ  ì „ì‹œ | â° 09:00-18:00 | ğŸ’° ë¬´ë£Œ | ğŸ“ êµ¬ ì¼ë³¸18ì€í–‰ | ğŸ›ï¸ ê·¼ëŒ€ê±´ì¶•ë¬¼ | ğŸ“¸ ê¸ˆê³ ì‹¤ í¬í† ì¡´", cost: 0, savings: []},
                {name: "ì±„ë§Œì‹ë¬¸í•™ê´€", location: "êµ°ì‚°ì‹œ ê¸ˆê°•ë³€", details: "ğŸ“š ë¬¸í•™ê´€ | â° 09:00-18:00 | ğŸ’° 1,000ì›â†’ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ ë¬´ë£Œ | ğŸ“ ê¸ˆê°•ë³€ | ğŸ“– íƒë¥˜ ì‘ê°€ | ğŸŒŠ ê¸ˆê°• ì „ë§", cost: 0, savings: [{name: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤", amount: 1000}]},
                {name: "ì€íŒŒí˜¸ìˆ˜ê³µì›", location: "êµ°ì‚°ì‹œ ë‚˜ìš´ë™", details: "ğŸï¸ ë„ì‹¬ í˜¸ìˆ˜ê³µì› | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ ë¬¼ë¹›ë‹¤ë¦¬ | ğŸš¶â€â™€ï¸ ì‚°ì±…ë¡œ | ğŸµ ìŒì•…ë¶„ìˆ˜", cost: 0, savings: []},
                {name: "ìƒˆë§Œê¸ˆë°©ì¡°ì œ", location: "êµ°ì‚°ì‹œ ìƒˆë§Œê¸ˆ", details: "ğŸŒŠ ì„¸ê³„ ìµœì¥ ë°©ì¡°ì œ | â° ìƒì‹œê°œë°© | ğŸ’° ë¬´ë£Œ | ğŸ“ 33.9km | ğŸš— ë“œë¼ì´ë¸Œ ì½”ìŠ¤ | ğŸ“¸ ì¼ëª° ëª…ì†Œ", cost: 0, savings: []},
                {name: "ê³ êµ°ì‚°êµ°ë„", location: "êµ°ì‚°ì‹œ ì˜¥ë„ë©´", details: "ğŸï¸ ì„¬ ì—¬í–‰ | â° ìƒì‹œ | ğŸ’° ë‹¤ë¦¬ í†µí–‰ë£Œ ë¬´ë£Œ | ğŸ“ ë¬´ë…€ë„, ì‹ ì‹œë„, ì¥ìë„ | ğŸš— ë“œë¼ì´ë¸Œ | ğŸ¦ í•´ì‚°ë¬¼", cost: 0, savings: []}
              ],
              details: "ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤ë¡œ ì¼ë¶€ ë¬´ë£Œ (ìµœëŒ€ 2,500ì› ì ˆì•½). ì‹œê°„ ì—¬ìœ  ìˆì„ ë•Œ ì¶”ê°€ ê´€ê´‘",
              cost: 0, saving: 2500, selectedOptions: [0, 5] }
        ];

        let editMode = false;
        let currentFilter = 'all';
        let nextId = 28;
        let currentAddDay = 1;
        let currentEditItemId = null;
        let currentOptionsModalItemId = null;
        let selectedOptions = [];
        let isMultiSelectMode = false;
        let totalDays = 3;

        // Initialize
        function init() {
            loadFromStorage();
            loadAutoCalculateSetting();
            renderSchedule();
            updateStats();
            setupAutoSave();
        }

        // Update main title
        function updateMainTitle(newTitle) {
            const title = newTitle.trim();
            if (title) {
                localStorage.setItem('mainTitle', title);
            }
        }

        // Update day title
        function updateDayTitle(day, newTitle) {
            const title = newTitle.trim();
            if (title) {
                localStorage.setItem(`dayTitle_${day}`, title);
            }
        }

        // Get day title
        function getDayTitle(day) {
            const saved = localStorage.getItem(`dayTitle_${day}`);
            if (saved) return saved;
            
            const defaultTitles = {
                1: 'ì „ì£¼ (í•œì˜¥ë§ˆì„ & ì „í†µë¬¸í™”)',
                2: 'ì „ì£¼â†’êµ°ì‚°â†’ì„ ìœ ë„',
                3: 'êµ°ì‚°â†’ìˆ˜ì› (ë§ˆë¬´ë¦¬)'
            };
            return defaultTitles[day] || `${day}ì¼ì°¨`;
        }

        // Add new day
        function addNewDay() {
            totalDays++;
            localStorage.setItem('totalDays', totalDays);
            renderSchedule();
            showNotification(`${totalDays}ì¼ì°¨ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Auto calculate settings
        function loadAutoCalculateSetting() {
            const autoCalc = localStorage.getItem('autoCalculateTime') !== 'false';
            document.getElementById('autoCalculate').checked = autoCalc;
            updateAutoCalculateStatus(autoCalc);
        }

        function toggleAutoCalculate() {
            const isChecked = document.getElementById('autoCalculate').checked;
            localStorage.setItem('autoCalculateTime', isChecked);
            updateAutoCalculateStatus(isChecked);
            showNotification(isChecked ? 'ìë™ ì‹œê°„ ê³„ì‚°ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤' : 'ìë™ ì‹œê°„ ê³„ì‚°ì´ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        function updateAutoCalculateStatus(isOn) {
            const statusElement = document.getElementById('autoCalculateStatus');
            if (isOn) {
                statusElement.textContent = 'ìë™ ê³„ì‚° ON';
                statusElement.className = 'text-sm px-3 py-1 rounded-full bg-green-100 text-green-800';
            } else {
                statusElement.textContent = 'ìë™ ê³„ì‚° OFF';
                statusElement.className = 'text-sm px-3 py-1 rounded-full bg-gray-100 text-gray-600';
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 right-4 bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-slide-in';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Render schedule
        function renderSchedule() {
            const container = document.getElementById('scheduleContainer');
            container.innerHTML = '';

            // Show add day button in edit mode
            const addDayBtn = document.getElementById('addDayBtn');
            if (editMode) {
                addDayBtn.style.display = 'inline-flex';
            } else {
                addDayBtn.style.display = 'none';
            }

            // Render regular days
            for (let day = 1; day <= totalDays; day++) {
                const daySection = createDaySection(day);
                container.appendChild(daySection);
            }

            // Render alternative schedule
            const altSection = createDaySection(0);
            container.appendChild(altSection);
        }

        // Create day section
        function createDaySection(day) {
            const section = document.createElement('div');
            section.className = 'day-section mb-8';

            const header = document.createElement('div');
            header.className = day === 0 ? 'day-header text-white p-4 rounded-t-lg' : 'day-header text-white p-4 rounded-t-lg';
            if (day === 0) {
                header.style.background = 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)';
            }

            const title = day === 0 ? 'ğŸ”„ ëŒ€ì²´ ì¼ì • ì˜µì…˜' : `ğŸ“… ${day}ì¼ì°¨ - ${getDayTitle(day)}`;
            const subtitle = day === 0 ? 'ì‹œê°„ ì—¬ìœ ê°€ ìˆì„ ë•Œ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì¼ì •ê³¼ êµì²´ ê°€ëŠ¥' : '';

            header.innerHTML = `
                <h2 class="text-xl font-bold ${editMode ? 'editable' : ''}" 
                    ${editMode && day > 0 ? `contenteditable="true" onblur="updateDayTitle(${day}, this.textContent)"` : ''}>${title}</h2>
                ${subtitle ? `<p class="text-sm mt-1 opacity-90">${subtitle}</p>` : ''}
            `;

            const content = document.createElement('div');
            content.className = day === 0 ? 'bg-white rounded-b-lg shadow-lg p-4 relative alternative-section' : 'bg-white rounded-b-lg shadow-lg p-4 relative';
            content.id = `day${day}`;

            // Add module button at the top in edit mode
            if (editMode) {
                const addButton = createAddModuleButton(day);
                content.appendChild(addButton);
            }

            // Add items
            const dayItems = travelData
                .filter(item => item.day === day && shouldShowItem(item))
                .sort((a, b) => {
                    if (day === 0) return 0;
                    return timeToMinutes(a.time) - timeToMinutes(b.time);
                });

            dayItems.forEach((item, index) => {
                const itemElement = createItemElement(item, index);
                content.appendChild(itemElement);
            });

            section.appendChild(header);
            section.appendChild(content);
            return section;
        }

        // Create item element
        function createItemElement(item, index) {
            const div = document.createElement('div');
            div.className = `option-card mb-4 p-4 border-2 rounded-lg transition-all duration-300 ${getModuleClass(item.type)} ${editMode ? 'edit-mode' : ''}`;
            div.dataset.id = item.id;

            // Get day buttons for alternative items
            const getDayButtons = () => {
                let buttons = '';
                for (let d = 1; d <= totalDays; d++) {
                    buttons += `<button onclick="moveToDay(${item.id}, ${d})" class="move-to-day-btn" title="${d}ì¼ì°¨ë¡œ ì´ë™">${d}ì¼</button>`;
                }
                return buttons;
            };

            // Control buttons for edit mode
            const controlButtons = editMode ? `
                <div class="control-buttons">
                    <div class="control-buttons-row">
                        <button onclick="showEditOptionsModal(${item.id})" class="edit-options-btn">
                            <i class="fas fa-list"></i>
                            <span>ì˜µì…˜í¸ì§‘</span>
                        </button>
                    </div>
                    <div class="control-buttons-row">
                        ${item.day > 0 ? `
                            <button onclick="moveItem(${item.id}, -1)" class="p-2 bg-gray-500 text-white rounded hover:bg-gray-600 active:scale-95" title="ìœ„ë¡œ ì´ë™">
                                <i class="fas fa-arrow-up"></i>
                            </button>
                            <button onclick="moveItem(${item.id}, 1)" class="p-2 bg-gray-500 text-white rounded hover:bg-gray-600 active:scale-95" title="ì•„ë˜ë¡œ ì´ë™">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                            <button onclick="moveToSameTypeItem(${item.id}, -1)" class="p-2 bg-purple-500 text-white rounded hover:bg-purple-600 active:scale-95" title="ê°™ì€ íƒ€ì… ìœ„ë¡œ">
                                <i class="fas fa-angle-double-up"></i>
                            </button>
                            <button onclick="moveToSameTypeItem(${item.id}, 1)" class="p-2 bg-purple-500 text-white rounded hover:bg-purple-600 active:scale-95" title="ê°™ì€ íƒ€ì… ì•„ë˜ë¡œ">
                                <i class="fas fa-angle-double-down"></i>
                            </button>
                            <button onclick="moveToAlternative(${item.id})" class="move-to-alternative-btn" title="ëŒ€ì²´ì¼ì •ìœ¼ë¡œ ì´ë™">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        ` : getDayButtons()}
                        <button onclick="deleteItem(${item.id})" class="p-2 bg-red-500 text-white rounded hover:bg-red-600 active:scale-95" title="ì‚­ì œ">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            ` : '';

            // Time display
            const timeDisplay = item.time !== 'ëŒ€ì²´' ? `
                ${editMode ? 
                    `<input type="time" class="time-input" value="${item.time}" onchange="updateTime(${item.id}, this.value)">` :
                    `<span class="time-display">
                        <i class="fas fa-clock"></i>
                        ${item.time}
                    </span>`
                }
                <span class="duration-badge">
                    <i class="fas fa-hourglass-half"></i> 
                    ${item.duration}ë¶„
                </span>
            ` : '<span class="text-sm font-bold text-gray-600">ëŒ€ì²´ì¼ì •</span>';

            // Check for nearby attractions
            const hasNearby = item.details && item.details.includes('ì¸ì ‘:');
            const nearbyBadge = hasNearby ? '<span class="nearby-badge"><i class="fas fa-map-marker-alt"></i> ì¸ì ‘ê´€ê´‘ì§€</span>' : '';

            // Location badge
            const locationBadge = getLocationBadge(item);

            // Calculate total cost and savings
            const totalCost = calculateTotalCost(item);
            const totalSavings = calculateTotalSavings(item);

            // Cost summary
            const costSummary = totalCost > 0 ? `
                <div class="cost-summary">
                    ğŸ’° ì´ ë¹„ìš©: ${totalCost.toLocaleString()}ì›
                    ${item.selectedOptions && item.selectedOptions.length > 1 ? 
                        `<br><span class="text-xs">(${item.selectedOptions.length}ê°œ ì˜µì…˜ í•©ê³„)</span>` : ''}
                </div>
            ` : '';

            // Savings summary
            const savingsSummary = totalSavings.length > 0 ? `
                <div class="savings-summary">
                    ğŸ’š ì´ ì ˆì•½: ${totalSavings.reduce((sum, s) => sum + s.amount, 0).toLocaleString()}ì›
                    <br><span class="text-xs">${totalSavings.map(s => `${s.name}: ${s.amount.toLocaleString()}ì›`).join(', ')}</span>
                </div>
            ` : '';

            // Selected options display
            const hasMultipleOptions = item.selectedOptions && item.selectedOptions.length > 0;
            const selectedOptionsDisplay = hasMultipleOptions ? createSelectedOptionsDisplay(item) : '';

            // Regular details display
            const detailsDisplay = !hasMultipleOptions && !editMode ? 
                `<div class="text-sm text-gray-600 mb-2">${item.details}</div>` : '';

            div.innerHTML = `
                ${controlButtons}
                <div class="flex items-start justify-between mb-2">
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-2 flex-wrap">
                            ${timeDisplay}
                            <span class="text-xs px-2 py-1 rounded-full ${getTypeColor(item.type)} ${editMode ? 'editable' : ''}" 
                                  ${editMode ? `contenteditable="true" onblur="updateModule(${item.id}, this.textContent)"` : ''}>${item.module}</span>
                            <span class="text-xs px-2 py-1 rounded-full bg-green-100 text-green-800">${item.status}</span>
                            ${locationBadge}
                            ${nearbyBadge}
                            ${item.edited ? '<span class="text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-800">âœï¸ ìˆ˜ì •ë¨</span>' : ''}
                        </div>
                        <h4 class="font-bold text-gray-800 text-lg ${editMode ? 'editable' : ''}" 
                            ${editMode ? `contenteditable="true" onblur="updateActivity(${item.id}, this.textContent)"` : ''}>${item.activity}</h4>
                    </div>
                    <div class="flex gap-2 ml-4">
                        ${!editMode ? `
                            <button onclick="showOptions(${item.id})" class="change-button">
                                <i class="fas fa-exchange-alt"></i>
                                <span>ë³€ê²½</span>
                            </button>
                        ` : ''}
                    </div>
                </div>
                
                ${detailsDisplay}
                ${selectedOptionsDisplay}
                ${costSummary}
                ${savingsSummary}
                
                <div class="flex flex-wrap gap-2 text-xs mt-2">
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 rounded-full">${item.options.length}ê°œ ì˜µì…˜</span>
                </div>
            `;

            return div;
        }

        // Calculate total cost from selected options
        function calculateTotalCost(item) {
            if (!item.selectedOptions || item.selectedOptions.length === 0) {
                return item.cost || 0;
            }
            
            let total = 0;
            item.selectedOptions.forEach(optionIndex => {
                const option = item.options[optionIndex];
                if (option && option.cost) {
                    total += option.cost;
                }
            });
            return total;
        }

        // Calculate total savings from selected options
        function calculateTotalSavings(item) {
            const savingsMap = new Map();
            
            if (!item.selectedOptions || item.selectedOptions.length === 0) {
                if (item.saving > 0) {
                    savingsMap.set('ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤', item.saving);
                }
            } else {
                item.selectedOptions.forEach(optionIndex => {
                    const option = item.options[optionIndex];
                    if (option && option.savings && option.savings.length > 0) {
                        option.savings.forEach(saving => {
                            const current = savingsMap.get(saving.name) || 0;
                            savingsMap.set(saving.name, current + saving.amount);
                        });
                    }
                });
            }
            
            const result = [];
            savingsMap.forEach((amount, name) => {
                result.push({ name, amount });
            });
            return result;
        }

        // Move to alternative
        function moveToAlternative(id) {
            const item = travelData.find(i => i.id === id);
            if (!item) return;

            // Find matching alternative module
            const location = getItemLocation(item);
            const alternativeItems = travelData.filter(i => i.day === 0);
            
            let targetModule = null;
            
            // First, try to find exact location match
            if (location) {
                targetModule = alternativeItems.find(alt => {
                    const altLocation = getItemLocation(alt);
                    return altLocation && altLocation === location && getModuleType(alt.module) === getModuleType(item.module);
                });
            }
            
            // If no location match, find by module type
            if (!targetModule) {
                targetModule = alternativeItems.find(alt => 
                    getModuleType(alt.module) === getModuleType(item.module)
                );
            }
            
            // If still no match, create new alternative module
            if (!targetModule) {
                const newModule = {
                    id: nextId++,
                    day: 0,
                    time: "ëŒ€ì²´",
                    duration: item.duration,
                    activity: `ëŒ€ì²´ ${getTypeName(item.type)} ì˜µì…˜`,
                    type: item.type,
                    module: item.module.replace(/ğŸŸ¢|ğŸŸ¡|ğŸ”µ|ğŸŸ£|ğŸŸ /, 'ğŸŸ¡').replace(/ëª¨ë“ˆ/, 'ëŒ€ì²´ëª¨ë“ˆ'),
                    status: "â­•ëŒ€ì²´ì˜µì…˜",
                    options: [],
                    details: `${location ? location + ' ' : ''}ëŒ€ì²´ ì˜µì…˜`,
                    cost: 0,
                    saving: 0,
                    edited: true
                };
                travelData.push(newModule);
                targetModule = newModule;
            }
            
            // Add item as option to target module
            const optionData = {
                name: item.activity,
                location: location || '',
                details: item.details,
                cost: item.cost || 0,
                savings: calculateTotalSavings(item)
            };
            
            targetModule.options.push(optionData);
            targetModule.edited = true;
            
            // Remove original item
            const index = travelData.findIndex(i => i.id === id);
            if (index !== -1) {
                travelData.splice(index, 1);
            }
            
            saveToStorage();
            renderSchedule();
            updateStats();
            showNotification(`ì¼ì •ì´ ëŒ€ì²´ì¼ì •ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Get item location
        function getItemLocation(item) {
            if (item.options && item.options.length > 0) {
                const firstOption = item.options[0];
                if (firstOption.location) {
                    // Extract city/district
                    const match = firstOption.location.match(/^([ê°€-í£]+ì‹œ)\s*([ê°€-í£]+êµ¬)?/);
                    if (match) {
                        return match[1] + (match[2] ? ' ' + match[2] : '');
                    }
                    return firstOption.location.split(' ')[0];
                }
            }
            return null;
        }

        // Get module type
        function getModuleType(module) {
            if (module.includes('ì‹ì‚¬')) return 'food';
            if (module.includes('ê´€ê´‘')) return 'tour';
            if (module.includes('ìˆ™ë°•')) return 'hotel';
            if (module.includes('ì´ë™')) return 'transport';
            if (module.includes('íŠ¹ë³„') || module.includes('ëª…ë¬¼') || module.includes('ë§ˆë¬´ë¦¬')) return 'special';
            return 'tour';
        }

        // Get location badge
        function getLocationBadge(item) {
            const location = getItemLocation(item);
            if (location) {
                return `<span class="location-badge">
                    <i class="fas fa-map-marker-alt"></i> ${location}
                </span>`;
            }
            return '';
        }

        // Create selected options display
        function createSelectedOptionsDisplay(item) {
            if (!item.selectedOptions || item.selectedOptions.length === 0) return '';
            
            const selectedOptionsHtml = item.selectedOptions.map(optionIndex => {
                const option = item.options[optionIndex];
                if (!option) return '';
                
                return `
                    <div class="selected-option-item">
                        <div class="font-semibold text-sm">${option.name}</div>
                        ${option.location ? `<div class="text-xs text-gray-500 mb-1"><i class="fas fa-map-marker-alt"></i> ${option.location}</div>` : ''}
                        <div class="text-xs text-gray-600">${option.details}</div>
                    </div>
                `;
            }).join('');

            return `
                <div class="selected-options-preview">
                    <h5>ì„ íƒëœ ì˜µì…˜ë“¤:</h5>
                    ${selectedOptionsHtml}
                </div>
            `;
        }

        // Move to same type item
        function moveToSameTypeItem(id, direction) {
            const item = travelData.find(i => i.id === id);
            if (!item || item.day === 0) return;

            const sameTypeItems = travelData
                .filter(i => i.day === item.day && i.type === item.type)
                .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));

            const currentIndex = sameTypeItems.findIndex(i => i.id === id);
            const targetIndex = currentIndex + direction;

            if (targetIndex < 0 || targetIndex >= sameTypeItems.length) {
                if (direction > 0 && item.day > 0) {
                    // Move to alternative
                    moveToAlternative(id);
                    return;
                }
                showNotification(`ë” ì´ìƒ ${direction > 0 ? 'ì•„ë˜' : 'ìœ„'}ì— ê°™ì€ íƒ€ì…ì˜ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤`);
                return;
            }

            const targetItem = sameTypeItems[targetIndex];
            
            // Swap times
            const tempTime = item.time;
            item.time = targetItem.time;
            targetItem.time = tempTime;
            
            // Auto calculate if enabled
            const autoCalculate = document.getElementById('autoCalculate').checked;
            if (autoCalculate) {
                recalculateDayTimes(item.day);
            }
            
            item.edited = true;
            targetItem.edited = true;
            
            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
            showNotification(`${getTypeName(item.type)} ì¼ì •ì´ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Get type name
        function getTypeName(type) {
            const typeNames = {
                'food': 'ì‹ì‚¬',
                'tour': 'ê´€ê´‘',
                'hotel': 'ìˆ™ë°•',
                'transport': 'ì´ë™',
                'special': 'íŠ¹ë³„'
            };
            return typeNames[type] || type;
        }

        // Toggle multi select mode
        function toggleMultiSelectMode() {
            isMultiSelectMode = document.getElementById('multiSelectMode').checked;
            selectedOptions = [];
            
            if (isMultiSelectMode) {
                document.getElementById('multiSelectControls').classList.remove('hidden');
                document.getElementById('modalContent').classList.add('multi-select-mode');
            } else {
                document.getElementById('multiSelectControls').classList.remove('hidden');
                document.getElementById('modalContent').classList.remove('multi-select-mode');
            }
            
            if (currentOptionsModalItemId) {
                renderOptionsModal(currentOptionsModalItemId);
            }
        }

        // Apply selected options
        function applySelectedOptions() {
            if (selectedOptions.length === 0) {
                showNotification('ì„ íƒëœ ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤');
                return;
            }

            const item = travelData.find(i => i.id === currentOptionsModalItemId);
            if (!item) return;

            item.selectedOptions = [...selectedOptions];
            
            const selectedOptionNames = selectedOptions.map(index => item.options[index].name).join(' + ');
            item.activity = selectedOptionNames;
            
            const selectedDetails = selectedOptions.map(index => {
                const option = item.options[index];
                return `[${option.name}] ${option.details}`;
            }).join('\n');
            item.details = selectedDetails;
            
            item.edited = true;
            
            saveToStorage();
            renderSchedule();
            updateStats();
            closeModal();
            showSaveIndicator();
            showNotification(`${selectedOptions.length}ê°œì˜ ì˜µì…˜ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Clear selected options
        function clearSelectedOptions() {
            selectedOptions = [];
            const checkboxes = document.querySelectorAll('.option-checkbox');
            checkboxes.forEach(cb => cb.checked = false);
            showNotification('ì„ íƒì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // Toggle option selection
        function toggleOptionSelection(optionIndex) {
            const index = selectedOptions.indexOf(optionIndex);
            if (index > -1) {
                selectedOptions.splice(index, 1);
            } else {
                selectedOptions.push(optionIndex);
            }
        }

        // Show options
        function showOptions(id) {
            currentOptionsModalItemId = id;
            renderOptionsModal(id);
            document.getElementById('optionsModal').classList.remove('hidden');
            disableBodyScroll();
        }

        // Render options modal
        function renderOptionsModal(id) {
            const item = travelData.find(i => i.id === id);
            if (!item) return;

            document.getElementById('modalTitle').innerHTML = `
                <i class="${getTypeIcon(item.type)}"></i> ${item.activity} - ì˜µì…˜ ì„ íƒ
            `;
            
            const modalContent = document.getElementById('modalContent');
            
            if (isMultiSelectMode) {
                modalContent.innerHTML = item.options.map((option, index) => {
                    const isSelected = selectedOptions.includes(index);
                    return `
                        <div class="option-item p-4 border-2 rounded-lg mb-3 transition-all ${isSelected ? 'border-blue-500 bg-blue-50' : 'hover:border-blue-500 hover:bg-blue-50'}">
                            <input type="checkbox" class="option-checkbox" ${isSelected ? 'checked' : ''} 
                                   onchange="toggleOptionSelection(${index})" id="option-${index}">
                            <label for="option-${index}" class="cursor-pointer">
                                <div class="font-bold text-lg mb-1">${option.name}</div>
                                ${option.location ? `<div class="text-sm text-gray-500 mb-2"><i class="fas fa-map-marker-alt"></i> ${option.location}</div>` : ''}
                                ${option.details ? `<div class="text-sm text-gray-600 whitespace-pre-line">${option.details}</div>` : ''}
                                ${option.cost ? `<div class="text-sm mt-2">ğŸ’° ë¹„ìš©: ${option.cost.toLocaleString()}ì›</div>` : ''}
                                ${option.savings && option.savings.length > 0 ? `
                                    <div class="text-sm mt-1">ğŸ’š ì ˆì•½: ${option.savings.map(s => `${s.name} ${s.amount.toLocaleString()}ì›`).join(', ')}</div>
                                ` : ''}
                            </label>
                        </div>
                    `;
                }).join('');
            } else {
                modalContent.innerHTML = item.options.map((option, index) => {
                    return `
                        <div class="option-item p-4 border-2 rounded-lg mb-3 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all"
                             onclick="selectOption(${id}, ${index})">
                            <div class="font-bold text-lg mb-1">${option.name}</div>
                            ${option.location ? `<div class="text-sm text-gray-500 mb-2"><i class="fas fa-map-marker-alt"></i> ${option.location}</div>` : ''}
                            ${option.details ? `<div class="text-sm text-gray-600 whitespace-pre-line">${option.details}</div>` : ''}
                            ${option.cost ? `<div class="text-sm mt-2">ğŸ’° ë¹„ìš©: ${option.cost.toLocaleString()}ì›</div>` : ''}
                            ${option.savings && option.savings.length > 0 ? `
                                <div class="text-sm mt-1">ğŸ’š ì ˆì•½: ${option.savings.map(s => `${s.name} ${s.amount.toLocaleString()}ì›`).join(', ')}</div>
                            ` : ''}
                        </div>
                    `;
                }).join('');
            }
        }

        // Select option
        function selectOption(id, optionIndex) {
            const item = travelData.find(i => i.id === id);
            if (!item) return;

            const option = item.options[optionIndex];
            
            item.activity = option.name;
            if (option.details) {
                item.details = option.details;
            }
            item.selectedOptions = [optionIndex];
            item.edited = true;
            
            saveToStorage();
            renderSchedule();
            updateStats();
            closeModal();
            showSaveIndicator();
        }

        // Create add module button
        function createAddModuleButton(day) {
            const div = document.createElement('div');
            div.className = 'add-module-btn rounded-lg';
            div.onclick = () => showAddModuleModal(day);
            
            const quickAddButtons = day > 0 ? `
                <div class="quick-add-buttons" onclick="event.stopPropagation()">
                    <button onclick="quickAdd(${day}, 'meal')" class="quick-add-btn quick-add-food">
                        <i class="fas fa-utensils"></i> ì‹ì‚¬
                    </button>
                    <button onclick="quickAdd(${day}, 'tour')" class="quick-add-btn quick-add-tour">
                        <i class="fas fa-monument"></i> ê´€ê´‘
                    </button>
                    <button onclick="quickAdd(${day}, 'transport')" class="quick-add-btn quick-add-transport">
                        <i class="fas fa-car"></i> ì´ë™
                    </button>
                    <button onclick="quickAdd(${day}, 'rest')" class="quick-add-btn quick-add-rest">
                        <i class="fas fa-coffee"></i> íœ´ì‹
                    </button>
                </div>
            ` : '';
            
            div.innerHTML = `
                <i class="fas fa-plus-circle text-3xl text-blue-600 mb-2"></i>
                <div class="text-blue-700 text-lg mb-2">+ ìƒˆ ì¼ì • ì¶”ê°€</div>
                <div class="text-sm text-gray-600">í´ë¦­í•˜ì—¬ ìƒì„¸ ì¼ì • ì¶”ê°€</div>
                ${quickAddButtons}
            `;
            return div;
        }

        // Quick add
        function quickAdd(day, type) {
            currentAddDay = day;
            
            const templates = {
                'meal': {
                    activity: 'ì‹ì‚¬',
                    type: 'food',
                    duration: 90,
                    details: 'ì‹ì‚¬ ì¥ì†Œì™€ ë©”ë‰´ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                    cost: 10000
                },
                'tour': {
                    activity: 'ê´€ê´‘ì§€ ë°©ë¬¸',
                    type: 'tour',
                    duration: 120,
                    details: 'ê´€ê´‘ì§€ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”',
                    cost: 0
                },
                'transport': {
                    activity: 'ì´ë™',
                    type: 'transport',
                    duration: 60,
                    details: 'ì¶œë°œì§€ â†’ ëª©ì ì§€',
                    cost: 5000
                },
                'rest': {
                    activity: 'íœ´ì‹/ì¹´í˜',
                    type: 'special',
                    duration: 60,
                    details: 'íœ´ì‹ ì¥ì†Œ ì •ë³´',
                    cost: 5000
                }
            };
            
            const template = templates[type];
            
            const dayItems = travelData.filter(i => i.day === day);
            let newTime = "09:00";
            
            if (dayItems.length > 0) {
                const lastItem = dayItems.sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time))[0];
                const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                newTime = minutesToTime(lastEndTime);
            } else {
                const defaultTimes = { 1: "07:00", 2: "08:00", 3: "08:00" };
                newTime = defaultTimes[day] || "09:00";
            }
            
            const moduleMap = {
                'food': 'ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ',
                'tour': 'ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ',
                'hotel': 'ğŸ”µìˆ™ë°•ëª¨ë“ˆ',
                'transport': 'ğŸŸ£ì´ë™ëª¨ë“ˆ',
                'special': 'ğŸŸ íŠ¹ë³„ëª¨ë“ˆ'
            };
            
            const newItem = {
                id: nextId++,
                day: day,
                time: newTime,
                duration: template.duration,
                activity: template.activity,
                type: template.type,
                module: moduleMap[template.type],
                status: "âœ…ì¶”ê°€ë¨",
                options: [{name: template.activity, location: "ìœ„ì¹˜ ì…ë ¥", details: template.details, cost: template.cost, savings: []}],
                details: template.details,
                cost: template.cost,
                saving: 0,
                edited: true,
                selectedOptions: [0]
            };
            
            travelData.push(newItem);
            
            if (document.getElementById('autoCalculate').checked) {
                recalculateDayTimes(day);
            }
            
            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
            showNotification(`${template.activity} ì¼ì •ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Select template
        function selectTemplate(type) {
            const templates = {
                'meal': {
                    activity: 'ì ì‹¬ì‹ì‚¬',
                    type: 'food',
                    duration: 90,
                    details: 'ë§›ì§‘ì—ì„œ ì ì‹¬ì‹ì‚¬',
                    cost: 10000
                },
                'tour': {
                    activity: 'ê´€ê´‘ì§€ ë°©ë¬¸',
                    type: 'tour',
                    duration: 120,
                    details: 'ì£¼ìš” ê´€ê´‘ì§€ ë°©ë¬¸ ë° ê´€ëŒ',
                    cost: 3000
                },
                'transport': {
                    activity: 'ì´ë™',
                    type: 'transport',
                    duration: 60,
                    details: 'ë‹¤ìŒ ëª©ì ì§€ë¡œ ì´ë™',
                    cost: 5000
                },
                'rest': {
                    activity: 'ì¹´í˜ íœ´ì‹',
                    type: 'special',
                    duration: 60,
                    details: 'ì¹´í˜ì—ì„œ íœ´ì‹ ë° ê°„ì‹',
                    cost: 8000
                }
            };
            
            const template = templates[type];
            document.getElementById('newActivity').value = template.activity;
            document.getElementById('newType').value = template.type;
            document.getElementById('newDuration').value = template.duration;
            document.getElementById('newDetails').value = template.details;
            document.getElementById('newCost').value = template.cost;
            
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.template-card').classList.add('selected');
        }

        // Move to day
        function moveToDay(id, targetDay) {
            const item = travelData.find(i => i.id === id);
            if (!item) return;

            // If moving from alternative to main day
            if (item.day === 0 && targetDay > 0) {
                // Find last item of same type in target day
                const sameTypeItems = travelData
                    .filter(i => i.day === targetDay && i.type === item.type)
                    .sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time));
                
                if (sameTypeItems.length > 0) {
                    // Insert after last same type item
                    const lastItem = sameTypeItems[0];
                    const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                    item.time = minutesToTime(lastEndTime);
                } else {
                    // No same type items, add at end of day
                    const dayItems = travelData
                        .filter(i => i.day === targetDay)
                        .sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time));
                    
                    if (dayItems.length > 0) {
                        const lastItem = dayItems[0];
                        const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                        item.time = minutesToTime(lastEndTime);
                    } else {
                        const defaultTimes = { 1: "09:00", 2: "09:00", 3: "09:00" };
                        item.time = defaultTimes[targetDay] || "09:00";
                    }
                }
                
                // Change module name from alternative to regular
                item.module = item.module.replace('ëŒ€ì²´', '');
                item.status = "âœ…í˜„ì¬ì„ íƒ";
            } else if (targetDay === 0) {
                item.time = "ëŒ€ì²´";
                item.status = "â­•ëŒ€ì²´ì˜µì…˜";
            } else {
                // Moving between regular days
                const dayItems = travelData
                    .filter(i => i.day === targetDay)
                    .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));
                
                if (dayItems.length > 0) {
                    const lastItem = dayItems[dayItems.length - 1];
                    const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                    item.time = minutesToTime(lastEndTime);
                } else {
                    const defaultTimes = { 1: "09:00", 2: "09:00", 3: "09:00" };
                    item.time = defaultTimes[targetDay] || "09:00";
                }
            }

            item.day = targetDay;
            item.edited = true;

            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
            showNotification(`ì¼ì •ì´ ${targetDay === 0 ? 'ëŒ€ì²´ì¼ì •' : targetDay + 'ì¼ì°¨'}ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤`);
        }

        // Show edit options modal
        function showEditOptionsModal(id) {
            currentEditItemId = id;
            const item = travelData.find(i => i.id === id);
            if (!item) return;

            const optionsList = document.getElementById('optionsList');
            optionsList.innerHTML = '';

            item.options.forEach((option, index) => {
                const isSelected = item.selectedOptions && item.selectedOptions.includes(index);
                const canMove = !isSelected || item.day === 0; // Can move if not selected or in alternative

                const optionDiv = document.createElement('div');
                optionDiv.className = 'mb-4 p-4 border rounded-lg bg-gray-50';
                optionDiv.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold">ì˜µì…˜ ${index + 1} ${isSelected ? '<span class="text-green-600">(ì„ íƒë¨)</span>' : ''}</h4>
                        <div class="option-order-buttons">
                            ${canMove && index > 0 ? `<button onclick="moveOption(${index}, -1)" class="option-order-btn" title="ìœ„ë¡œ ì´ë™">
                                <i class="fas fa-arrow-up"></i>
                            </button>` : ''}
                            ${canMove && index < item.options.length - 1 ? `<button onclick="moveOption(${index}, 1)" class="option-order-btn" title="ì•„ë˜ë¡œ ì´ë™">
                                <i class="fas fa-arrow-down"></i>
                            </button>` : ''}
                            ${canMove && item.day > 0 ? `<button onclick="moveOptionToSameType(${index}, -1)" class="option-order-btn bg-purple-600" title="ê°™ì€ íƒ€ì… ìœ„ë¡œ">
                                <i class="fas fa-angle-double-up"></i>
                            </button>` : ''}
                            ${canMove && item.day > 0 ? `<button onclick="moveOptionToSameType(${index}, 1)" class="option-order-btn bg-purple-600" title="ê°™ì€ íƒ€ì… ì•„ë˜ë¡œ">
                                <i class="fas fa-angle-double-down"></i>
                            </button>` : ''}
                            ${item.day > 0 ? `<button onclick="moveOptionToAlternative(${index})" class="option-order-btn bg-gray-600" title="ëŒ€ì²´ì¼ì •ìœ¼ë¡œ">
                                <i class="fas fa-exchange-alt"></i>
                            </button>` : ''}
                            ${item.day === 0 ? getDayButtonsForOption(index) : ''}
                            <button onclick="deleteOption(${index})" class="text-red-500 hover:text-red-700 ml-2">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="mb-2">
                        <label class="block text-sm font-medium mb-1">ì˜µì…˜ëª…</label>
                        <input type="text" class="w-full p-2 border rounded" value="${option.name}" 
                               onchange="updateOption(${index}, 'name', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="block text-sm font-medium mb-1">ìœ„ì¹˜</label>
                        <input type="text" class="w-full p-2 border rounded" value="${option.location || ''}" 
                               onchange="updateOption(${index}, 'location', this.value)" placeholder="ì˜ˆ: ì „ì£¼ì‹œ ì™„ì‚°êµ¬ êµë™">
                    </div>
                    <div class="mb-2">
                        <label class="block text-sm font-medium mb-1">ìƒì„¸ ì„¤ëª…</label>
                        <textarea class="w-full p-2 border rounded" rows="3" 
                                  onchange="updateOption(${index}, 'details', this.value)">${option.details || ''}</textarea>
                    </div>
                    <div class="mb-2">
                        <label class="block text-sm font-medium mb-1">ë¹„ìš©</label>
                        <div class="duration-input-wrapper" style="width: 150px;">
                            <button class="duration-btn" onclick="changeOptionCost(${index}, -1000)">-</button>
                            <input type="number" class="duration-input" style="width: 80px;" value="${option.cost || 0}" 
                                   onchange="updateOption(${index}, 'cost', parseInt(this.value) || 0)" min="0" step="1000">
                            <button class="duration-btn" onclick="changeOptionCost(${index}, 1000)">+</button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">ì ˆì•½ í•­ëª©</label>
                        <div class="saving-items" id="savingItems_${index}">
                            ${renderSavingItems(option.savings || [], index)}
                        </div>
                        <button onclick="addSavingItem(${index})" class="mt-2 text-sm bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">
                            <i class="fas fa-plus"></i> ì ˆì•½ í•­ëª© ì¶”ê°€
                        </button>
                    </div>
                `;
                optionsList.appendChild(optionDiv);
            });

            document.getElementById('editOptionsModal').classList.remove('hidden');
            disableBodyScroll();
        }

        // Get day buttons for option
        function getDayButtonsForOption(optionIndex) {
            let buttons = '';
            for (let d = 1; d <= totalDays; d++) {
                buttons += `<button onclick="moveOptionToDay(${optionIndex}, ${d})" class="option-order-btn bg-green-600 ml-1" title="${d}ì¼ì°¨ë¡œ">
                    ${d}ì¼
                </button>`;
            }
            return buttons;
        }

        // Move option to day
        function moveOptionToDay(optionIndex, targetDay) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex]) return;

            const option = item.options[optionIndex];
            
            // Find or create target item in the day
            const sameTypeItems = travelData.filter(i => 
                i.day === targetDay && i.type === item.type
            ).sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time));

            let targetItem;
            if (sameTypeItems.length > 0) {
                targetItem = sameTypeItems[0]; // Add to last item of same type
            } else {
                // Create new item
                const dayItems = travelData.filter(i => i.day === targetDay);
                let newTime = "09:00";
                
                if (dayItems.length > 0) {
                    const lastItem = dayItems.sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time))[0];
                    const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                    newTime = minutesToTime(lastEndTime);
                }

                targetItem = {
                    id: nextId++,
                    day: targetDay,
                    time: newTime,
                    duration: item.duration,
                    activity: option.name,
                    type: item.type,
                    module: item.module.replace('ëŒ€ì²´', ''),
                    status: "âœ…í˜„ì¬ì„ íƒ",
                    options: [],
                    details: option.details,
                    cost: option.cost || 0,
                    saving: 0,
                    edited: true,
                    selectedOptions: [0]
                };
                travelData.push(targetItem);
            }

            // Add option to target item
            targetItem.options.push({...option});
            targetItem.edited = true;

            // Remove from current item
            item.options.splice(optionIndex, 1);
            
            // If this was the last option, remove the item
            if (item.options.length === 0) {
                const itemIndex = travelData.findIndex(i => i.id === item.id);
                if (itemIndex !== -1) {
                    travelData.splice(itemIndex, 1);
                }
                closeEditOptionsModal();
            } else {
                // Update selected options if needed
                if (item.selectedOptions) {
                    item.selectedOptions = item.selectedOptions
                        .filter(i => i !== optionIndex)
                        .map(i => i > optionIndex ? i - 1 : i);
                }
            }

            saveToStorage();
            renderSchedule();
            updateStats();
            showNotification(`ì˜µì…˜ì´ ${targetDay}ì¼ì°¨ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤`);
            
            if (item.options.length > 0) {
                showEditOptionsModal(currentEditItemId);
            }
        }

        // Move option to alternative
        function moveOptionToAlternative(optionIndex) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex]) return;

            const option = item.options[optionIndex];
            const location = option.location ? option.location.split(' ')[0] : null;
            
            // Find matching alternative module
            const alternativeItems = travelData.filter(i => i.day === 0);
            let targetModule = null;
            
            if (location) {
                targetModule = alternativeItems.find(alt => {
                    const altLocation = getItemLocation(alt);
                    return altLocation && altLocation.includes(location) && getModuleType(alt.module) === item.type;
                });
            }
            
            if (!targetModule) {
                targetModule = alternativeItems.find(alt => 
                    getModuleType(alt.module) === item.type
                );
            }
            
            if (!targetModule) {
                const newModule = {
                    id: nextId++,
                    day: 0,
                    time: "ëŒ€ì²´",
                    duration: item.duration,
                    activity: `ëŒ€ì²´ ${getTypeName(item.type)} ì˜µì…˜`,
                    type: item.type,
                    module: item.module.replace(/ğŸŸ¢|ğŸŸ¡|ğŸ”µ|ğŸŸ£|ğŸŸ /, 'ğŸŸ¡').replace(/ëª¨ë“ˆ/, 'ëŒ€ì²´ëª¨ë“ˆ'),
                    status: "â­•ëŒ€ì²´ì˜µì…˜",
                    options: [],
                    details: `${location ? location + ' ' : ''}ëŒ€ì²´ ì˜µì…˜`,
                    cost: 0,
                    saving: 0,
                    edited: true
                };
                travelData.push(newModule);
                targetModule = newModule;
            }
            
            targetModule.options.push({...option});
            targetModule.edited = true;
            
            // Remove from current item
            item.options.splice(optionIndex, 1);
            
            if (item.options.length === 0) {
                const itemIndex = travelData.findIndex(i => i.id === item.id);
                if (itemIndex !== -1) {
                    travelData.splice(itemIndex, 1);
                }
                closeEditOptionsModal();
            } else {
                if (item.selectedOptions) {
                    item.selectedOptions = item.selectedOptions
                        .filter(i => i !== optionIndex)
                        .map(i => i > optionIndex ? i - 1 : i);
                }
            }

            saveToStorage();
            renderSchedule();
            updateStats();
            showNotification('ì˜µì…˜ì´ ëŒ€ì²´ì¼ì •ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤');
            
            if (item.options.length > 0) {
                showEditOptionsModal(currentEditItemId);
            }
        }

        // Move option to same type
        function moveOptionToSameType(optionIndex, direction) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex]) return;

            const option = item.options[optionIndex];
            const sameTypeItems = travelData
                .filter(i => i.day === item.day && i.type === item.type && i.id !== item.id)
                .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));

            if (sameTypeItems.length === 0) {
                if (direction > 0 && item.day > 0) {
                    moveOptionToAlternative(optionIndex);
                    return;
                }
                showNotification('ê°™ì€ íƒ€ì…ì˜ ë‹¤ë¥¸ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤');
                return;
            }

            const targetItem = direction > 0 ? 
                sameTypeItems[sameTypeItems.length - 1] : 
                sameTypeItems[0];

            targetItem.options.push({...option});
            targetItem.edited = true;

            // Remove from current item
            item.options.splice(optionIndex, 1);
            
            if (item.options.length === 0) {
                const itemIndex = travelData.findIndex(i => i.id === item.id);
                if (itemIndex !== -1) {
                    travelData.splice(itemIndex, 1);
                }
                closeEditOptionsModal();
            } else {
                if (item.selectedOptions) {
                    item.selectedOptions = item.selectedOptions
                        .filter(i => i !== optionIndex)
                        .map(i => i > optionIndex ? i - 1 : i);
                }
            }

            saveToStorage();
            renderSchedule();
            updateStats();
            showNotification(`ì˜µì…˜ì´ ${direction > 0 ? 'ì•„ë˜' : 'ìœ„'} ${getTypeName(item.type)} ì¼ì •ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤`);
            
            if (item.options.length > 0) {
                showEditOptionsModal(currentEditItemId);
            }
        }

        // Render saving items
        function renderSavingItems(savings, optionIndex) {
            if (!savings || savings.length === 0) {
                return '<div class="text-sm text-gray-500">ì ˆì•½ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤</div>';
            }
            
            return savings.map((saving, savingIndex) => `
                <div class="saving-item">
                    <input type="text" placeholder="í•­ëª©ëª…" value="${saving.name || ''}" 
                           onchange="updateSavingItem(${optionIndex}, ${savingIndex}, 'name', this.value)"
                           class="flex-1">
                    <div class="duration-input-wrapper" style="width: 120px;">
                        <button class="duration-btn" onclick="changeSavingAmount(${optionIndex}, ${savingIndex}, -100)">-</button>
                        <input type="number" placeholder="ê¸ˆì•¡" value="${saving.amount || 0}" 
                               onchange="updateSavingItem(${optionIndex}, ${savingIndex}, 'amount', parseInt(this.value) || 0)"
                               class="amount-input duration-input" style="width: 60px;" min="0" step="100">
                        <button class="duration-btn" onclick="changeSavingAmount(${optionIndex}, ${savingIndex}, 100)">+</button>
                    </div>
                    <button onclick="deleteSavingItem(${optionIndex}, ${savingIndex})" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        // Add saving item
        function addSavingItem(optionIndex) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex]) return;

            if (!item.options[optionIndex].savings) {
                item.options[optionIndex].savings = [];
            }
            
            item.options[optionIndex].savings.push({ name: 'ì „ë¶íˆ¬ì–´íŒ¨ìŠ¤', amount: 0 });
            item.edited = true;
            
            saveToStorage();
            updateStats();
            
            // Refresh saving items display
            const container = document.getElementById(`savingItems_${optionIndex}`);
            if (container) {
                container.innerHTML = renderSavingItems(item.options[optionIndex].savings, optionIndex);
            }
        }

        // Update saving item
        function updateSavingItem(optionIndex, savingIndex, field, value) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex] || !item.options[optionIndex].savings[savingIndex]) return;

            item.options[optionIndex].savings[savingIndex][field] = value;
            item.edited = true;
            
            saveToStorage();
            updateStats();
        }

        // Change saving amount
        function changeSavingAmount(optionIndex, savingIndex, change) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex] || !item.options[optionIndex].savings[savingIndex]) return;

            const currentAmount = item.options[optionIndex].savings[savingIndex].amount || 0;
            item.options[optionIndex].savings[savingIndex].amount = Math.max(0, currentAmount + change);
            item.edited = true;
            
            saveToStorage();
            updateStats();
            
            // Refresh saving items display
            const container = document.getElementById(`savingItems_${optionIndex}`);
            if (container) {
                container.innerHTML = renderSavingItems(item.options[optionIndex].savings, optionIndex);
            }
        }

        // Delete saving item
        function deleteSavingItem(optionIndex, savingIndex) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex] || !item.options[optionIndex].savings) return;

            item.options[optionIndex].savings.splice(savingIndex, 1);
            item.edited = true;
            
            saveToStorage();
            updateStats();
            
            // Refresh saving items display
            const container = document.getElementById(`savingItems_${optionIndex}`);
            if (container) {
                container.innerHTML = renderSavingItems(item.options[optionIndex].savings, optionIndex);
            }
        }

        // Change option cost
        function changeOptionCost(optionIndex, change) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[optionIndex]) return;

            const currentCost = item.options[optionIndex].cost || 0;
            item.options[optionIndex].cost = Math.max(0, currentCost + change);
            item.edited = true;
            
            saveToStorage();
            updateStats();
            showEditOptionsModal(currentEditItemId);
        }

        // Move option
        function moveOption(index, direction) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item) return;

            const targetIndex = index + direction;
            if (targetIndex < 0 || targetIndex >= item.options.length) return;

            const temp = item.options[index];
            item.options[index] = item.options[targetIndex];
            item.options[targetIndex] = temp;

            // Update selected options
            if (item.selectedOptions) {
                item.selectedOptions = item.selectedOptions.map(i => {
                    if (i === index) return targetIndex;
                    if (i === targetIndex) return index;
                    return i;
                });
            }

            item.edited = true;
            saveToStorage();
            updateStats();
            showEditOptionsModal(currentEditItemId);
        }

        // Update option
        function updateOption(index, field, value) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || !item.options[index]) return;

            item.options[index][field] = value;
            item.edited = true;
            saveToStorage();
            updateStats();
        }

        // Delete option
        function deleteOption(index) {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item || item.options.length <= 1) return;

            if (confirm('ì´ ì˜µì…˜ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                item.options.splice(index, 1);
                
                // Update selected options
                if (item.selectedOptions) {
                    item.selectedOptions = item.selectedOptions
                        .filter(i => i !== index)
                        .map(i => i > index ? i - 1 : i);
                }
                
                item.edited = true;
                saveToStorage();
                updateStats();
                showEditOptionsModal(currentEditItemId);
            }
        }

        // Add new option
        function addNewOption() {
            const item = travelData.find(i => i.id === currentEditItemId);
            if (!item) return;

            item.options.push({ 
                name: 'ìƒˆ ì˜µì…˜', 
                location: 'ìœ„ì¹˜ ì…ë ¥', 
                details: 'ìƒì„¸ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”',
                cost: 0,
                savings: []
            });
            item.edited = true;
            saveToStorage();
            updateStats();
            showEditOptionsModal(currentEditItemId);
        }

        // Close edit options modal
        function closeEditOptionsModal() {
            document.getElementById('editOptionsModal').classList.add('hidden');
            currentEditItemId = null;
            renderSchedule();
            enableBodyScroll();
        }

        // Move item
        function moveItem(id, direction) {
            const item = travelData.find(i => i.id === id);
            if (!item || item.day === 0) return;

            const dayItems = travelData
                .filter(i => i.day === item.day)
                .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));

            const currentIndex = dayItems.findIndex(i => i.id === id);
            const targetIndex = currentIndex + direction;

            if (targetIndex < 0 || targetIndex >= dayItems.length) return;

            const targetItem = dayItems[targetIndex];
            
            const tempTime = item.time;
            item.time = targetItem.time;
            targetItem.time = tempTime;
            
            const autoCalculate = document.getElementById('autoCalculate').checked;
            if (autoCalculate) {
                recalculateDayTimes(item.day);
            }
            
            item.edited = true;
            targetItem.edited = true;
            
            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
        }

        // Recalculate all times
        function recalculateAllTimes() {
            for (let day = 1; day <= totalDays; day++) {
                recalculateDayTimes(day);
            }
            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
            showNotification('ëª¨ë“  ì¼ì •ì˜ ì‹œê°„ì´ ì¬ê³„ì‚°ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // Recalculate times for a day
        function recalculateDayTimes(day) {
            const dayItems = travelData
                .filter(i => i.day === day)
                .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));

            if (dayItems.length <= 1) return;

            for (let i = 1; i < dayItems.length; i++) {
                const prevItem = dayItems[i - 1];
                const prevEndTime = timeToMinutes(prevItem.time) + (prevItem.duration || 60);
                dayItems[i].time = minutesToTime(prevEndTime);
                dayItems[i].edited = true;
            }
        }

        // Time utilities
        function timeToMinutes(time) {
            if (!time || time === 'ëŒ€ì²´') return 0;
            const [hours, minutes] = time.split(':').map(Number);
            return hours * 60 + minutes;
        }

        function minutesToTime(minutes) {
            const hours = Math.floor(minutes / 60) % 24;
            const mins = minutes % 60;
            return `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}`;
        }

        // Update functions
        function updateTime(id, newTime) {
            const item = travelData.find(i => i.id === id);
            if (item && /^\d{2}:\d{2}$/.test(newTime)) {
                item.time = newTime;
                item.edited = true;
                saveToStorage();
                updateStats();
            }
        }

        function updateDuration(id, newDuration) {
            const duration = parseInt(newDuration);
            if (!isNaN(duration) && duration >= 0) {
                const item = travelData.find(i => i.id === id);
                if (item) {
                    item.duration = duration;
                    item.edited = true;
                    saveToStorage();
                    updateStats();
                }
            }
        }

        function updateModule(id, newModule) {
            const item = travelData.find(i => i.id === id);
            if (item) {
                item.module = newModule.trim();
                item.edited = true;
                saveToStorage();
                updateStats();
            }
        }

        function updateActivity(id, newActivity) {
            const item = travelData.find(i => i.id === id);
            if (item) {
                item.activity = newActivity.trim();
                item.edited = true;
                saveToStorage();
                updateStats();
            }
        }

        // Delete item
        function deleteItem(id) {
            if (confirm('ì´ ì¼ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const index = travelData.findIndex(i => i.id === id);
                if (index !== -1) {
                    travelData.splice(index, 1);
                    saveToStorage();
                    renderSchedule();
                    updateStats();
                    showSaveIndicator();
                }
            }
        }

        // Show add module modal
        function showAddModuleModal(day) {
            currentAddDay = day;
            
            if (day === 0) {
                document.getElementById('newTime').value = "00:00";
                document.getElementById('newTime').parentElement.style.display = 'none';
            } else {
                document.getElementById('newTime').parentElement.style.display = 'block';
                
                const dayItems = travelData.filter(i => i.day === day);
                if (dayItems.length > 0) {
                    const lastItem = dayItems.sort((a, b) => timeToMinutes(b.time) - timeToMinutes(a.time))[0];
                    const lastEndTime = timeToMinutes(lastItem.time) + (lastItem.duration || 60);
                    document.getElementById('newTime').value = minutesToTime(lastEndTime);
                } else {
                    const defaultTimes = { 1: "07:00", 2: "08:00", 3: "08:00" };
                    document.getElementById('newTime').value = defaultTimes[day] || "09:00";
                }
            }
            
            document.getElementById('newActivity').value = '';
            document.getElementById('newType').value = 'tour';
            document.getElementById('newDuration').value = '60';
            document.getElementById('newDetails').value = '';
            document.getElementById('newCost').value = '0';
            
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            document.getElementById('addModuleModal').classList.remove('hidden');
            disableBodyScroll();
        }

        // Add new module
        function addNewModule() {
            const time = currentAddDay === 0 ? "ëŒ€ì²´" : document.getElementById('newTime').value;
            const activity = document.getElementById('newActivity').value.trim();
            const type = document.getElementById('newType').value;
            const duration = parseInt(document.getElementById('newDuration').value) || 60;
            const details = document.getElementById('newDetails').value.trim();
            const cost = parseInt(document.getElementById('newCost').value) || 0;
            
            if (!activity) {
                alert('í™œë™ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const moduleMap = {
                'food': currentAddDay === 0 ? 'ğŸŸ¡ëŒ€ì²´ì‹ì‚¬ëª¨ë“ˆ' : 'ğŸŸ¢ì‹ì‚¬ëª¨ë“ˆ',
                'tour': currentAddDay === 0 ? 'ğŸŸ¡ëŒ€ì²´ê´€ê´‘ëª¨ë“ˆ' : 'ğŸŸ¡ê´€ê´‘ëª¨ë“ˆ',
                'hotel': currentAddDay === 0 ? 'ğŸŸ¡ëŒ€ì²´ìˆ™ë°•ëª¨ë“ˆ' : 'ğŸ”µìˆ™ë°•ëª¨ë“ˆ',
                'transport': currentAddDay === 0 ? 'ğŸŸ¡ëŒ€ì²´ì´ë™ëª¨ë“ˆ' : 'ğŸŸ£ì´ë™ëª¨ë“ˆ',
                'special': currentAddDay === 0 ? 'ğŸŸ¡ëŒ€ì²´íŠ¹ë³„ëª¨ë“ˆ' : 'ğŸŸ íŠ¹ë³„ëª¨ë“ˆ'
            };
            
            const newItem = {
                id: nextId++,
                day: currentAddDay,
                time: time,
                duration: duration,
                activity: activity,
                type: type,
                module: moduleMap[type],
                status: currentAddDay === 0 ? "â­•ëŒ€ì²´ì˜µì…˜" : "âœ…ì¶”ê°€ë¨",
                options: [{name: activity, location: "ìœ„ì¹˜ ì…ë ¥", details: details, cost: cost, savings: []}],
                details: details || `${activity} ê´€ë ¨ ìƒì„¸ ì •ë³´`,
                cost: cost,
                saving: 0,
                edited: true,
                selectedOptions: [0]
            };
            
            travelData.push(newItem);
            
            closeAddModal();
            saveToStorage();
            renderSchedule();
            updateStats();
            showSaveIndicator();
            showNotification('ìƒˆ ì¼ì •ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // Close modals
        function closeModal() {
            document.getElementById('optionsModal').classList.add('hidden');
            enableBodyScroll();
            document.getElementById('multiSelectMode').checked = false;
            toggleMultiSelectMode();
            currentOptionsModalItemId = null;
        }

        function closeAddModal() {
            document.getElementById('addModuleModal').classList.add('hidden');
            enableBodyScroll();
        }

        // Toggle edit mode
        function toggleEditMode() {
            editMode = !editMode;
            const btn = document.querySelector('button[onclick="toggleEditMode()"]');
            
            if (editMode) {
                btn.className = 'main-control-btn green';
                btn.innerHTML = '<i class="fas fa-check"></i><span>í¸ì§‘ì™„ë£Œ</span>';
                
                // Load main title
                const savedTitle = localStorage.getItem('mainTitle');
                if (savedTitle) {
                    document.getElementById('mainTitle').textContent = savedTitle;
                }
                
                showNotification('í¸ì§‘ëª¨ë“œê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            } else {
                btn.className = 'main-control-btn orange';
                btn.innerHTML = '<i class="fas fa-edit"></i><span>í¸ì§‘ëª¨ë“œ</span>';
                showNotification('í¸ì§‘ëª¨ë“œê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤');
            }
            
            renderSchedule();
        }

        // Save schedule
        function saveSchedule() {
            saveToStorage();
            showSaveIndicator();
        }

        // Show save indicator
        function showSaveIndicator() {
            const indicator = document.getElementById('saveIndicator');
            indicator.style.display = 'block';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }

        // Auto save
        function setupAutoSave() {
            setInterval(() => {
                if (editMode) {
                    saveToStorage();
                }
            }, 10000);
        }

        // Filter functions
        function filterByType(type) {
            currentFilter = type;
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200');
            });
            
            event.target.classList.remove('bg-gray-200');
            event.target.classList.add('bg-blue-500', 'text-white');
            
            renderSchedule();
        }

        function shouldShowItem(item) {
            if (currentFilter === 'all') return true;
            return item.type === currentFilter;
        }

        // Get type icon
        function getTypeIcon(type) {
            const icons = {
                'food': 'fas fa-utensils',
                'tour': 'fas fa-monument',
                'hotel': 'fas fa-bed',
                'transport': 'fas fa-car',
                'special': 'fas fa-star'
            };
            return icons[type] || 'fas fa-calendar';
        }

        // Get module class
        function getModuleClass(type) {
            const classes = {
                'food': 'border-green-300',
                'tour': 'border-yellow-300',
                'hotel': 'border-blue-300',
                'transport': 'border-purple-300',
                'special': 'border-red-300'
            };
            return classes[type] || 'border-gray-300';
        }

        // Get type color
        function getTypeColor(type) {
            const colors = {
                'food': 'bg-green-200 text-green-800',
                'tour': 'bg-yellow-200 text-yellow-800',
                'hotel': 'bg-blue-200 text-blue-800',
                'transport': 'bg-purple-200 text-purple-800',
                'special': 'bg-red-200 text-red-800'
            };
            return colors[type] || 'bg-gray-200 text-gray-800';
        }

        // Update stats
        function updateStats() {
            let totalCost = 0;
            const savingsMap = new Map();
            let editedCount = 0;
            let totalItems = 0;

            travelData.forEach(item => {
                if (item.day > 0) {
                    totalItems++;
                    totalCost += calculateTotalCost(item);
                    
                    const savings = calculateTotalSavings(item);
                    savings.forEach(saving => {
                        const current = savingsMap.get(saving.name) || 0;
                        savingsMap.set(saving.name, current + saving.amount);
                    });
                }
                if (item.edited) editedCount++;
            });

            // Display stats
            document.getElementById('totalBudget').textContent = `â‚©${totalCost.toLocaleString()}`;
            document.getElementById('editedItems').textContent = editedCount;
            document.getElementById('totalItems').textContent = totalItems;

            // Display all savings
            const totalSavings = Array.from(savingsMap.values()).reduce((sum, amount) => sum + amount, 0);
            document.getElementById('totalSavings').textContent = `â‚©${totalSavings.toLocaleString()}`;
            
            // Display savings categories
            const savingsCategories = Array.from(savingsMap.entries())
                .map(([name, amount]) => `${name}: â‚©${amount.toLocaleString()}`)
                .join('<br>');
            document.getElementById('savingsCategories').innerHTML = savingsCategories || 'ì ˆì•½ ì—†ìŒ';
        }

        // Export schedule
        function exportSchedule() {
            const mainTitle = document.getElementById('mainTitle').textContent.trim();
            let exportText = `ğŸ“‹ ${mainTitle}\n`;
            exportText += "=" .repeat(50) + "\n\n";
            
            for (let day = 1; day <= totalDays; day++) {
                exportText += `ğŸ“… ${day}ì¼ì°¨ - ${getDayTitle(day)}\n`;
                exportText += "-" .repeat(40) + "\n";
                
                const dayItems = travelData
                    .filter(item => item.day === day)
                    .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));
                
                let lastEndTime = null;
                dayItems.forEach(item => {
                    const endTime = timeToMinutes(item.time) + (item.duration || 0);
                    exportText += `\nâ° ${item.time} - ${minutesToTime(endTime)} | ${item.activity}\n`;
                    
                    if (item.options && item.options[0] && item.options[0].location) {
                        exportText += `   ğŸ“ ìœ„ì¹˜: ${item.options[0].location}\n`;
                    }
                    
                    if (item.selectedOptions && item.selectedOptions.length > 0) {
                        exportText += `   âœ… ì„ íƒëœ ì˜µì…˜ë“¤:\n`;
                        item.selectedOptions.forEach(optionIndex => {
                            const option = item.options[optionIndex];
                            if (option) {
                                exportText += `      - ${option.name}\n`;
                                if (option.location) {
                                    exportText += `        ğŸ“ ${option.location}\n`;
                                }
                                exportText += `        ${option.details}\n`;
                                if (option.cost > 0) {
                                    exportText += `        ğŸ’° ${option.cost.toLocaleString()}ì›\n`;
                                }
                                if (option.savings && option.savings.length > 0) {
                                    option.savings.forEach(saving => {
                                        exportText += `        ğŸ’š ${saving.name}: ${saving.amount.toLocaleString()}ì› ì ˆì•½\n`;
                                    });
                                }
                            }
                        });
                    } else {
                        exportText += `   ğŸ“ ${item.details}\n`;
                    }
                    
                    const totalCost = calculateTotalCost(item);
                    const totalSavings = calculateTotalSavings(item);
                    
                    if (totalCost > 0) exportText += `   ğŸ’° ì´ ë¹„ìš©: ${totalCost.toLocaleString()}ì›\n`;
                    if (totalSavings.length > 0) {
                        totalSavings.forEach(saving => {
                            exportText += `   ğŸ’š ${saving.name} ì ˆì•½: ${saving.amount.toLocaleString()}ì›\n`;
                        });
                    }
                    exportText += `   â±ï¸ ì†Œìš”ì‹œê°„: ${item.duration}ë¶„\n`;
                    
                    if (item.details && item.details.includes('ì¸ì ‘:')) {
                        const nearbyMatch = item.details.match(/ğŸ›ï¸ ì¸ì ‘: ([^|]+)/);
                        if (nearbyMatch) {
                            exportText += `   ğŸ—ºï¸ ì¸ì ‘ ê´€ê´‘ì§€: ${nearbyMatch[1]}\n`;
                        }
                    }
                    
                    lastEndTime = endTime;
                });
                
                if (lastEndTime) {
                    exportText += `\nğŸ“Œ ${day}ì¼ì°¨ ì¢…ë£Œ ì‹œê°„: ${minutesToTime(lastEndTime)}\n`;
                }
                exportText += "\n";
            }

            // Add alternatives
            const alternatives = travelData.filter(item => item.day === 0);
            if (alternatives.length > 0) {
                exportText += "\nğŸ”„ ëŒ€ì²´ ì¼ì • ì˜µì…˜\n";
                exportText += "-" .repeat(40) + "\n";
                alternatives.forEach(item => {
                    exportText += `\nâ€¢ ${item.activity}\n`;
                    item.options.forEach(option => {
                        exportText += `  - ${option.name}\n`;
                        if (option.location) {
                            exportText += `    ğŸ“ ${option.location}\n`;
                        }
                        exportText += `    ${option.details}\n`;
                        if (option.cost > 0) {
                            exportText += `    ğŸ’° ${option.cost.toLocaleString()}ì›\n`;
                        }
                        if (option.savings && option.savings.length > 0) {
                            option.savings.forEach(saving => {
                                exportText += `    ğŸ’š ${saving.name}: ${saving.amount.toLocaleString()}ì› ì ˆì•½\n`;
                            });
                        }
                    });
                });
            }

            // Calculate totals
            let totalCost = 0;
            const savingsMap = new Map();
            
            travelData.forEach(item => {
                if (item.day > 0) {
                    totalCost += calculateTotalCost(item);
                    const savings = calculateTotalSavings(item);
                    savings.forEach(saving => {
                        const current = savingsMap.get(saving.name) || 0;
                        savingsMap.set(saving.name, current + saving.amount);
                    });
                }
            });
            
            const totalSavingsAmount = Array.from(savingsMap.values()).reduce((sum, amount) => sum + amount, 0);
            
            exportText += "\n" + "=" .repeat(50) + "\n";
            exportText += `ğŸ’° ì´ ì˜ˆìƒ ë¹„ìš©: ${totalCost.toLocaleString()}ì›\n`;
            savingsMap.forEach((amount, name) => {
                exportText += `ğŸ’š ${name} ì´ ì ˆì•½: ${amount.toLocaleString()}ì›\n`;
            });
            exportText += `ğŸ“Š ìˆœ ë¹„ìš©: ${(totalCost - totalSavingsAmount).toLocaleString()}ì›\n`;
            exportText += `\nğŸ“ ìˆ˜ì •ëœ í•­ëª©: ${travelData.filter(item => item.edited).length}ê°œ\n`;
            exportText += `ğŸ—“ï¸ ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}\n`;

            const blob = new Blob([exportText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${mainTitle.replace(/[^ê°€-í£a-zA-Z0-9]/g, '_')}_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('ì¼ì •ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // Reset schedule
        function resetSchedule() {
            if (confirm('ëª¨ë“  ë³€ê²½ì‚¬í•­ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì €ì¥ëœ ëª¨ë“  ìˆ˜ì • ë‚´ìš©ì´ ì‚­ì œë©ë‹ˆë‹¤.')) {
                localStorage.clear();
                location.reload();
            }
        }

        // Storage functions
        function saveToStorage() {
            localStorage.setItem('travelPlannerData', JSON.stringify(travelData));
            localStorage.setItem('travelPlannerNextId', nextId.toString());
            localStorage.setItem('totalDays', totalDays.toString());
        }

        function loadFromStorage() {
            const saved = localStorage.getItem('travelPlannerData');
            const savedNextId = localStorage.getItem('travelPlannerNextId');
            const savedTotalDays = localStorage.getItem('totalDays');
            const savedMainTitle = localStorage.getItem('mainTitle');
            
            if (savedNextId) {
                nextId = parseInt(savedNextId);
            }
            
            if (savedTotalDays) {
                totalDays = parseInt(savedTotalDays);
            }
            
            if (savedMainTitle) {
                document.getElementById('mainTitle').textContent = savedMainTitle;
            }
            
            if (saved) {
                try {
                    const savedData = JSON.parse(saved);
                    travelData.length = 0;
                    travelData.push(...savedData);
                } catch (e) {
                    console.error('Error loading saved data:', e);
                }
            }
        }

        // Modal scroll control
        function disableBodyScroll() {
            document.body.style.overflow = 'hidden';
            document.body.style.touchAction = 'none';
        }

        function enableBodyScroll() {
            document.body.style.overflow = 'auto';
            document.body.style.touchAction = 'auto';
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // Close modals on outside click
        document.getElementById('optionsModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        document.getElementById('addModuleModal').addEventListener('click', function(e) {
            if (e.target === this) closeAddModal();
        });

        document.getElementById('editOptionsModal').addEventListener('click', function(e) {
            if (e.target === this) closeEditOptionsModal();
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveSchedule();
            }
            if (e.key === 'Escape') {
                closeModal();
                closeAddModal();
                closeEditOptionsModal();
            }
        });
    </script>
</body>
</html>
