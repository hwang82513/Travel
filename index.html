<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전주-군산-선유도 3일 여행 플래너 Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        /* 시간 표시 개선 */
        .time-display {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .time-input {
            width: 90px;
            padding: 6px 10px;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            background: white;
            font-size: 16px;
            color: #1e40af;
        }
        
        .time-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        /* 컨트롤 버튼 레이아웃 개선 */
        .control-buttons {
            position: absolute;
            right: 10px;
            top: 10px;
            display: none;
            gap: 4px;
            z-index: 10;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .control-buttons-row {
            display: flex;
            gap: 4px;
        }
        
        .edit-mode .control-buttons {
            display: flex;
        }
        
        /* 버튼 스타일 개선 */
        .control-button {
            font-weight: bold;
            font-size: 16px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .change-button {
            background-color: #3b82f6;
            color: white;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .change-button:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* 옵션 편집 버튼 강조 */
        .edit-options-btn {
            background-color: #8b5cf6;
            color: white;
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .edit-options-btn:hover {
            background-color: #7c3aed;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        /* 일정 추가 버튼 개선 */
        .add-module-btn {
            border: 3px dashed #3b82f6;
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 16px;
            border-radius: 12px;
            font-weight: bold;
            color: #1e40af;
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }
        
        .add-module-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .add-module-btn:hover::before {
            left: 100%;
        }
        
        .add-module-btn:hover {
            border-color: #1d4ed8;
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        /* 빠른 추가 버튼 */
        .quick-add-buttons {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .quick-add-btn {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .quick-add-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .quick-add-food {
            background-color: #d1fae5;
            color: #065f46;
            border-color: #10b981;
        }
        
        .quick-add-tour {
            background-color: #fef3c7;
            color: #92400e;
            border-color: #f59e0b;
        }
        
        .quick-add-transport {
            background-color: #ede9fe;
            color: #5b21b6;
            border-color: #8b5cf6;
        }
        
        .quick-add-rest {
            background-color: #fee2e2;
            color: #991b1b;
            border-color: #ef4444;
        }
        
        /* 메인 컨트롤 버튼들 */
        .main-control-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            color: white;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .main-control-btn.orange {
            background-color: #f97316;
        }
        
        .main-control-btn.orange:hover {
            background-color: #ea580c;
        }
        
        .main-control-btn.green {
            background-color: #10b981;
        }
        
        .main-control-btn.green:hover {
            background-color: #059669;
        }
        
        .main-control-btn.blue {
            background-color: #3b82f6;
        }
        
        .main-control-btn.blue:hover {
            background-color: #2563eb;
        }
        
        .main-control-btn.red {
            background-color: #ef4444;
        }
        
        .main-control-btn.red:hover {
            background-color: #dc2626;
        }
        
        .main-control-btn.purple {
            background-color: #8b5cf6;
        }
        
        .main-control-btn.purple:hover {
            background-color: #7c3aed;
        }
        
        .module-food { background: linear-gradient(135deg, #10b981, #059669); }
        .module-tour { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .module-hotel { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .module-transport { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .module-special { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .option-card {
            transition: all 0.2s ease-out;
            cursor: pointer;
            position: relative;
        }
        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .option-card.selected {
            border: 3px solid #10b981;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }
        
        .day-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .edit-mode {
            border: 3px dashed #f59e0b !important;
            background: rgba(251, 191, 36, 0.1) !important;
            padding-right: 100px !important;
        }
        
        .duration-badge {
            background: rgba(99, 102, 241, 0.1);
            color: #4f46e5;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        /* 소요시간 입력 스타일 개선 */
        .duration-input-wrapper {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            padding: 2px;
        }
        
        .duration-input {
            width: 50px;
            padding: 2px 4px;
            border: none;
            font-size: 12px;
            text-align: center;
            background: transparent;
        }
        
        .duration-input:focus {
            outline: none;
        }
        
        .duration-input-wrapper:focus-within {
            border-color: #3b82f6;
        }
        
        .duration-btn {
            background: #f3f4f6;
            border: none;
            padding: 2px 6px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 12px;
            color: #4b5563;
            transition: all 0.2s;
        }
        
        .duration-btn:hover {
            background: #e5e7eb;
            color: #1f2937;
        }
        
        .duration-btn:active {
            transform: scale(0.95);
        }
        
        .save-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            display: none;
            animation: fadeInOut 2s ease;
            z-index: 1000;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(20px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
        
        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
        }
        
        .editable {
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        
        .editable:hover {
            background: rgba(0,0,0,0.05);
        }
        
        .editable:focus {
            background: rgba(59, 130, 246, 0.1);
            outline: 2px solid #3b82f6;
        }
        
        input[type="checkbox"] {
            cursor: pointer;
        }
        
        input[type="checkbox"]:checked {
            accent-color: #10b981;
        }
        
        .control-buttons button:active {
            transform: scale(0.95);
        }
        
        .moving {
            opacity: 0.7;
            transform: scale(0.98);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        .nearby-badge {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* 대체일정 섹션 스타일 */
        .alternative-section {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            border: 2px dashed #9ca3af;
        }
        
        /* 일정 이동 버튼 */
        .move-to-day-btn {
            background-color: #10b981;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin: 0 2px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .move-to-day-btn:hover {
            background-color: #059669;
            transform: translateY(-1px);
        }
        
        .move-to-alternative-btn {
            background-color: #6b7280;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .move-to-alternative-btn:hover {
            background-color: #4b5563;
            transform: translateY(-1px);
        }
        
        /* 템플릿 선택 모달 */
        .template-card {
            border: 2px solid #e5e7eb;
            padding: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 12px;
        }
        
        .template-card:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
            transform: translateY(-2px);
        }
        
        .template-card.selected {
            border-color: #3b82f6;
            background-color: #dbeafe;
        }
        
        /* 옵션 편집 모달 스크롤 개선 */
        .modal-content-scrollable {
            max-height: calc(90vh - 120px);
            overflow-y: auto;
            position: relative;
        }
        
        .modal-footer {
            position: sticky;
            bottom: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 16px;
            margin: -16px;
            margin-top: 16px;
        }

        /* 추가: 지역 표시 배지 */
        .location-badge {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        /* 추가: 복수 선택 모드 스타일 */
        .multi-select-mode .option-item {
            position: relative;
            padding-left: 40px;
        }

        .option-checkbox {
            position: absolute;
            left: 12px;
            top: 20px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .selected-options-preview {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            padding: 12px;
            border-radius: 8px;
            margin-top: 8px;
            font-size: 14px;
            line-height: 1.6;
        }

        .selected-options-preview h5 {
            font-weight: bold;
            margin-bottom: 8px;
            color: #374151;
        }

        .selected-option-item {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .selected-option-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        /* 옵션 순서 변경 버튼 */
        .option-order-buttons {
            display: flex;
            gap: 4px;
        }
        
        .option-order-btn {
            background-color: #6b7280;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option-order-btn:hover {
            background-color: #4b5563;
        }
        
        .option-order-btn:active {
            transform: scale(0.95);
        }
        
        .option-order-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* 절약 유형 배지 */
        .saving-type-badge {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }

        /* 일차 추가 버튼 */
        .add-day-btn {
            background-color: #3b82f6;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .add-day-btn:hover {
            background-color: #2563eb;
            transform: translateY(-1px);
        }

        /* 제목 편집 가능 스타일 */
        .editable-title {
            transition: all 0.2s;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .editable-title:hover {
            background: rgba(255,255,255,0.2);
        }

        .editable-title:focus {
            background: rgba(255,255,255,0.3);
            outline: 2px solid rgba(255,255,255,0.5);
        }

        /* 비용/절약 상세 표시 */
        .cost-detail {
            font-size: 11px;
            color: #6b7280;
            margin-left: 4px;
        }
        
        @media (max-width: 640px) {
            .container { padding: 0.5rem; }
            .text-lg { font-size: 1rem; }
            .text-xl { font-size: 1.125rem; }
            .control-buttons { 
                position: static;
                margin-top: 8px;
                justify-content: flex-end;
            }
            .time-input { width: 80px; }
            .edit-mode {
                padding-right: 16px !important;
            }
            .quick-add-buttons {
                justify-content: center;
            }
            .modal-content-scrollable {
                max-height: calc(90vh - 100px);
            }
        }

        /* 추가: 모달 내부 스크롤바 스타일링 (부드럽고 시각적 강조) */
        .modal-content-scrollable::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content-scrollable::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .modal-content-scrollable::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        .modal-content-scrollable::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }

        /* 추가: 모바일에서 모달 패딩/높이 조정 (스크롤 여유 확보) */
        @media (max-width: 640px) {
            .modal-content-scrollable {
                max-height: calc(90vh - 150px); /* 헤더/푸터 여유 증가 */
                padding-bottom: 20px; /* 하단 스크롤 여유 */
            }
        }

        /* 내용 잘림 방지 */
        .day-section, .option-card {
            overflow: visible !important;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto max-w-4xl p-4">
        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-800 mb-2" id="mainTitle">
                <i class="fas fa-map-marked-alt text-blue-600"></i>
                전주-군산-선유도 3일 여행 플래너 Pro
            </h1>
            <p class="text-center text-gray-600 mb-4">편집모드에서 모든 내용 수정 가능 • 자동 시간 계산 • 인접 관광지 추천</p>
            
            <!-- 여행 개요 -->
            <div class="bg-blue-50 p-4 rounded-lg mb-4">
                <h3 class="font-bold text-blue-900 mb-2">📍 여행 코스 개요</h3>
                <div class="text-sm text-blue-800 space-y-1">
                    <p>• <strong>1일차:</strong> 전주 한옥마을 중심 (경기전, 전동성당, 오목대) + 남부시장 먹거리 + 막걸리골목</p>
                    <p>• <strong>2일차:</strong> 전주→군산 이동, 근대문화유산 (히로시가옥, 동국사, 김치사진관) + 선유도 일몰 + 궁전꽃게장</p>
                    <p>• <strong>3일차:</strong> 군산 마무리 관광 (이성당, 경암동철길마을) → 수원 복귀</p>
                </div>
            </div>
            
            <!-- Stats Bar -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div class="bg-green-50 p-3 rounded-lg">
                    <div class="text-green-600 font-bold" id="totalSavings">₩0</div>
                    <div class="text-xs text-green-700" id="savingsBreakdown">투어패스 절약</div>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg">
                    <div class="text-blue-600 font-bold" id="totalBudget">₩0</div>
                    <div class="text-xs text-blue-700">예상 총 비용</div>
                </div>
                <div class="bg-purple-50 p-3 rounded-lg">
                    <div class="text-purple-600 font-bold" id="totalItems">31</div>
                    <div class="text-xs text-purple-700">전체 일정</div>
                </div>
                <div class="bg-orange-50 p-3 rounded-lg">
                    <div class="text-orange-600 font-bold" id="editedItems">0</div>
                    <div class="text-xs text-orange-700">변경된 항목</div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="bg-white rounded-lg shadow-lg p-4 mb-6">
            <div class="flex flex-wrap gap-3 justify-center mb-4">
                <button onclick="toggleEditMode()" class="main-control-btn orange">
                    <i class="fas fa-edit"></i>
                    <span>편집모드</span>
                </button>
                <button onclick="saveSchedule()" class="main-control-btn green">
                    <i class="fas fa-save"></i>
                    <span>저장</span>
                </button>
                <button onclick="exportSchedule()" class="main-control-btn blue">
                    <i class="fas fa-download"></i>
                    <span>내보내기</span>
                </button>
                <button onclick="resetSchedule()" class="main-control-btn red">
                    <i class="fas fa-undo"></i>
                    <span>초기화</span>
                </button>
                <button onclick="recalculateAllTimes()" class="main-control-btn purple">
                    <i class="fas fa-clock"></i>
                    <span>시간 재계산</span>
                </button>
            </div>
            
            <!-- 자동 계산 토글 -->
            <div class="flex items-center justify-center gap-4 p-3 bg-gray-100 rounded-lg mb-4">
                <label class="flex items-center cursor-pointer">
                    <input type="checkbox" id="autoCalculate" class="mr-2 w-5 h-5" onchange="toggleAutoCalculate()">
                    <span class="font-medium text-gray-700">🔄 이동 시 시간 자동 계산</span>
                </label>
                <span id="autoCalculateStatus" class="text-sm px-3 py-1 rounded-full bg-blue-100 text-blue-800">
                    자동 계산 ON
                </span>
            </div>
            
            <!-- Filter -->
            <div class="flex flex-wrap gap-2 justify-center">
                <button onclick="filterByType('all')" class="filter-btn px-3 py-1 bg-gray-200 rounded-full text-sm hover:bg-gray-300 transition-colors">전체</button>
                <button onclick="filterByType('food')" class="filter-btn px-3 py-1 bg-green-200 rounded-full text-sm hover:bg-green-300 transition-colors">🍽️ 식사</button>
                <button onclick="filterByType('tour')" class="filter-btn px-3 py-1 bg-yellow-200 rounded-full text-sm hover:bg-yellow-300 transition-colors">🏛️ 관광</button>
                <button onclick="filterByType('hotel')" class="filter-btn px-3 py-1 bg-blue-200 rounded-full text-sm hover:bg-blue-300 transition-colors">🏨 숙박</button>
                <button onclick="filterByType('transport')" class="filter-btn px-3 py-1 bg-purple-200 rounded-full text-sm hover:bg-purple-300 transition-colors">🚗 이동</button>
            </div>
        </div>

        <!-- Schedule -->
        <div id="scheduleContainer">
            <!-- Day 1 -->
            <div class="day-section mb-8">
                <div class="day-header text-white p-4 rounded-t-lg">
                    <h2 class="text-xl font-bold">📅 1일차 - 전주 (한옥마을 & 전통문화)</h2>
                    <p class="text-sm mt-1 opacity-90">한옥마을 핵심 관광지 + 전통시장 먹거리 + 막걸리골목</p>
                </div>
                <div class="bg-white rounded-b-lg shadow-lg p-4 relative" id="day1"></div>
            </div>

            <!-- Day 2 -->
            <div class="day-section mb-8">
                <div class="day-header text-white p-4 rounded-t-lg">
                    <h2 class="text-xl font-bold">📅 2일차 - 전주→군산→선유도</h2>
                    <p class="text-sm mt-1 opacity-90">군산 근대문화유산 + 김치사진관 + 선유도 일몰 + 궁전꽃게장</p>
                </div>
                <div class="bg-white rounded-b-lg shadow-lg p-4 relative" id="day2"></div>
            </div>

            <!-- Day 3 -->
            <div class="day-section mb-8">
                <div class="day-header text-white p-4 rounded-t-lg">
                    <h2 class="text-xl font-bold">📅 3일차 - 군산→수원 (마무리)</h2>
                    <p class="text-sm mt-1 opacity-90">이성당 베이커리 + 마지막 관광 + 귀가</p>
                </div>
                <div class="bg-white rounded-b-lg shadow-lg p-4 relative" id="day3"></div>
            </div>

            <!-- Alternative Schedule -->
            <div class="day-section mb-8">
                <div class="day-header text-white p-4 rounded-t-lg" style="background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);">
                    <h2 class="text-xl font-bold">🔄 대체 일정 옵션</h2>
                    <p class="text-sm mt-1 opacity-90">시간 여유가 있을 때 추가하거나 기존 일정과 교체 가능</p>
                </div>
                <div class="bg-white rounded-b-lg shadow-lg p-4 relative alternative-section" id="day0"></div>
            </div>
        </div>

        <!-- Save Indicator -->
        <div class="save-indicator" id="saveIndicator">
            <i class="fas fa-check-circle mr-2"></i> 저장되었습니다!
        </div>

        <!-- Modal for Options (개선된 스크롤 구조) -->
        <div id="optionsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col">
                <div class="p-4 border-b sticky top-0 bg-white z-10">
                    <h3 class="text-lg font-bold" id="modalTitle">옵션 선택</h3>
                    <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="flex-1 overflow-hidden">
                    <div class="p-4">
                        <!-- 복수 선택 모드 토글 -->
                        <div class="mb-4 p-3 bg-blue-50 rounded-lg">
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" id="multiSelectMode" class="mr-2 w-5 h-5" onchange="toggleMultiSelectMode()">
                                <span class="font-medium text-gray-700">복수 선택 모드 (여러 옵션을 동시에 선택)</span>
                            </label>
                        </div>
                        <!-- 선택 버튼 (복수 선택 모드일 때만 표시) -->
                        <div id="multiSelectControls" class="hidden mb-4 flex gap-2">
                            <button onclick="applySelectedOptions()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 font-bold">
                                <i class="fas fa-check mr-2"></i>선택 완료
                            </button>
                            <button onclick="clearSelectedOptions()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                                <i class="fas fa-times mr-2"></i>선택 취소
                            </button>
                        </div>
                        <div class="modal-content-scrollable" id="modalContent"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Module Modal -->
        <div id="addModuleModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto">
                <div class="p-4 border-b sticky top-0 bg-white">
                    <h3 class="text-lg font-bold">새 일정 추가</h3>
                    <button onclick="closeAddModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-4">
                    <!-- 템플릿 선택 -->
                    <div class="mb-4" id="templateSection">
                        <label class="block text-sm font-medium mb-2">빠른 템플릿 선택</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectTemplate('meal')" class="template-card text-left">
                                <div class="font-bold text-green-600 mb-1">🍽️ 식사</div>
                                <div class="text-xs text-gray-600">아침/점심/저녁</div>
                            </button>
                            <button onclick="selectTemplate('tour')" class="template-card text-left">
                                <div class="font-bold text-yellow-600 mb-1">🏛️ 관광</div>
                                <div class="text-xs text-gray-600">명소/체험/쇼핑</div>
                            </button>
                            <button onclick="selectTemplate('transport')" class="template-card text-left">
                                <div class="font-bold text-purple-600 mb-1">🚗 이동</div>
                                <div class="text-xs text-gray-600">버스/택시/도보</div>
                            </button>
                            <button onclick="selectTemplate('rest')" class="template-card text-left">
                                <div class="font-bold text-red-600 mb-1">☕ 휴식</div>
                                <div class="text-xs text-gray-600">카페/휴게소</div>
                            </button>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">시간</label>
                        <input type="time" id="newTime" class="w-full p-2 border rounded" value="12:00">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">활동명</label>
                        <input type="text" id="newActivity" placeholder="활동명 입력" class="w-full p-2 border rounded">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">카테고리</label>
                        <select id="newType" class="w-full p-2 border rounded">
                            <option value="food">🍽️ 식사</option>
                            <option value="tour">🏛️ 관광</option>
                            <option value="hotel">🏨 숙박</option>
                            <option value="transport">🚗 이동</option>
                            <option value="special">⭐ 특별</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">소요시간(분)</label>
                        <input type="number" id="newDuration" placeholder="60" class="w-full p-2 border rounded" value="60">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">상세 설명</label>
                        <textarea id="newDetails" placeholder="상세 설명 입력" class="w-full p-2 border rounded" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium mb-1">비용(원)</label>
                        <input type="number" id="newCost" placeholder="0" class="w-full p-2 border rounded" value="0">
                    </div>
                    <button onclick="addNewModule()" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 font-bold">
                        <i class="fas fa-plus mr-2"></i>일정 추가하기
                    </button>
                </div>
            </div>
        </div>

        <!-- Edit Options Modal - 스크롤 개선 -->
        <div id="editOptionsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col">
                <div class="p-4 border-b bg-white">
                    <h3 class="text-lg font-bold">옵션 편집</h3>
                    <button onclick="closeEditOptionsModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="flex-1 overflow-hidden">
                    <div class="p-4 modal-content-scrollable">
                        <div id="optionsList"></div>
                    </div>
                    <div class="modal-footer">
                        <button onclick="addNewOption()" class="w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 font-bold">
                            <i class="fas fa-plus mr-2"></i>새 옵션 추가
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced travel data with duration and nearby attractions
        const travelData = [
            // Day 1
            { id: 1, day: 1, time: "07:00", duration: 150, activity: "수원 출발 → 전주", type: "transport", module: "🟣이동모듈", status: "✅현재선택", 
              options: [
                {name: "KTX 이용", location: "수원시 → 전주시", details: "🚄 KTX 수원역→익산역→전주 | ⏰ 1시간 30분 | 💰 29,700원 | 📍 익산역에서 전주행 버스 환승(30분) | 🎫 코레일톡 예약 추천"},
                {name: "고속버스 이용", location: "수원시 → 전주시", details: "🚌 수원종합버스터미널→전주고속버스터미널 | ⏰ 2시간 | 💰 8,000원 | 📍 10분 간격 운행 | 🎫 버스타고 앱 예약 가능"},
                {name: "자가용 직행", location: "수원시 → 전주시", details: "🚗 수원→전주 직행 | ⏰ 2시간 30분 | 💰 유료도로비 약 15,000원 + 주유비 20,000원 | 📍 경부고속도로→논산천안고속도로 | 🅿️ 한옥마을 공영주차장 이용"}
              ],
              details: "KTX: 1시간 30분, 29,700원 | 고속버스: 2시간, 8,000원 | 자가용: 2시간 30분, 유료도로비 포함", 
              cost: 29700, saving: 0 },
            
            { id: 2, day: 1, time: "09:30", duration: 60, activity: "전주 한옥마을 도착 및 둘러보기", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "한옥마을 자유관람", location: "전주시 완산구 교동", details: "🏘️ 700여채 한옥 밀집지역 | 📸 포토스팟: 전동성당, 경기전 돌담길, 오목대 | 🎭 한복체험 15,000원(2시간) | 🗺️ 관광안내소에서 무료 지도 수령 | 💡 오전 일찍 방문시 한적함 | 🏛️ 인접: 경기전, 전동성당, 오목대 모두 도보 5분"},
                {name: "한옥스테이 체크인", location: "전주시 완산구 교동", details: "🏡 전통 한옥 숙박 체험 | ⏰ 체크인 15:00 (조기 체크인 가능 문의) | 💰 1박 80,000~150,000원 | 📍 학인당, 동락원 등 추천 | 🍵 웰컴티 서비스 포함"},
                {name: "전주향교 방문", location: "전주시 완산구 향교길", details: "📚 조선시대 교육기관 | ⏰ 09:00-18:00 | 💰 무료입장 | 📍 한옥마을에서 도보 10분 | 🎓 유생복 체험 가능(5,000원) | 📸 은행나무 포토존 인기 | 🏛️ 인접: 완판본문화관(5분), 한벽당(10분)"},
                {name: "풍남문+남부시장 코스", location: "전주시 완산구 풍남문", details: "🏛️ 전주읍성 남문 | ⏰ 상시개방 | 💰 무료 | 📍 한옥마을 입구 | 🛍️ 바로 옆 남부시장 연계 관광 | 🍡 시장 먹거리 투어 가능"}
              ],
              details: "한옥마을 무료 관람, 한복체험 15,000원 추가 가능. 전북투어패스로 관련 시설 할인 혜택. 인접 관광지: 경기전, 전동성당, 오목대 모두 도보권",
              cost: 0, saving: 2000 },
            
            { id: 3, day: 1, time: "10:30", duration: 90, activity: "경기전 & 전동성당 방문", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "경기전+어진박물관", location: "전주시 완산구 태조로", details: "🏛️ 태조 이성계 어진 봉안 | ⏰ 09:00-19:00 | 💰 일반 3,000원→전북투어패스 무료 | 📍 대나무숲 산책로 필수 코스 | 📸 어진박물관, 부속건물 관람 1시간 소요 | 🏛️ 인접: 전동성당(2분), 경기전사고(내부), 태조로(바로 앞)"},
                {name: "전동성당+성당카페", location: "전주시 완산구 태조로", details: "⛪ 한국 천주교 순교성지 | ⏰ 09:00-17:00 | 💰 무료입장 | 📍 로마네스크 양식 건축미 | 📸 웨딩촬영 명소, 스테인드글라스 포토존 | 🕐 미사시간 확인 필요 | ☕ 성당 카페 운영(커피 4,000원) | 🏛️ 인접: 경기전(2분), 풍남문(5분)"},
                {name: "오목대+이목대 코스", location: "전주시 완산구 기린대로", details: "🏔️ 한옥마을 전망대 | ⏰ 상시개방 | 💰 무료 | 📍 계단 오르기 10분 | 📸 한옥마을 전경 최고 뷰포인트 | 🌅 일몰 시간대 추천 | 🏛️ 인접: 이목대(도보 3분), 자만벽화마을(5분), 한벽당(15분)"},
                {name: "한국전통문화전당", location: "전주시 완산구 태조로", details: "🎭 전통문화 체험관 | ⏰ 09:00-21:00 | 💰 체험별 5,000~20,000원 | 📍 한지공예, 전통음식 만들기 | 🎨 사전예약 필수 | 👨‍👩‍👧‍👦 가족체험 프로그램 인기 | 🏛️ 인접: 전주공예품전시관(내부), 부채문화관(3분)"},
                {name: "최명희문학관", location: "전주시 완산구 최명희길", details: "📚 혼불 작가 기념관 | ⏰ 09:00-18:00 | 💰 무료 | 📍 한옥마을 중심부 | 📖 혼불 관련 전시 | 🏛️ 인접: 부채문화관(2분), 술박물관(3분)"}
              ],
              details: "전북투어패스로 경기전 무료입장 (일반 3,000원 → 무료). 조선왕조 역사 체험 가능. 인접 관광지 다수로 효율적 동선 가능",
              cost: 0, saving: 3000 },
            
            { id: 4, day: 1, time: "12:00", duration: 90, activity: "🍽️ 전주 남부시장 점심식사", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍜전통국밥", location: "전주시 완산구 남부시장", details: "🥇 현대옥: 콩나물국밥 8,000원 | ⏰ 05:30-15:00(14시 마감주의!) | 📍 남부시장 내 | 💡 김치, 깍두기 리필 무료 | ⭐ 70년 전통, 현지인 추천 1위\n🥈 조점례남문피순대: 순대국밥 9,000원, 피순대 13,000원 | ⏰ 06:00-22:00 | 📍 남부시장 입구 | 💡 피순대는 2인 이상 추천"},
                {name: "🥟분식+디저트", location: "전주시 완산구 남부시장", details: "🥇 옛날피순대: 모듬순대 13,000원 | ⏰ 10:00-21:00 | 📍 청년몰 내 | 💡 순대+간+허파 모듬 인기\n🥈 호떡: 씨앗호떡 3,000원 | 📍 시장 곳곳 | 💡 줄서는 곳이 맛집\n🥉 육전: 5,000원 | 📍 반찬가게들 | 💡 따뜻할 때 드세요\n🍧 팥빙수: 시장표 팥빙수 6,000원 | 📍 2층 청년몰 | 여름 인기"},
                {name: "🍱백반+카페", location: "전주시 완산구 남부시장", details: "🥇 전주한정식: 12,000~15,000원 | ⏰ 11:00-21:00 | 📍 한옥마을 주변 | 💡 20여가지 반찬 제공\n🥈 시장백반: 8,000원 | ⏰ 11:00-15:00 | 📍 2층 식당가 | 💡 가성비 최고, 반찬 푸짐\n☕ 청년몰 카페: 아메리카노 3,000원 | 📍 청년몰 2층 | 💡 식후 커피"},
                {name: "💡간편식", location: "전주시 완산구 남부시장", details: "🍙 김밥천국: 김밥 3,000원, 라면 4,000원 | ⏰ 24시간 | 📍 시장 입구\n🏪 편의점도시락: 4,000~6,000원 | ⏰ 24시간 | 💡 시간 절약 필요시"},
                {name: "☕카페 브런치", location: "전주시 완산구 남부시장", details: "☕ 베테랑분식: 칼국수+김밥 세트 9,000원 | ⏰ 10:00-20:00 | 📍 남부시장 내\n🥐 전주빵카페: 빵+커피 8,000원 | 📍 한옥마을 내 | 💡 가벼운 브런치"}
              ],
              details: "🥇추천순위: ①현대옥(콩나물국밥원조,14시마감주의) ②조점례(순대국밥대표) ③청년몰 분식+카페 | 📍위치: 모두 남부시장 내 | ⏰운영: 현대옥(11:00-14:00), 조점례(06:00-22:00), 분식(10:00-20:00)",
              cost: 9000, saving: 0 },
            
            { id: 5, day: 1, time: "14:00", duration: 120, activity: "한옥마을 쇼핑 & 체험", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "남부시장 쇼핑", location: "전주시 완산구 남부시장", details: "🛍️ 전통시장 체험 | 💰 한지공예품 5,000~30,000원 | 🎁 모주 6,000원, 초코파이 8,000원 | 📍 청년몰 구경 필수 | 💡 현금 준비, 흥정 가능 | 🏛️ 인접: 풍남문(3분), 한옥마을(5분)"},
                {name: "전주중앙시장", location: "전주시 덕진구 중앙시장", details: "🛍️ 대형 전통시장 | 💰 한복 50,000~200,000원 | 🎁 전주 특산품 | 📍 한옥마을에서 도보 20분 | 💡 먹거리 다양"},
                {name: "한옥마을 기념품샵", location: "전주시 완산구 태조로", details: "🎁 관광 기념품 전문 | 💰 엽서 1,000원, 부채 10,000원 | 📍 태조로 중심 | 💡 포장 서비스, 카드 결제 가능 | 🎨 전주 한지 제품 인기"},
                {name: "전통공예 체험", location: "전주시 완산구 태조로", details: "🎨 한지공예체험관 | ⏰ 10:00-18:00 | 💰 체험 10,000~20,000원 | 📍 한지부채, 한지등 만들기 | 🏛️ 인접: 부채문화관, 공예품전시관"},
                {name: "한복체험+사진", location: "전주시 완산구 교동", details: "👘 한복대여점 | ⏰ 09:00-20:00 | 💰 2시간 15,000원, 4시간 20,000원 | 📸 전문 사진관 촬영 30,000원~ | 🏛️ 포토스팟: 경기전, 전동성당, 오목대"}
              ],
              details: "전통 한지, 부채, 한복 소품 등 구매 가능. 평균 예산 10,000~30,000원. 체험 프로그램 다양",
              cost: 20000, saving: 0 },
            
            { id: 6, day: 1, time: "16:00", duration: 120, activity: "한옥스테이 체크인 & 휴식", type: "hotel", module: "🔵숙박모듈", status: "✅현재선택",
              options: [
                {name: "한옥스테이", location: "전주시 완산구 교동", details: "🏡 전통 온돌방 체험 | 💰 1박 80,000~150,000원 | 📍 학인당, 동락원 추천 | 🍵 다도 체험 포함 | 🛁 개별 욕실 확인 | 💡 조식 포함 여부 확인"},
                {name: "전주 시내 호텔", location: "전주시 완산구", details: "🏨 현대식 호텔 | 💰 1박 70,000~120,000원 | 📍 라한호텔, 르윈호텔 | 🍳 조식 뷔페 포함 | 🚗 주차 무료 | 💡 한옥마을 셔틀 운행"},
                {name: "게스트하우스", location: "전주시 완산구 교동", details: "🏠 저렴한 숙박 | 💰 1박 30,000~50,000원 | 📍 한옥마을 내 다수 | 👥 다인실/개인실 선택 | 🍳 공용 주방 이용 가능 | 💡 젊은 여행자 선호"},
                {name: "한옥호텔", location: "전주시 완산구 교동", details: "🏯 왕의지밀, 한옥고택 | 💰 1박 150,000~300,000원 | 📍 고급 한옥 숙소 | 🍽️ 조식 한정식 제공 | 🛁 개별 욕실, 스파 | 💡 특별한 날 추천"}
              ],
              details: "한옥스테이 1박 80,000~120,000원. 전통 온돌 체험 가능. 한옥마을 내 위치로 야경 감상 좋음",
              cost: 100000, saving: 0 },
            
            { id: 7, day: 1, time: "18:00", duration: 90, activity: "🍽️ 전주 저녁 한정식", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍣전통한정식", location: "전주시 완산구 한옥마을", details: "🥇 한국집: 비빔밥+한정식 18,000원 | ⏰ 11:30-21:00 | 📍 한옥마을 내 | 💡 예약 필수, 전주비빔밥 원조 | ⭐ 30여가지 반찬\n🥈 호남각: 고급한정식 25,000원 | ⏰ 11:30-21:30 | 📍 경기전 옆 | 💡 특별한 날 추천 | 🍷 전통주 페어링 가능\n🥉 양반가: 가성비한정식 15,000원 | ⏰ 11:00-21:00 | 📍 전동성당 근처 | 💡 단체 환영"},
                {name: "🍜현대식당", location: "전주시 완산구 중앙시장", details: "🥇 삼백집: 콩나물국밥+한정식 12,000원 | ⏰ 11:00-22:00 | 📍 중앙시장 근처 | 💡 푸짐한 반찬, 현지인 맛집\n🥈 가맥집: 막걸리+안주세트 15,000원 | ⏰ 17:00-24:00 | 📍 삼천동 | 💡 전 종류 다양"},
                {name: "🍱간편식사", location: "전주시 완산구", details: "🍜 한옥마을 분식: 8,000~12,000원 | ⏰ 10:00-21:00 | 📍 곳곳에 위치\n🏨 호텔 룸서비스: 15,000~25,000원 | ⏰ 24시간 | 💡 편안한 식사"},
                {name: "☕디저트카페", location: "전주시 완산구 교동", details: "🍰 한옥카페 교동: 수제케이크 6,000원, 전통차 5,000원 | ⏰ 10:00-22:00 | 📍 경기전 근처\n🧁 카페봄: 마카롱 3,000원, 커피 4,500원 | 📍 전동성당 앞 | 💡 인스타 명소"},
                {name: "💡스킵옵션", location: "전주시 완산구", details: "🍻 막걸리골목에서 안주로 저녁 대체 | 💰 비용 절약 | 💡 다음 일정과 연계"}
              ],
              details: "🥇추천순위: ①한국집(전주비빔밥원조,예약필수) ②호남각(고급한정식,특별한날) ③삼백집(가성비좋음,콩나물국밥유명) | 📍위치: 한국집/호남각(한옥마을), 삼백집(전주시내) | ⏰운영: 한정식집(11:30-21:00), 일반식당(11:00-22:00) | 💰전북투어패스 할인혜택: 한정식집 15% 할인",
              cost: 18000, saving: 2700 },
            
            { id: 8, day: 1, time: "20:00", duration: 120, activity: "🍻 전주 막걸리골목", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍺전통막걸리집", location: "전주시 완산구 삼천동", details: "🥇 학선루: 막걸리+모듬전 15,000원 | ⏰ 17:00-24:00 | 📍 삼천동 막걸리골목 | 💡 100년 전통, 분위기 최고 | 🎭 전통 공연 有\n🥈 삼백집: 막걸리+빈대떡 12,000원 | ⏰ 17:00-02:00 | 📍 막걸리골목 중심 | 💡 빈대떡 바삭함이 일품\n🥉 가맥: 막걸리+안주 10,000원 | ⏰ 17:00-03:00 | 📍 젊은층 핫플 | 💡 가성비 최고"},
                {name: "🥘안주류", location: "전주시 완산구 삼천동", details: "🥞 빈대떡: 8,000원 | 💡 막걸리 필수 안주\n🥬 파전: 7,000원 | 💡 비오는 날 인기\n🥩 수육: 15,000원 | 💡 2-3인 적당\n🌰 도토리묵: 6,000원 | 💡 새콤달콤 양념"},
                {name: "🍻현대주점", location: "전주시 완산구 전주천변", details: "🏙️ 전주천변 루프탑바: 맥주 7,000원, 안주 15,000~25,000원 | ⏰ 18:00-02:00 | 📍 전주천 야경 뷰\n☕ 감성카페바: 와인 8,000원, 칵테일 12,000원 | ⏰ 14:00-24:00 | 📍 한옥마을 내"},
                {name: "☕야간카페", location: "전주시 완산구", details: "🌙 전주야행카페: 수제맥주 7,000원 | ⏰ 18:00-02:00 | 📍 한옥마을 야경\n☕ 24시카페: 커피 4,000원, 디저트 6,000원 | 📍 객사 근처 | 💡 늦은 시간 이용 가능"},
                {name: "💡무알코올", location: "전주시 완산구 한옥마을", details: "🍵 전통찻집: 대추차 5,000원, 오미자차 6,000원 | ⏰ 10:00-22:00 | 📍 한옥마을 곳곳\n☕ 카페: 아메리카노 4,000원, 디저트 6,000원 | ⏰ 09:00-23:00 | 💡 한옥 개조 카페 추천"}
              ],
              details: "🥇추천순위: ①학선루(전주3대막걸리집,분위기최고) ②삼백집(전통맛,빈대떡유명) ③가맥(가성비좋음,젊은층선호) | 📍위치: 모두 한옥마을 막걸리골목 | ⏰운영: 막걸리집(17:00-24:00), 카페(10:00-22:00) | 💰전북투어패스 할인혜택: 20% 할인",
              cost: 15000, saving: 3000 },

            // Day 2
            { id: 9, day: 2, time: "08:00", duration: 60, activity: "🍽️ 전주 아침식사", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍚호텔조식", location: "전주시 완산구", details: "🏨 호텔뷔페: 15,000~20,000원 | ⏰ 06:30-09:30 | 💡 한식/양식 선택 가능 | 🍳 라이브 스테이션\n🏠 룸서비스: 10,000~15,000원 | ⏰ 07:00-10:00 | 💡 편안한 식사"},
                {name: "🍜전통아침", location: "전주시 완산구", details: "🥇 콩나물국밥: 8,000원 | ⏰ 06:00-10:00 | 📍 현대옥, 왱이집 | 💡 해장에 최고\n🥈 순두부찌개: 7,000원 | ⏰ 07:00-11:00 | 📍 한옥마을 주변\n🥉 김치찌개: 6,000원 | ⏰ 24시간 | 📍 김밥천국"},
                {name: "🥞간단식사", location: "전주시 완산구", details: "🍞 토스트: 3,000원 | 📍 이삭토스트 | ⏰ 07:00-22:00\n🥪 샌드위치: 5,000원 | 📍 서브웨이 | ⏰ 08:00-23:00\n🥣 죽: 6,000원 | 📍 본죽 | ⏰ 07:00-22:00"},
                {name: "☕모닝카페", location: "전주시 완산구 한옥마을", details: "☕ 카페 봄봄: 브런치세트 12,000원 | ⏰ 08:00-22:00 | 📍 한옥마을 내\n🥐 베이커리카페: 빵+커피 8,000원 | 📍 객사 근처 | 💡 갓 구운 빵"},
                {name: "💡스킵옵션", location: "-", details: "⏰ 시간 절약하여 바로 출발 | 🍪 간식으로 대체 | 💡 이동 중 휴게소 이용"}
              ],
              details: "🥇추천순위: ①호텔조식(편리하고 든든함) ②콩나물국밥(전주대표아침메뉴) ③모닝카페(여유로운 브런치) | 📍위치: 호텔조식(숙소), 전통아침(전주시내) | ⏰운영: 호텔조식(06:30-09:30), 전통식당(06:00-10:00)",
              cost: 8000, saving: 0 },
            
            { id: 10, day: 2, time: "09:30", duration: 30, activity: "체크아웃 & 전주 떠나기", type: "hotel", module: "🔵체크아웃모듈", status: "✅현재선택",
              options: [
                {name: "짐 호텔 보관", location: "전주시 완산구", details: "🧳 프론트 무료 보관 | ⏰ 당일 18시까지 | 💡 가벼운 관광 가능"},
                {name: "직접 체크아웃", location: "전주시 완산구", details: "🚗 차량에 짐 보관 | ⏰ 11시 전 체크아웃 | 💡 주차요금 확인"},
                {name: "연장 체크아웃", location: "전주시 완산구", details: "⏰ 12시까지 연장 | 💰 10,000~20,000원 추가 | 💡 사전 요청 필수"}
              ],
              details: "체크아웃 시간 준수, 짐 보관 서비스 이용 시 무료",
              cost: 0, saving: 0 },
            
            { id: 11, day: 2, time: "11:00", duration: 90, activity: "🍜 전주 점심맛집", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍲순대국밥", location: "전주시 완산구 남부시장", details: "🥇 조점례남문피순대: 순대국밥 9,000원, 피순대(소) 13,000원 | ⏰ 06:00-22:00 | 📍 남부시장 안 | 💡 피순대는 겉은 바삭, 속은 쫄깃 | ⭐ 전주 3대 순대 맛집"},
                {name: "🍜콩나물국밥", location: "전주시 완산구", details: "🥇 왱이집: 8,000원 | ⏰ 05:30-21:00 | 📍 중앙시장 | 💡 맵기 조절 가능, 수란 추가 1,000원\n🥈 현대옥: 8,000원 | ⏰ 05:30-15:00 | 📍 남부시장 | 💡 14시 마감 주의\n🥉 삼백집: 8,000원 | ⏰ 24시간 | 📍 효자동 | 💡 담백한 맛"},
                {name: "🍣한정식", location: "전주시 완산구 한옥마을", details: "🥇 호남각: 점심특선 15,000원 | ⏰ 11:30-14:00 | 📍 한옥마을 | 💡 20가지 반찬\n🥈 한국집: 돌솥비빔밥 12,000원 | ⏰ 11:00-21:00 | 📍 경기전 앞 | 💡 전주비빔밥 원조\n🥉 양반가: 백반정식 10,000원 | ⏰ 11:00-15:00 | 📍 전동성당 근처"},
                {name: "🍚비빔밥", location: "전주시 완산구 한옥마을", details: "🥇 전라도음식이야기: 전주비빔밥 10,000원 | ⏰ 10:00-21:00 | 📍 한옥마을 | 💡 육회비빔밥 +3,000원\n🥈 고궁: 돌솥비빔밥 12,000원 | ⏰ 10:00-22:00 | 📍 객사 근처 | 💡 프랜차이즈지만 전주가 원조"},
                {name: "☕브런치카페", location: "전주시 완산구 한옥마을", details: "☕ 한옥마을 브런치: 파스타 12,000원, 샐러드 10,000원 | ⏰ 10:00-21:00 | 📍 한옥마을 내\n🥐 수제버거: 수제버거 9,000원 | 📍 객사 근처 | 💡 젊은층 인기"}
              ],
              details: "🥇추천순위: ①조점례남문피순대(전주대표맛,남부시장안) ②왱이집(콩나물국밥맛집,맵기조절가능) ③호남각(전주한정식대표) | 📍위치: 조점례(남부시장), 왱이집/현대옥/삼백집(전주시내), 한정식집들(한옥마을근처) | ⏰운영: 조점례(6:00-22:00), 콩나물국밥집(11:00-21:00), 한정식(11:30-21:00)",
              cost: 9000, saving: 0 },
            
            { id: 12, day: 2, time: "13:00", duration: 60, activity: "전주 → 군산 이동", type: "transport", module: "🟣이동모듈", status: "✅현재선택",
              options: [
                {name: "자가용 직행", location: "전주시 → 군산시", details: "🚗 전주→군산 | ⏰ 1시간 | 💰 유료도로비 3,000원 + 주유비 10,000원 | 📍 21번 국도 이용 | 🅿️ 군산 공영주차장"},
                {name: "시외버스", location: "전주시 → 군산시", details: "🚌 전주시외버스터미널→군산터미널 | ⏰ 1시간 | 💰 5,400원 | 📍 20분 간격 운행 | 💡 버스타고 앱 예약"},
                {name: "택시", location: "전주시 → 군산시", details: "🚕 전주→군산 | ⏰ 50분 | 💰 약 50,000원 | 💡 4인 이용시 가성비 | 📞 콜택시 이용 추천"}
              ],
              details: "자가용: 1시간, 시외버스: 1시간(5,400원), 택시: 50,000원",
              cost: 5400, saving: 0 },
            
            { id: 13, day: 2, time: "14:30", duration: 90, activity: "🎬신흥동일본식가옥(히로시가옥) & 근대문화탐방", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "🎬신흥동일본식가옥", location: "군산시 신흥동", details: "🏯 영화 '타짜' 촬영지 | ⏰ 09:00-17:00 | 💰 성인 1,500원→전북투어패스 무료 | 📍 일제강점기 부호 저택 | 📸 다다미방, 일본정원 | 🎬 영화 속 그 장면 재현 가능 | 🏛️ 인접: 동국사(도보 5분), 초원사진관(3분)"},
                {name: "🏛️경암동철길마을", location: "군산시 경암동", details: "🚂 폐철길 따라 조성된 마을 | ⏰ 상시개방 | 💰 무료 | 📍 2.5km 철길 | 📸 철길 위 인생샷 | 🎨 벽화마을, 추억의 간식 | 🏛️ 인접: 경암동 철길마을역(시작점), 팔마광장(도보 10분)"},
                {name: "🏛️근대역사박물관", location: "군산시 해망로", details: "🏛️ 군산 근대사 전시 | ⏰ 09:00-18:00 | 💰 성인 3,000원→전북투어패스 무료 | 📍 3층 전망대 | 🎓 근대문화 체험 | 💡 통합권 구매시 할인 | 🏛️ 인접: 군산세관(바로 옆), 근대미술관(도보 2분), 장미갤러리(3분)"},
                {name: "🏛️군산세관", location: "군산시 해망로", details: "🏛️ 현존 최고 세관건물 | ⏰ 09:00-18:00 | 💰 성인 1,000원→전북투어패스 무료 | 📍 1908년 건축 | 📸 서양식 건축미 | 🎓 세관 역사 전시 | 🏛️ 인접: 근대역사박물관(바로 옆), 구 군산은행(2분)"},
                {name: "🌊진포해양공원", location: "군산시 내항", details: "⚓ 해군 함정 전시 | ⏰ 09:00-18:00 | 💰 무료 | 📍 위봉함 등 13척 | 📸 함정 내부 관람 | 👨‍👩‍👧‍👦 어린이 인기 | 🏛️ 인접: 군산내항(도보 5분), 짬뽕거리(10분)"}
              ],
              details: "신흥동일본식가옥(히로시가옥) 타짜 촬영지로 유명, 일본강점기 건축양식 체험 가능. 🔵전북투어패스 무료 입장! 💰절약 금액: 히로시가옥 성인 1,500원→무료. 인접 관광지가 많아 도보로 연계 관광 가능",
              cost: 0, saving: 1500 },
            
            { id: 14, day: 2, time: "16:00", duration: 90, activity: "군산 근대문화유산거리 투어", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "동국사+근대거리", location: "군산시 동국사길", details: "🏛️ 일제강점기 일본식 사찰 | ⏰ 09:00-18:00 | 💰 무료 | 📍 국내 유일 일본식 사찰 | 📸 대웅전, 종각 | 🙏 참배 체험 가능 | 🏛️ 인접: 히로시가옥(5분), 이영춘가옥(3분), 신흥동 일본식가옥거리"},
                {name: "구 군산세관+은행", location: "군산시 해망로", details: "🏛️ 1908년 건축 | ⏰ 09:00-18:00 | 💰 1,000원→전북투어패스 무료 | 📍 서양식 단층건물 | 📸 근대건축 대표 | 🎓 세관 역사 전시 | 🏛️ 인접: 구 조선은행(2분), 구 일본18은행(3분)"},
                {name: "장미갤러리+미술관", location: "군산시 장미동", details: "🎨 근대미술 전시 | ⏰ 10:00-18:00 | 💰 2,000원 | 📍 구 일본18은행 | 📸 아르데코 건축 | 🎨 기획전시 수시 변경 | 🏛️ 인접: 근대미술관(1분), 근대역사박물관(3분)"},
                {name: "근대미술관", location: "군산시 장미동", details: "🎨 옛 일본18은행 건물 | ⏰ 09:00-18:00 | 💰 무료 | 📍 장미동 | 📸 금고 전시실 | 🎨 근대 미술품 전시 | 🏛️ 인접: 장미갤러리(1분), 군산세관(3분)"},
                {name: "📸김치사진관", location: "군산시 월명동", details: "📸 추억의 사진관 | ⏰ 10:00-18:00 | 💰 사진촬영 10,000원~ | 📍 월명동 | 🎬 복고풍 컨셉 사진 | 📷 의상+소품 대여 포함 | 💡 예약 추천 | 🏛️ 인접: 월명공원(5분), 초원사진관(10분)"},
                {name: "초원사진관", location: "군산시 신흥동", details: "📸 8월의 크리스마스 촬영지 | ⏰ 09:00-18:00 | 💰 무료 | 📍 신흥동 | 📸 영화 속 그대로 보존 | 🎬 포토존 인기 | 🏛️ 인접: 히로시가옥(3분), 동국사(5분)"}
              ],
              details: "전북투어패스로 대부분 무료입장. 근대역사 체험 코스. 김치사진관에서 복고풍 사진 촬영 추천. 모든 관광지가 도보 10분 이내로 효율적 동선 가능",
              cost: 0, saving: 3000 },
            
            { id: 15, day: 2, time: "17:30", duration: 90, activity: "🚢🌊 선유도 방문", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "🏖️선유도해수욕장", location: "군산시 옥도면 선유도", details: "🏖️ 명사십리 해변 | ⏰ 상시개방 | 💰 무료 | 📍 고군산군도 대표 해변 | 🏊‍♀️ 여름 해수욕 | 🌅 서해 낙조 명소 | 🏛️ 인접: 망주봉(도보 20분), 선유대교(5분)"},
                {name: "🦞선유도활어회센터", location: "군산시 옥도면 선유도", details: "🦞 싱싱한 활어회 | ⏰ 10:00-22:00 | 💰 2인 50,000원~ | 📍 선착장 인근 | 🦑 제철 해산물 | 💡 공동구매 가능 | 🏛️ 인접: 선유도항(1분), 해수욕장(5분)"},
                {name: "🚢선유도유람선", location: "군산시 옥도면 선유도", details: "🚢 섬 일주 관광 | ⏰ 10:00-17:00(1시간 간격) | 💰 성인 15,000원 | 📍 선유도항 출발 | 🌊 고군산군도 전경 | 📸 갈매기 먹이주기 | 🏛️ 인접: 무녀도, 장자도 경유"},
                {name: "🌅망주봉일몰", location: "군산시 옥도면 선유도", details: "🌄 선유8경 중 1경 | ⏰ 상시개방 | 💰 무료 | 📍 도보 20분 | 📸 일몰 명소 | 💡 일몰 30분 전 도착 | 🏛️ 인접: 망주봉 전망대, 선유봉(15분)"},
                {name: "🌉선유대교산책", location: "군산시 옥도면 선유도", details: "🌉 선유1교, 2교 연결 | ⏰ 상시개방 | 💰 무료 | 📍 자전거 대여 10,000원 | 📸 다리 위 포토존 | 🚴‍♀️ 자전거 투어 인기 | 🏛️ 인접: 무녀도(선유2교 건너편), 장자도(선유1교)"}
              ],
              details: "선유도 관광. 일몰시간 맞춰 방문하면 환상적인 뷰. 날씨 확인 필수. 인접 섬들도 다리로 연결되어 도보/자전거 관광 가능",
              cost: 0, saving: 0 },
            
            { id: 16, day: 2, time: "19:00", duration: 60, activity: "선유도 일몰 감상", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "망주봉 일몰", location: "군산시 옥도면 선유도", details: "🌅 선유8경 최고 절경 | ⏰ 일몰 30분 전 도착 | 💰 무료 | 📍 정상까지 20분 | 📸 서해 낙조 파노라마 | 💡 삼각대 준비"},
                {name: "해변 산책", location: "군산시 옥도면 선유도", details: "🏖️ 명사십리 해변 | ⏰ 상시개방 | 💰 무료 | 📍 모래사장 2km | 🚶‍♀️ 맨발 산책 | 🌊 파도소리 힐링"},
                {name: "카페에서 여유", location: "군산시 옥도면 선유도", details: "☕ 선유도 카페 | ⏰ 10:00-21:00 | 💰 커피 5,000원 | 📍 해변가 카페 | 🌅 선셋뷰 테라스 | 📸 감성 사진"},
                {name: "선상에서 일몰", location: "군산시 옥도면 선유도", details: "🚢 유람선 일몰 크루즈 | ⏰ 18:00 출발 | 💰 20,000원 | 📍 1시간 코스 | 🌅 바다 위 일몰 | 📸 특별한 경험"}
              ],
              details: "선유도 대표 일몰 명소. 무료 관람. 망주봉이 최고 포인트지만 체력 고려해서 선택",
              cost: 0, saving: 0 },
            
            { id: 17, day: 2, time: "20:00", duration: 90, activity: "🍽️ 군산 저녁식사", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🔥매운짬뽕", location: "군산시 미원동", details: "🥇 지린성: 고추짜장 11,000원, 고추짬뽕 11,000원 | ⏰ 09:30-16:00(브레이크타임 15:00-16:00) | 📍 미원로 87 | 💡 웨이팅 30분 예상, 화요일 휴무 | 🌶️ 매운맛 단계 선택 가능 | ⭐ 백종원의 3대천왕 출연"},
                {name: "🍜전통짬뽕", location: "군산시 짬뽕거리", details: "🥇 복성루: 짬뽕 10,000원, 볶음밥 10,000원 | ⏰ 10:30-20:30 | 📍 짬뽕거리 | 💡 군산 3대 짬뽕, 해물 듬뿍 | 🦑 오징어, 새우 신선\n🥈 빈해원: 해물짬뽕 12,000원 | ⏰ 10:00-21:00 | 📍 중앙로 | 💡 국물이 진하고 시원함"},
                {name: "🦀꽃게요리", location: "군산시 해망동", details: "🥇 궁전꽃게장: 간장게장 35,000원/kg | ⏰ 11:00-21:00 | 📍 해망동 | 💡 신선한 암게만 사용, 양념이 일품 | 🍚 공기밥 무한리필 | ⭐ 군산 대표 꽃게장 맛집\n🥈 대가꽃게장: 간장게장 30,000원/kg | ⏰ 10:30-21:30 | 📍 해망로 | 💡 암게만 사용, 살이 꽉 참\n🥉 계곡가든: 꽃게탕(2인) 62,000원 | ⏰ 11:00-21:00 | 📍 개정면 | 💡 꽃게찜도 인기"},
                {name: "☕디저트카페", location: "군산시 월명동", details: "☕ 군산 카페거리: 수제케이크 6,000원, 커피 4,500원 | ⏰ 10:00-22:00 | 📍 월명동\n🍰 초원사진관 카페: 팥빙수 8,000원 | 📍 신흥동 | 💡 영화 촬영지 카페"},
                {name: "💡간편식", location: "군산시", details: "🏪 편의점도시락: 4,000~6,000원 | ⏰ 24시간 | 💡 시간 절약\n🏨 호텔 룸서비스: 15,000~25,000원 | ⏰ 룸서비스 시간 확인"}
              ],
              details: "🥇추천순위: ①궁전꽃게장(군산대표맛집,신선한암게) ②지린성(웨이팅30분,고추맛특화) ③복성루(군산3대짬뽕,전통맛) | 📍위치: 궁전꽃게장(해망동), 지린성(미원로87), 복성루(짬뽕거리) | ⏰운영: 궁전꽃게장(11:00-21:00), 지린성(9:30-16:00,화요일휴무)",
              cost: 11000, saving: 0 },
            
            { id: 18, day: 2, time: "22:00", duration: 480, activity: "군산 숙박", type: "hotel", module: "🔵숙박모듈", status: "✅현재선택",
              options: [
                {name: "짬뽕거리 호텔", location: "군산시 짬뽕거리", details: "🏨 베스트웨스턴군산호텔 | 💰 80,000~120,000원 | 📍 짬뽕거리 도보 5분 | 🍳 조식 포함 | 🚗 무료주차 | 💡 군산 시내 중심"},
                {name: "군산 시내 모텔", location: "군산시 나운동", details: "🏩 깨끗한 모텔 | 💰 50,000~70,000원 | 📍 터미널 주변 | 🚗 주차 가능 | 💡 가성비 숙박"},
                {name: "리조트/펜션", location: "군산시 옥도면 선유도", details: "🏖️ 선유도 펜션 | 💰 100,000~150,000원 | 📍 바다 전망 | 🍖 바베큐 가능 | 👨‍👩‍👧‍👦 가족 단위 추천"},
                {name: "게스트하우스", location: "군산시 월명동", details: "🏠 군산 게스트하우스 | 💰 30,000~50,000원 | 📍 근대문화거리 | 👥 다인실/개인실 | 🍳 공용주방 | 💡 배낭여행자 선호"}
              ],
              details: "짬뽕거리 근처 숙박 추천. 1박 60,000~80,000원. 다음날 이성당 방문 편리한 위치",
              cost: 70000, saving: 0 },

            // Day 3
            { id: 19, day: 3, time: "08:00", duration: 60, activity: "🍽️ 군산 아침식사", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍚호텔조식", location: "군산시", details: "🏨 호텔뷔페: 15,000~20,000원 | ⏰ 06:30-09:30 | 💡 한식/양식 선택 가능 | 🍳 라이브 스테이션\n🏠 룸서비스: 10,000~15,000원 | ⏰ 07:00-10:00 | 💡 편안한 식사"},
                {name: "🍜전통아침", location: "군산시", details: "🥇 군산짬뽕: 8,000원 | ⏰ 09:00-20:00 | 📍 복성루, 빈해원 | 💡 아침 짬뽕 해장\n🥈 콩나물국밥: 7,000원 | ⏰ 06:00-22:00 | 📍 24시 콩나물국밥\n🥉 미역국: 9,000원 | ⏰ 07:00-20:00 | 📍 생일상 미역국"},
                {name: "🥞간단식사", location: "군산시", details: "🍞 토스트: 3,000원 | 📍 이삭토스트 | ⏰ 07:00-22:00\n🥪 샌드위치: 5,000원 | 📍 서브웨이 | ⏰ 08:00-23:00\n🥣 죽: 6,000원 | 📍 본죽 | ⏰ 07:00-22:00"},
                {name: "☕모닝카페", location: "군산시 중앙로", details: "☕ 이성당 카페: 빵+커피 8,000원 | ⏰ 08:00-22:00 | 📍 이성당 본점\n🥐 군산 베이커리: 빵+음료 7,000원 | 📍 시내 곳곳 | 💡 갓 구운 빵"},
                {name: "💡스킵옵션", location: "-", details: "⏰ 바로 출발하여 시간 절약 | 🍪 간식으로 대체 | 💡 이성당에서 빵 구매 예정"}
              ],
              details: "🥇추천순위: ①호텔조식(편리하고 든든함) ②군산짬뽕(현지대표맛) ③이성당카페(빵+커피) | 📍위치: 호텔조식(짬뽕거리), 전통식당(군산시내) | ⏰운영: 호텔조식(06:30-09:30), 전통식당(06:00-10:00)",
              cost: 7000, saving: 0 },
            
            { id: 20, day: 3, time: "09:30", duration: 30, activity: "체크아웃 & 짐 정리", type: "hotel", module: "🔵체크아웃모듈", status: "✅현재선택",
              options: [
                {name: "정시 체크아웃", location: "군산시", details: "⏰ 11시 정시 체크아웃 | 🧳 짐 정리 확인 | 💡 미니바 정산"},
                {name: "연장 체크아웃", location: "군산시", details: "⏰ 12시까지 연장 | 💰 10,000~20,000원 추가 | 💡 프론트 사전 문의"},
                {name: "짐 호텔 보관", location: "군산시", details: "🧳 프론트 보관 | ⏰ 당일 18시까지 | 💰 무료 | 💡 관광 후 수령"},
                {name: "차량 이동", location: "군산시", details: "🚗 체크아웃 후 차량 보관 | 🅿️ 주차장 이동 | 💡 주차권 확인"}
              ],
              details: "체크아웃 후 짐 차량 보관 또는 호텔 보관 서비스 이용",
              cost: 0, saving: 0 },
            
            { id: 21, day: 3, time: "10:30", duration: 60, activity: "이성당 명물빵 구매 & 카페", type: "special", module: "🟠명물모듈", status: "✅현재선택",
              options: [
                {name: "이성당 본점", location: "군산시 중앙로", details: "🥐 1945년 창업 대한민국 최초 빵집 | ⏰ 08:00-22:00 | 📍 중앙로 | 🥖 야채빵 2,500원, 단팥빵 3,000원 | 💡 오전 일찍 가야 빵 종류 다양 | ⭐ 줄서기 필수 | 🏛️ 인접: 이성당 신관(바로 옆), 근대역사박물관(도보 10분)"},
                {name: "이성당 신관카페", location: "군산시 중앙로", details: "☕ 베이커리 카페 | ⏰ 09:00-22:00 | 📍 본점 옆 | ☕ 커피 5,000원 + 빵 | 🪑 2층 좌석 여유 | 📸 인테리어 포토존 | 🏛️ 인접: 이성당 본점(바로 옆)"},
                {name: "PNB풍년제과", location: "군산시 월명로", details: "🥖 1951년 창업 | ⏰ 08:00-21:00 | 📍 월명로 | 🥐 초코파이 원조 | 💰 찹쌀도너츠 2,000원 | 💡 현지인 추천 | 🏛️ 인접: 월명공원(5분), 월명체육관(3분)"},
                {name: "군산 특산품샵", location: "군산시", details: "🎁 군산 특산품 | ⏰ 09:00-20:00 | 📍 시내 곳곳 | 🦑 박대 구이, 젓갈 | 💰 선물세트 20,000원~ | 📦 택배 가능"},
                {name: "☕군산카페거리", location: "군산시 월명동", details: "☕ 감성카페들 | ⏰ 10:00-22:00 | 📍 월명동 일대 | 💰 커피 4,500원, 디저트 6,000원 | 📸 인스타 명소 | 🏛️ 인접: 월명공원, 근대건축물들"}
              ],
              details: "이성당 대표 단팥빵 3,000원, 카페에서 커피 5,000원 추가. 군산 대표 명물. 인근에 카페거리도 있어 선택지 다양",
              cost: 8000, saving: 0 },
            
            { id: 22, day: 3, time: "12:00", duration: 90, activity: "🍜 군산 점심식사", type: "food", module: "🟢식사모듈", status: "✅현재선택",
              options: [
                {name: "🍜짬뽕대표", location: "군산시 짬뽕거리", details: "🥇 복성루: 전통짬뽕 10,000원 | ⏰ 10:30-20:30 | 📍 짬뽕거리 | 💡 군산 3대 짬뽕, 국물이 시원 | 🦑 해물 신선\n🥈 빈해원: 해물짬뽕 12,000원 | ⏰ 10:00-21:00 | 💡 국물 진함\n🥉 지린성: 고추짬뽕 11,000원 | ⏰ 09:30-16:00 | 💡 매운맛, 웨이팅"},
                {name: "🍞빵카페", location: "군산시 중앙로", details: "☕ 이성당 신관: 빵+커피세트 8,000원 | ⏰ 09:00-22:00 | 📍 이성당 본점 옆 | 💡 브런치 메뉴\n🥐 PNB풍년제과: 빵+음료 6,000원 | ⏰ 08:00-21:00 | 💡 찹쌀도너츠 인기"},
                {name: "🍱한식", location: "군산시 나운동", details: "🥘 군산회관: 아구찜 25,000원(2인) | ⏰ 11:00-21:00 | 📍 나운동 | 💡 매콤한 양념\n🍚 산성식당: 백반 8,000원 | ⏰ 11:00-20:00 | 📍 월명동 | 💡 가정식 백반"},
                {name: "☕브런치카페", location: "군산시 월명동", details: "☕ 군산 브런치: 파스타 12,000원, 샐러드 10,000원 | ⏰ 10:00-21:00 | 📍 월명동\n🥪 수제버거: 수제버거 9,000원 | 📍 나운동 | 💡 젊은층 인기"},
                {name: "💡간편식", location: "군산시", details: "🍱 도시락: 5,000~8,000원 | 📍 편의점 | 💡 이동 중 식사\n🍜 컵라면: 2,000~3,000원 | 📍 휴게소 | 💡 시간 절약"}
              ],
              details: "🥇추천순위: ①복성루(군산3대짬뽕,전통맛) ②지린성(고추맛특화,웨이팅예상) ③이성당신관카페(빵+커피콤보,여유로운시간) | 📍위치: 짬뽕집(짬뽕거리), 이성당(미원로), 현지식당(군산시내) | ⏰운영: 짬뽕집(10:00-16:00), 카페(09:00-22:00), 현지식당(11:00-21:00)",
              cost: 10000, saving: 0 },
            
            { id: 23, day: 3, time: "13:30", duration: 90, activity: "🏛️📸 군산 마지막 관광", type: "tour", module: "🟡관광모듈", status: "✅현재선택",
              options: [
                {name: "군산내항", location: "군산시 내항", details: "🚢 근대산업유산 | ⏰ 상시개방 | 💰 무료 | 📍 부잔교, 뜬다리 | 📸 레트로 감성 | ☕ 카페거리 | 🏛️ 인접: 근대역사박물관(5분), 진포해양공원(10분)"},
                {name: "진포해양테마공원", location: "군산시 내항", details: "⚓ 퇴역 군함 전시 | ⏰ 09:00-18:00 | 💰 무료 | 📍 위봉함 등 13척 | 👨‍👩‍👧‍👦 가족 관광 | 📸 함정 포토존 | 🏛️ 인접: 군산내항(10분), 짬뽕거리(15분)"},
                {name: "경암동철길마을", location: "군산시 경암동", details: "🚂 추억의 철길 | ⏰ 상시개방 | 💰 무료 | 📍 2.5km 철길 | 📸 인생샷 명소 | 🍡 추억의 간식 | 🏛️ 인접: 팔마광장(10분)"},
                {name: "근대역사박물관", location: "군산시 해망로", details: "🏛️ 군산 역사 | ⏰ 09:00-18:00 | 💰 3,000원→전북투어패스 무료 | 📍 3층 전망대 | 🎓 역사 체험 | 💡 마지막 정리 | 🏛️ 인접: 군산세관, 근대미술관"},
                {name: "월명공원", location: "군산시 월명동", details: "🌳 도심 속 공원 | ⏰ 상시개방 | 💰 무료 | 📍 벚꽃터널(봄) | 🏛️ 수시탑, 진포대첩비 | 🚶‍♀️ 산책로 | 🏛️ 인접: 월명체육관, 카페거리"}
              ],
              details: "마지막 군산 추억 만들기. 전북투어패스로 무료입장 (일반 3,000원 → 무료). 인접 관광지 다수로 효율적 동선 가능",
              cost: 0, saving: 2000 },
            
            { id: 24, day: 3, time: "15:00", duration: 150, activity: "군산 → 수원 출발", type: "transport", module: "🟣이동모듈", status: "✅현재선택",
              options: [
                {name: "자가용 직행", location: "군산시 → 수원시", details: "🚗 군산→수원 | ⏰ 2시간 30분 | 💰 유료도로비 15,000원 + 주유비 25,000원 | 📍 서해안고속도로 | 🚙 휴게소 휴식"},
                {name: "고속버스", location: "군산시 → 수원시", details: "🚌 군산→수원 | ⏰ 3시간 | 💰 12,000원 | 📍 2시간 간격 운행 | 🎫 버스타고 앱 예약 | 💺 우등버스 +4,000원"},
                {name: "KTX(서대전경유)", location: "군산시 → 수원시", details: "🚄 군산→익산→서대전→수원 | ⏰ 3시간 | 💰 35,000원 | 📍 환승 2회 | 🎫 코레일톡 예약 | 💡 빠르지만 비쌈"}
              ],
              details: "자가용: 2시간 30분, 고속버스: 3시간(12,000원), KTX: 3시간(35,000원)",
              cost: 12000, saving: 0 },
            
            { id: 25, day: 3, time: "17:30", duration: 120, activity: "수원 도착 & 마무리", type: "special", module: "🟠마무리모듈", status: "✅현재선택",
              options: [
                {name: "집에서 휴식", location: "수원시", details: "🏠 여행 피로 회복 | 🛁 온수 목욕 | 📸 사진 정리 | 💡 추억 회상"},
                {name: "헬스장 운동", location: "수원시", details: "💪 여행 중 못한 운동 | ⏰ 저녁 시간대 | 🏃‍♀️ 유산소 위주 | 💡 가벼운 강도"},
                {name: "공원 산책", location: "수원시", details: "🚶‍♀️ 가벼운 산책 | 🌳 근처 공원 | 🌅 저녁 산책 | 💡 여행 마무리"},
                {name: "마트 쇼핑", location: "수원시", details: "🛒 일상 복귀 준비 | 🥬 장보기 | 🍱 간단한 저녁 | 💡 일상으로 전환"},
                {name: "☕카페 정리", location: "수원시", details: "☕ 동네 카페 | 📸 사진 정리 | 📝 여행 기록 | 💡 추억 정리"}
              ],
              details: "여행 마무리 후 개인 시간. 비용 없음",
              cost: 0, saving: 0 },

            // Alternative options (Day 0)
            { id: 26, day: 0, time: "대체", duration: 120, activity: "전주 추가 관광지", type: "tour", module: "🟡대체관광모듈", status: "⭕대체옵션",
              options: [
                {name: "전주동물원", location: "전주시 덕진구", details: "🦁 도심 속 동물원 | ⏰ 09:00-18:00 | 💰 성인 1,500원→전북투어패스 무료 | 📍 덕진구 | 🐘 100여종 동물 | 👨‍👩‍👧‍👦 가족 관광 | 🏛️ 인접: 덕진공원(바로 옆), 전북대(10분)"},
                {name: "덕진공원", location: "전주시 덕진구", details: "🌸 연꽃 명소 | ⏰ 상시개방 | 💰 무료 | 📍 덕진호수 | 🚣‍♀️ 오리배 대여 | 🌷 계절별 꽃 축제 | 🏛️ 인접: 전주동물원(바로 옆), 전북대(10분)"},
                {name: "한지산업지원센터", location: "전주시 덕진구", details: "📜 한지 체험 | ⏰ 09:00-18:00 | 💰 체험 10,000원 | 📍 한지 제작 과정 | 🎨 한지공예 체험 | 💡 예약 필수"},
                {name: "전주향교+완판본문화관", location: "전주시 완산구", details: "📚 조선시대 교육기관 | ⏰ 09:00-18:00 | 💰 무료 | 📍 한옥마을 인근 | 🎓 대성전, 명륜당 | 🏛️ 인접: 완판본문화관(5분), 한벽당(10분)"},
                {name: "자만벽화마을", location: "전주시 완산구", details: "🎨 벽화마을 | ⏰ 상시개방 | 💰 무료 | 📍 오목대 인근 | 📸 포토존 다수 | 🏛️ 인접: 오목대(5분), 이목대(8분)"}
              ],
              details: "전북투어패스로 대부분 무료 (최대 6,000원 절약). 한옥마을 외 전주 관광지",
              cost: 0, saving: 6000 },
            
            { id: 27, day: 0, time: "대체", duration: 90, activity: "군산 추가 관광지", type: "tour", module: "🟡대체관광모듈", status: "⭕대체옵션",
              options: [
                {name: "근대미술관", location: "군산시 장미동", details: "🎨 근대 미술 전시 | ⏰ 09:00-18:00 | 💰 무료 | 📍 구 일본18은행 | 🏛️ 근대건축물 | 📸 금고실 포토존"},
                {name: "채만식문학관", location: "군산시 금강변", details: "📚 문학관 | ⏰ 09:00-18:00 | 💰 1,000원→전북투어패스 무료 | 📍 금강변 | 📖 탁류 작가 | 🌊 금강 전망"},
                {name: "은파호수공원", location: "군산시 나운동", details: "🏞️ 도심 호수공원 | ⏰ 상시개방 | 💰 무료 | 📍 물빛다리 | 🚶‍♀️ 산책로 | 🎵 음악분수"},
                {name: "새만금방조제", location: "군산시 새만금", details: "🌊 세계 최장 방조제 | ⏰ 상시개방 | 💰 무료 | 📍 33.9km | 🚗 드라이브 코스 | 📸 일몰 명소"},
                {name: "고군산군도", location: "군산시 옥도면", details: "🏝️ 섬 여행 | ⏰ 상시 | 💰 다리 통행료 무료 | 📍 무녀도, 신시도, 장자도 | 🚗 드라이브 | 🦞 해산물"}
              ],
              details: "전북투어패스로 일부 무료 (1,500원 절약). 시간 여유 있을 때 추가 관광",
              cost: 0, saving: 1500 } ];

        let editMode = false;
        let currentFilter = 'all';
        let nextId = 28;
        let currentAddDay = 1;
        let currentEditItemId = null;
        let currentOptionsModalItemId = null;

        let selectedOptions = [];
        let isMultiSelectMode = false;

        function init() {
            loadFromStorage();
            loadAutoCalculateSetting();
            renderSchedule();
            updateStats();
            setupAutoSave();
        }

        function loadFromStorage() {
            const saved = localStorage.getItem('travelPlannerData');
            const savedNextId = localStorage.getItem('travelPlannerNextId');
            
            if (savedNextId) {
                nextId = parseInt(savedNextId);
            }
            
            if (saved) {
                try {
                    travelData = JSON.parse(saved);
                } catch (e) {
                    console.error('Error loading saved data:', e);
                }
            }
        }

        function saveSchedule() {
            localStorage.setItem('travelPlannerData', JSON.stringify(travelData));
            localStorage.setItem('travelPlannerNextId', nextId.toString());
            showSaveIndicator();
        }

        function toggleEditMode() {
            editMode = !editMode;
            renderSchedule();
        }

        function renderSchedule() {
            const containers = {
                0: document.getElementById('day0'),
                1: document.getElementById('day1'),
                2: document.getElementById('day2'),
                3: document.getElementById('day3')
            };

            Object.values(containers).forEach(container => {
                if (container) container.innerHTML = '';
            });

            if (editMode) {
                [0, 1, 2, 3].forEach(day => {
                    const addButton = createAddModuleButton(day);
                    containers[day].appendChild(addButton);
                });
            }

            [0, 1, 2, 3].forEach(day => {
                const dayItems = travelData
                    .filter(item => item.day === day && shouldShowItem(item))
                    .sort((a, b) => {
                        if (day === 0) return 0;
                        return timeToMinutes(a.time) - timeToMinutes(b.time);
                    });

                dayItems.forEach((item, index) => {
                    const itemElement = createItemElement(item, index);
                    containers[day].appendChild(itemElement);
                });
            });
        }

        function createAddModuleButton(day) {
            const div = document.createElement('div');
            div.className = 'add-module-btn rounded-lg';
            div.onclick = () => showAddModuleModal(day);
            
            div.innerHTML = `
                <i class="fas fa-plus-circle text-3xl text-blue-600 mb-2"></i>
                <div class="text-blue-700 text-lg mb-2">+ 새 일정 추가</div>
                <div class="text-sm text-gray-600">클릭하여 상세 일정 추가</div>
            `;
            return div;
        }

        function timeToMinutes(time) {
            if (!time || time === '대체') return 0;
            const [hours, minutes] = time.split(':').map(Number);
            return hours * 60 + minutes;
        }

        function shouldShowItem(item) {
            if (currentFilter === 'all') return true;
            return item.type === currentFilter;
        }

        function getModuleClass(type) {
            const classes = {
                'food': 'module-food',
                'tour': 'module-tour',
                'hotel': 'module-hotel',
                'transport': 'module-transport',
                'special': 'module-special'
            };
            return classes[type] || '';
        }

        function createItemElement(item, index) {
            const div = document.createElement('div');
            div.className = `option-card mb-4 p-4 border-2 rounded-lg transition-all duration-300 ${getModuleClass(item.type)} ${editMode ? 'edit-mode' : ''}`;
            div.dataset.id = item.id;

            div.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <span class="time-display">
                        <i class="fas fa-clock"></i>
                        ${item.time}
                    </span>
                    <span class="duration-badge">
                        <i class="fas fa-hourglass-half"></i> ${item.duration}분
                    </span>
                </div>
                <h4 class="font-bold text-gray-800 text-lg">${item.activity}</h4>
                <div class="text-sm text-gray-600 mb-2">${item.details}</div>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded-full">💰 ${item.cost.toLocaleString()}원</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded-full">💚 ${item.saving.toLocaleString()}원 절약</span>
                </div>
            `;

            return div;
        }

        function updateStats() {
            const totalSavings = travelData.reduce((sum, item) => sum + item.saving, 0);
            const totalBudget = travelData.reduce((sum, item) => sum + item.cost, 0);
            const totalItems = travelData.length;
            const editedItems = travelData.filter(item => item.edited).length;

            document.getElementById('totalSavings').textContent = `₩${totalSavings.toLocaleString()}`;
            document.getElementById('totalBudget').textContent = `₩${totalBudget.toLocaleString()}`;
            document.getElementById('totalItems').textContent = totalItems;
            document.getElementById('editedItems').textContent = editedItems;
        }

        // Add more functions as needed from previous conversations

        // Call init
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
